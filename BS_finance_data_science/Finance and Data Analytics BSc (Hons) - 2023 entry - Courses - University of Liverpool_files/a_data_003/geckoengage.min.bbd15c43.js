var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof=(!function(e,t){function H(e,t){return t.toUpperCase()}function _(){a.addEventListener?(a.removeEventListener("DOMContentLoaded",q,!1),e.removeEventListener("load",q,!1)):(a.detachEvent("onreadystatechange",q),e.detachEvent("onload",q))}var n,r,i=void 0===t?"undefined":_typeof(t),o=e.location,a=e.document,s=a.documentElement,l=e.jQuery,u=e.$,c={},p=[],f="1.10.2",d=p.concat,h=p.push,g=p.slice,m=p.indexOf,y=c.toString,v=c.hasOwnProperty,b=f.trim,x=function x(e,t){return new x.fn.init(e,t,r)},w=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=/\S+/g,C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,k=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^[\],:{}\s]*$/,S=/(?:^|:|,)(?:\s*\[)+/g,A=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,j=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,D=/^-ms-/,L=/-([\da-z])/gi,q=function(e){!a.addEventListener&&"load"!==e.type&&"complete"!==a.readyState||(_(),x.ready())};function M(e){var t=e.length,n=x.type(e);return!x.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&(0===t||"number"==typeof t&&0<t&&t-1 in e)))}x.fn=x.prototype={jquery:f,constructor:x,init:function(e,n,r){var i,o;if(!e)return this;if("string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),x.makeArray(e,this));if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:N.exec(e))||!i[1]&&n)return(!n||n.jquery?n||r:this.constructor(n)).find(e);if(i[1]){if(n=n instanceof x?n[0]:n,x.merge(this,x.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:a,!0)),k.test(i[1])&&x.isPlainObject(n))for(i in n)x.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if((o=a.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=a,this.selector=e,this},selector:"",length:0,toArray:function(){return g.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){e=x.merge(this.constructor(),e);return e.prevObject=this,e.context=this.context,e},each:function(e,t){return x.each(this,e,t)},ready:function(e){return x.ready.promise().done(e),this},slice:function(){return this.pushStack(g.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var n,r,i,o,e,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==(void 0===s?"undefined":_typeof(s))||x.isFunction(s)||(s={}),u===l&&(s=this,--l);l<u;l++)if(null!=(o=arguments[l]))for(i in o)e=s[i],s!==(r=o[i])&&(c&&r&&(x.isPlainObject(r)||(n=x.isArray(r)))?(e=n?(n=!1,e&&x.isArray(e)?e:[]):e&&x.isPlainObject(e)?e:{},s[i]=x.extend(c,e,r)):r!==t&&(s[i]=r));return s},x.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===x&&(e.$=u),t&&e.jQuery===x&&(e.jQuery=l),x},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0)},ready:function(e){if(!0===e?!--x.readyWait:!x.isReady){if(!a.body)return setTimeout(x.ready);(x.isReady=!0)!==e&&0<--x.readyWait||(n.resolveWith(a,[x]),x.fn.trigger&&x(a).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===x.type(e)},isArray:Array.isArray||function(e){return"array"===x.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==(void 0===e?"undefined":_typeof(e))||"function"==typeof e?c[y.call(e)]||"object":void 0===e?"undefined":_typeof(e)},isPlainObject:function(e){if(!e||"object"!==x.type(e)||e.nodeType||x.isWindow(e))return!1;try{if(e.constructor&&!v.call(e,"constructor")&&!v.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(x.support.ownLast)for(var n in e)return v.call(e,n);for(n in e);return n===t||v.call(e,n)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||a;var r=k.exec(e),n=!n&&[];return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,n),n&&x(n).remove(),x.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&((n=x.trim(n))&&E.test(n.replace(A,"@").replace(j,"]").replace(S,"")))?Function("return "+n)():(x.error("Invalid JSON: "+n),t)},parseXML:function(n){var r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?r=(new DOMParser).parseFromString(n,"text/xml"):((r=new ActiveXObject("Microsoft.XMLDOM")).async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&x.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(D,"ms-").replace(L,H)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i=0,o=e.length,a=M(e);if(n){if(a)for(;i<o&&!1!==t.apply(e[i],n);i++);else for(i in e)if(!1===t.apply(e[i],n))break}else if(a)for(;i<o&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:b&&!b.call("\ufeffÂ ")?function(e){return null==e?"":b.call(e)}:function(e){return null==e?"":(e+"").replace(C,"")},makeArray:function(e,t){t=t||[];return null!=e&&(M(Object(e))?x.merge(t,"string"==typeof e?[e]:e):h.call(t,e)),t},inArray:function(e,t,n){var r;if(t){if(m)return m.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;o<r;o++)e[i++]=n[o];else for(;n[o]!==t;)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var i=[],o=0,a=e.length;for(n=!!n;o<a;o++)n!==!!t(e[o],o)&&i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,s=[];if(M(e))for(;i<o;i++)null!=(r=t(e[i],i,n))&&(s[s.length]=r);else for(i in e)null!=(r=t(e[i],i,n))&&(s[s.length]=r);return d.apply([],s)},guid:1,proxy:function(e,n){var r,o;return"string"==typeof n&&(o=e[n],n=e,e=o),x.isFunction(e)?(r=g.call(arguments,2),(o=function(){return e.apply(n||this,r.concat(g.call(arguments)))}).guid=e.guid=e.guid||x.guid++,o):t},access:function(e,n,r,i,o,a,s){var l=0,u=e.length,c=null==r;if("object"===x.type(r))for(l in o=!0,r)x.access(e,n,l,r[l],!0,a,s);else if(i!==t&&(o=!0,x.isFunction(i)||(s=!0),n=c?s?(n.call(e,i),null):(c=n,function(e,t,_n2){return c.call(x(e),_n2)}):n))for(;l<u;l++)n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)));return o?e:c?n.call(e):u?n(e[0],r):a},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in n=n.apply(e,r||[]),t)e.style[o]=a[o];return n}}),x.ready.promise=function(t){if(!n)if(n=x.Deferred(),"complete"===a.readyState)setTimeout(x.ready);else if(a.addEventListener)a.addEventListener("DOMContentLoaded",q,!1),e.addEventListener("load",q,!1);else{a.attachEvent("onreadystatechange",q),e.attachEvent("onload",q);var r=!1;try{r=null==e.frameElement&&a.documentElement}catch(i){}r&&r.doScroll&&function o(){if(!x.isReady){try{r.doScroll("left")}catch(e){return setTimeout(o,50)}_(),x.ready()}}()}return n.promise(t)},x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()}),r=x(a),function(e,t){var n,r,i,o,a,s,l,u,c,p,f,d,h,g,m,y,v,b="sizzle"+-new Date,w=e.document,T=0,C=0,N=st(),k=st(),E=st(),S=!1,A=function(e,t){return e===t&&(S=!0),0},j="undefined",L={}.hasOwnProperty,H=[],q=H.pop,_=H.push,M=H.push,O=H.slice,F=H.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",W=R.replace("w","w#"),$="\\["+P+"*("+R+")"+P+"*(?:([*^$|!~]?=)"+P+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+W+")|)|)"+P+"*\\]",I=":("+R+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+$.replace(3,8)+")*)|.*)\\)|)",z=RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),X=RegExp("^"+P+"*,"+P+"*"),U=RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),V=RegExp(P+"*[+~]"),Y=RegExp("="+P+"*([^\\]'\"]*)"+P+"*\\]","g"),J=RegExp(I),G=RegExp("^"+W+"$"),Q={ID:RegExp("^#("+R+")"),CLASS:RegExp("^\\.("+R+")"),TAG:RegExp("^("+R.replace("w","w*")+")"),ATTR:RegExp("^"+$),PSEUDO:RegExp("^"+I),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:RegExp("^(?:"+B+")$","i"),needsContext:RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(65536+r):String.fromCharCode(55296|r>>10,56320|1023&r)};try{M.apply(H=O.call(w.childNodes),w.childNodes),H[w.childNodes.length].nodeType}catch(ot){M={apply:H.length?function(e,t){_.apply(e,O.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function at(e,t,n,i){var l,u,c,a,m,o,s;if((t?t.ownerDocument||t:w)!==f&&p(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(l=(t=t||f).nodeType)&&9!==l)return[];if(h&&!i){if(o=Z.exec(e))if(s=o[1]){if(9===l){if(!(a=t.getElementById(s))||!a.parentNode)return n;if(a.id===s)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&v(t,a)&&a.id===s)return n.push(a),n}else{if(o[2])return M.apply(n,t.getElementsByTagName(e)),n;if((s=o[3])&&r.getElementsByClassName&&t.getElementsByClassName)return M.apply(n,t.getElementsByClassName(s)),n}if(r.qsa&&(!g||!g.test(e))){if(m=a=b,o=t,s=9===l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){for(c=mt(e),(a=t.getAttribute("id"))?m=a.replace(nt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",u=c.length;u--;)c[u]=m+yt(c[u]);o=V.test(e)&&t.parentNode||t,s=c.join(",")}if(s)try{return M.apply(n,o.querySelectorAll(s)),n}catch(T){}finally{a||t.removeAttribute("id")}}}return kt(e.replace(z,"$1"),t,n,i)}function st(){var e=[];function t(n,r){return e.push(n+=" ")>o.cacheLength&&delete t[e.shift()],t[n]=r}return t}function lt(e){return e[b]=!0,e}function ut(e){var t=f.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function ct(e,t){for(var n=e.split("|"),r=e.length;r--;)o.attrHandle[n[r]]=t}function pt(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ht(e){return lt(function(t){return t=+t,lt(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}for(n in s=at.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},r=at.support={},p=at.setDocument=function(e){var n=e?e.ownerDocument||e:w,e=n.defaultView;return n!==f&&9===n.nodeType&&n.documentElement?(d=(f=n).documentElement,h=!s(n),e&&e.attachEvent&&e!==e.top&&e.attachEvent("onbeforeunload",function(){p()}),r.attributes=ut(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=ut(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=ut(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),r.getById=ut(function(e){return d.appendChild(e).id=b,!n.getElementsByName||!n.getElementsByName(b).length}),r.getById?(o.find.ID=function(e,t){if(_typeof(t.getElementById)!==j&&h)return(t=t.getElementById(e))&&t.parentNode?[t]:[]},o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute("id")===t}}):(delete o.find.ID,o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){e=_typeof(e.getAttributeNode)!==j&&e.getAttributeNode("id");return e&&e.value===t}}),o.find.TAG=r.getElementsByTagName?function(e,n){return _typeof(n.getElementsByTagName)!==j?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[i++];)1===n.nodeType&&r.push(n);return r},o.find.CLASS=r.getElementsByClassName&&function(e,n){return _typeof(n.getElementsByClassName)!==j&&h?n.getElementsByClassName(e):t},m=[],g=[],(r.qsa=K.test(n.querySelectorAll))&&(ut(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||g.push("\\["+P+"*(?:value|"+B+")"),e.querySelectorAll(":checked").length||g.push(":checked")}),ut(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&g.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(r.matchesSelector=K.test(y=d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ut(function(e){r.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),m.push("!=",I)}),g=g.length&&RegExp(g.join("|")),m=m.length&&RegExp(m.join("|")),v=K.test(d.contains)||d.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=d.compareDocumentPosition?function(e,t){if(e===t)return S=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!r.sortDetached&&t.compareDocumentPosition(e)===i?e===n||v(w,e)?-1:t===n||v(w,t)?1:c?F.call(c,e)-F.call(c,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t)return S=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:c?F.call(c,e)-F.call(c,t):0;if(o===a)return pt(e,t);for(r=e;r=r.parentNode;)s.unshift(r);for(r=t;r=r.parentNode;)l.unshift(r);for(;s[i]===l[i];)i++;return i?pt(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},n):f},at.matches=function(e,t){return at(e,null,null,t)},at.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&p(e),t=t.replace(Y,"='$1']"),!(!r.matchesSelector||!h||m&&m.test(t)||g&&g.test(t)))try{var n=y.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return 0<at(t,f,null,[e]).length},at.contains=function(e,t){return(e.ownerDocument||e)!==f&&p(e),v(e,t)},at.attr=function(e,n){(e.ownerDocument||e)!==f&&p(e);var i=o.attrHandle[n.toLowerCase()],i=i&&L.call(o.attrHandle,n.toLowerCase())?i(e,n,!h):t;return i===t?r.attributes||!h?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null:i},at.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},at.uniqueSort=function(e){var t,n=[],i=0,o=0;if(S=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(A),S){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return e},a=at.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=a(t);return n},(o=at.selectors={cacheLength:50,createPseudo:lt,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||"").replace(rt,it),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||at.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&at.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&J.test(r)&&(n=mt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=N[e+" "];return t||(t=RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&N(e,function(e){return t.test("string"==typeof e.className&&e.className||_typeof(e.getAttribute)!==j&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){r=at.attr(r,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&-1<r.indexOf(n):"$="===t?n&&r.slice(-n.length)===n:"~="===t?-1<(" "+r+" ").indexOf(n):"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,p,f,d,h,g=o!=a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(m){if(o){for(;g;){for(p=t;p=p[g];)if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){for(d=(u=(c=m[b]||(m[b]={}))[e]||[])[0]===T&&u[1],f=u[0]===T&&u[2],p=d&&m.childNodes[d];p=++d&&p&&p[g]||(f=d=0)||h.pop();)if(1===p.nodeType&&++f&&p===t){c[e]=[T,d,f];break}}else if(v&&(u=(t[b]||(t[b]={}))[e])&&u[0]===T)f=u[1];else for(;(p=++d&&p&&p[g]||(f=d=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++f||(v&&((p[b]||(p[b]={}))[e]=[T,f]),p!==t)););return(f-=i)===r||0==f%r&&0<=f/r}}},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||at.error("unsupported pseudo: "+e);return r[b]?r(t):1<r.length?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?lt(function(e,n){for(var i,o=r(e,t),a=o.length;a--;)e[i=F.call(e,o[a])]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:lt(function(e){var t=[],n=[],r=l(e.replace(z,"$1"));return r[b]?lt(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:lt(function(e){return function(t){return 0<at(e,t).length}}),contains:lt(function(e){return function(t){return-1<(t.textContent||t.innerText||a(t)).indexOf(e)}}),lang:lt(function(e){return G.test(e||"")||at.error("unsupported lang: "+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;do{if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if("@"<e.nodeName||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:ht(function(){return[0]}),last:ht(function(e,t){return[t-1]}),eq:ht(function(e,t,n){return[n<0?n+t:n]}),even:ht(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ht(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ht(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:ht(function(e,t,n){for(var r=n<0?n+t:n;t>++r;)e.push(r);return e})}}).pseudos.nth=o.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[n]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(n);for(n in{submit:!0,reset:!0})o.pseudos[n]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(n);function gt(){}function mt(e,t){var n,r,i,a,s,l,u,c=k[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=o.preFilter;s;){for(a in n&&!(r=X.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(i=[])),n=!1,(r=U.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(z," ")}),s=s.slice(n.length)),o.filter)!(r=Q[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?at.error(e):k(e,l).slice(0)}function yt(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function vt(e,t,n){var r=t.dir,o=n&&"parentNode"===r,a=C++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,s){var l,u,c,p=T+" "+a;if(s){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||o)if((u=(c=t[b]||(t[b]={}))[r])&&u[0]===p){if(!0===(l=u[1])||l===i)return!0===l}else if((u=c[r]=[p])[1]=e(t,n,s)||i,!0===u[1])return!0}}function bt(e){return 1<e.length?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xt(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)!(o=e[s])||n&&!n(o,r,i)||(a.push(o),u&&t.push(s));return a}function wt(e,t,n,r,i,o){return r&&!r[b]&&(r=wt(r)),i&&!i[b]&&(i=wt(i,o)),lt(function(o,a,s,l){var u,c,p,f=[],d=[],h=a.length,g=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)at(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:xt(g,f,e,s,l),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,l),r)for(u=xt(y,d),r(u,[],s,l),c=u.length;c--;)(p=u[c])&&(y[d[c]]=!(m[d[c]]=p));if(o){if(i||e){if(i){for(u=[],c=y.length;c--;)(p=y[c])&&u.push(m[c]=p);i(null,y=[],u,l)}for(c=y.length;c--;)(p=y[c])&&-1<(u=i?F.call(o,p):f[c])&&(o[u]=!(a[u]=p))}}else y=xt(y===a?y.splice(h,y.length):y),i?i(null,a,y,l):M.apply(a,y)})}function Tt(e){for(var t,n,r,i=e.length,a=o.relative[e[0].type],s=a||o.relative[" "],l=a?1:0,c=vt(function(e){return e===t},s,!0),p=vt(function(e){return-1<F.call(t,e)},s,!0),f=[function(e,n,r){return!a&&(r||n!==u)||((t=n).nodeType?c:p)(e,n,r)}];l<i;l++)if(n=o.relative[e[l].type])f=[vt(bt(f),n)];else{if((n=o.filter[e[l].type].apply(null,e[l].matches))[b]){for(r=++l;r<i&&!o.relative[e[r].type];r++);return wt(1<l&&bt(f),1<l&&yt(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,l<r&&Tt(e.slice(l,r)),r<i&&Tt(e=e.slice(r)),r<i&&yt(e))}f.push(n)}return bt(f)}function Ct(e,t){function s(_s,l,c,p,d){var h,g,m,y=[],v=0,b="0",x=_s&&[],w=null!=d,C=u,N=_s||a&&o.find.TAG("*",d&&l.parentNode||l),k=T+=null==C?1:Math.random()||.1;for(w&&(u=l!==f&&l,i=n);null!=(h=N[b]);b++){if(a&&h){for(g=0;m=e[g++];)if(m(h,l,c)){p.push(h);break}w&&(T=k,i=++n)}r&&((h=!m&&h)&&v--,_s&&x.push(h))}if(v+=b,r&&b!==v){for(g=0;m=t[g++];)m(x,y,l,c);if(_s){if(0<v)for(;b--;)x[b]||y[b]||(y[b]=q.call(p));y=xt(y)}M.apply(p,y),w&&!_s&&0<y.length&&1<v+t.length&&at.uniqueSort(p)}return w&&(T=k,u=C),x}var n=0,r=0<t.length,a=0<e.length;return r?lt(s):s}function kt(e,t,n,i){var a,s,u,c,p,f=mt(e);if(!i&&1===f.length){if(2<(s=f[0]=f[0].slice(0)).length&&"ID"===(u=s[0]).type&&r.getById&&9===t.nodeType&&h&&o.relative[s[1].type]){if(!(t=(o.find.ID(u.matches[0].replace(rt,it),t)||[])[0]))return n;e=e.slice(s.shift().value.length)}for(a=Q.needsContext.test(e)?0:s.length;a--&&(u=s[a],!o.relative[c=u.type]);)if((p=o.find[c])&&(i=p(u.matches[0].replace(rt,it),V.test(s[0].type)&&t.parentNode||t))){if(s.splice(a,1),e=i.length&&yt(s))break;return M.apply(n,i),n}}return l(e,f)(i,t,!h,n,V.test(e)),n}gt.prototype=o.filters=o.pseudos,o.setFilters=new gt,l=at.compile=function(e,t){var n,r=[],i=[],o=E[e+" "];if(!o){for(n=(t=t||mt(e)).length;n--;)((o=Tt(t[n]))[b]?r:i).push(o);o=E(e,Ct(i,r))}return o},r.sortStable=b.split("").sort(A).join("")===b,r.detectDuplicates=S,p(),r.sortDetached=ut(function(e){return 1&e.compareDocumentPosition(f.createElement("div"))}),ut(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ct("type|href|height|width",function(e,n,r){return r?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),r.attributes&&ut(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ct("value",function(e,n,r){return r||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),ut(function(e){return null==e.getAttribute("disabled")})||ct(B,function(e,n,r){return r?t:(r=e.getAttributeNode(n))&&r.specified?r.value:!0===e[n]?n.toLowerCase():null}),x.find=at,x.expr=at.selectors,x.expr[":"]=x.expr.pseudos,x.unique=at.uniqueSort,x.text=at.getText,x.isXMLDoc=at.isXML,x.contains=at.contains}(e);var O={};x.Callbacks=function(e){e="string"==typeof e?O[e]||function(e){var t=O[e]={};return x.each(e.match(T)||[],function(e,n){t[n]=!0}),t}(e):x.extend({},e);function c(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=l.length,n=!0;l&&a<o;a++)if(!1===l[a].apply(t[0],t[1])&&e.stopOnFalse){r=!1;break}n=!1,l&&(u?u.length&&c(u.shift()):r?l=[]:p.disable())}var n,r,i,o,a,s,l=[],u=!e.once&&[],p={add:function(){var t;return l&&(t=l.length,function i(t){x.each(t,function(t,n){var r=x.type(n);"function"===r?e.unique&&p.has(n)||l.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),n?o=l.length:r&&(s=t,c(r))),this},remove:function(){return l&&x.each(arguments,function(e,t){for(var r;-1<(r=x.inArray(t,l,r));)l.splice(r,1),n&&(r<=o&&o--,r<=a&&a--)}),this},has:function(e){return e?-1<x.inArray(e,l):!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=u=r=t,this},disabled:function(){return!l},lock:function(){return u=t,r||p.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||i&&!u||(t=[e,(t=t||[]).slice?t.slice():t],n?u.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},x.extend({Deferred:function(e){var t=[["resolve","done",x.Callbacks("once memory"),"resolved"],["reject","fail",x.Callbacks("once memory"),"rejected"],["notify","progress",x.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,o){var a=o[0],s=x.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},i={};return r.pipe=r.then,x.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){function a(e,t,n){return function(r){t[e]=this,n[e]=1<arguments.length?g.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}}var s,l,u,t=0,n=g.call(arguments),r=n.length,i=1!==r||e&&x.isFunction(e.promise)?r:0,o=1===i?e:x.Deferred();if(1<r)for(s=Array(r),l=Array(r),u=Array(r);t<r;t++)n[t]&&x.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(o.reject).progress(a(t,l,s)):--i;return i||o.resolveWith(u,n),o.promise()}}),x.support=function(t){var n,r,o,s,u,c,p,f,d=a.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],!(r=d.getElementsByTagName("a")[0])||!r.style||!n.length)return t;u=(s=a.createElement("select")).appendChild(a.createElement("option")),o=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized="/a"===r.getAttribute("href"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!o.value,t.optSelected=u.selected,t.enctype=!!a.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==a.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!u.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}for(f in(o=a.createElement("input")).setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),(u=a.createDocumentFragment()).appendChild(o),t.appendChecked=o.checked,t.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click()),{submit:!0,change:!0,focusin:!0})d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||!1===d.attributes[c].expando;for(f in d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip,x(t))break;return t.ownLast="0"!==f,x(function(){var n,o,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",l=a.getElementsByTagName("body")[0];l&&((n=a.createElement("div")).style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",l.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(o=d.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=p&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",x.swap(l,null!=l.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,(o=d.appendChild(a.createElement("div"))).style.cssText=d.style.cssText=s,o.style.marginRight=o.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),_typeof(d.style.zoom)!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(l.style.zoom=1)),l.removeChild(n),d=null)}),n=s=u=r=o=null,t}({});var B=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;function R(e,n,r,i){if(x.acceptData(e)){var o,s=x.expando,l=e.nodeType,u=l?x.cache:e,c=l?e[s]:e[s]&&s;if(c&&u[c]&&(i||u[c].data)||r!==t||"string"!=typeof n)return u[c=c||(l?e[s]=p.pop()||x.guid++:s)]||(u[c]=l?{}:{toJSON:x.noop}),"object"!=(void 0===n?"undefined":_typeof(n))&&"function"!=typeof n||(i?u[c]=x.extend(u[c],n):u[c].data=x.extend(u[c].data,n)),e=u[c],i||(e.data||(e.data={}),e=e.data),r!==t&&(e[x.camelCase(n)]=r),"string"==typeof n?null==(o=e[n])&&(o=e[x.camelCase(n)]):o=e,o}}function W(e,t,n){if(x.acceptData(e)){var r,i,o=e.nodeType,a=o?x.cache:e,s=o?e[x.expando]:x.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){i=(t=x.isArray(t)?t.concat(x.map(t,x.camelCase)):t in r?[t]:(t=x.camelCase(t))in r?[t]:t.split(" ")).length;for(;i--;)delete r[t[i]];if(n?!I(r):!x.isEmptyObject(r))return}(n||(delete a[s].data,I(a[s])))&&(o?x.cleanData([e],!0):x.support.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function $(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(P,"-$1").toLowerCase();if("string"==typeof(r=e.getAttribute(i))){try{r="true"===r||"false"!==r&&("null"===r?null:+r+""===r?+r:B.test(r)?x.parseJSON(r):r)}catch(o){}x.data(e,n,r)}else r=t}return r}function I(e){for(var t in e)if(("data"!==t||!x.isEmptyObject(e[t]))&&"toJSON"!==t)return;return 1}x.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?x.cache[e[x.expando]]:e[x.expando])&&!I(e)},data:function(e,t,n){return R(e,t,n)},removeData:function(e,t){return W(e,t)},_data:function(e,t,n){return R(e,t,n,!0)},_removeData:function(e,t){return W(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&x.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),x.fn.extend({data:function(e,n){var r,i,o=null,a=0,s=this[0];if(e!==t)return"object"==(void 0===e?"undefined":_typeof(e))?this.each(function(){x.data(this,e)}):1<arguments.length?this.each(function(){x.data(this,e,n)}):s?$(s,e,x.data(s,e)):null;if(this.length&&(o=x.data(s),1===s.nodeType&&!x._data(s,"parsedAttrs"))){for(r=s.attributes;r.length>a;a++)0===(i=r[a].name).indexOf("data-")&&$(s,i=x.camelCase(i.slice(5)),o[i]);x._data(s,"parsedAttrs",!0)}return o},removeData:function(e){return this.each(function(){x.removeData(this,e)})}}),x.extend({queue:function(e,n,r){var i;return e?(i=x._data(e,n=(n||"fx")+"queue"),r&&(!i||x.isArray(r)?i=x._data(e,n,x.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){x.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return x._data(e,n)||x._data(e,n,{empty:x.Callbacks("once memory").add(function(){x._removeData(e,t+"queue"),x._removeData(e,n)})})}}),x.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?x.queue(this[0],e):n===t?this:this.each(function(){var t=x.queue(this,e,n);x._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},delay:function(e,t){return e=x.fx&&x.fx.speeds[e]||e,this.queue(t=t||"fx",function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){function l(){--i||o.resolveWith(a,[a])}var r,i=1,o=x.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)(r=x._data(a[s],e+"queueHooks"))&&r.empty&&(i++,r.empty.add(l));return l(),o.promise(n)}});var z,X,U=/[\t\r\n\f]/g,V=/\r/g,Y=/^(?:input|select|textarea|button|object)$/i,J=/^(?:a|area)$/i,G=/^(?:checked|selected)$/i,Q=x.support.getSetAttribute,K=x.support.input,Z=(x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})},prop:function(e,t){return x.access(this,x.prop,e,t,1<arguments.length)},removeProp:function(e){return e=x.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,l="string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(T)||[];a<s;a++)if(r=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(U," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=x.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(T)||[];a<s;a++)if(r=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(U," "):"")){for(o=0;i=t[o++];)for(;0<=r.indexOf(" "+i+" ");)r=r.replace(" "+i+" "," ");n.className=e?x.trim(r):""}return this},toggleClass:function(e,t){var n=void 0===e?"undefined":_typeof(e);return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,o=x(this),a=e.match(T)||[];t=a[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else n!==i&&"boolean"!==n||(this.className&&x._data(this,"__className__",this.className),this.className=!this.className&&!1!==e&&x._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(U," ").indexOf(t))return!0;return!1},val:function(e){var n,r,i,o=this[0];return arguments.length?(i=x.isFunction(e),this.each(function(n){1===this.nodeType&&(null==(n=i?e.call(this,n,x(this).val()):e)?n="":"number"==typeof n?n+="":x.isArray(n)&&(n=x.map(n,function(e){return null==e?"":e+""})),(r=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&r.set(this,n,"value")!==t||(this.value=n))})):o?(r=x.valHooks[o.type]||x.valHooks[o.nodeName.toLowerCase()])&&"get"in r&&(n=r.get(o,"value"))!==t?n:"string"==typeof(n=o.value)?n.replace(V,""):null==n?"":n:void 0}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,l=i<0?s:o?i:0;l<s;l++)if(!(!(n=r[l]).selected&&l!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&x.nodeName(n.parentNode,"optgroup"))){if(n=x(n).val(),o)return n;a.push(n)}return a},set:function(e,t){for(var n,r,i=e.options,o=x.makeArray(t),a=i.length;a--;)((r=i[a]).selected=0<=x.inArray(x(r).val(),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,r){var o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return _typeof(e.getAttribute)===i?x.prop(e,n,r):(1===s&&x.isXMLDoc(e)||(n=n.toLowerCase(),o=x.attrHooks[n]||(x.expr.match.bool.test(n)?X:z)),r===t?o&&"get"in o&&null!==(a=o.get(e,n))?a:null==(a=x.find.attr(e,n))?t:a:null!==r?o&&"set"in o&&(a=o.set(e,r,n))!==t?a:(e.setAttribute(n,r+""),r):(x.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(T);if(o&&1===e.nodeType)for(;n=o[i++];)r=x.propFix[n]||n,x.expr.match.bool.test(n)?K&&Q||!G.test(n)?e[r]=!1:e[x.camelCase("default-"+n)]=e[r]=!1:x.attr(e,n,""),e.removeAttribute(Q?n:r)},attrHooks:{type:{set:function(e,t){var n;if(!x.support.radioValue&&"radio"===t&&x.nodeName(e,"input"))return n=e.value,e.setAttribute("type",t),n&&(e.value=n),t}}},propFix:{for:"htmlFor",class:"className"},prop:function(e,n,r){var i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return(1!==s||!x.isXMLDoc(e))&&(n=x.propFix[n]||n,o=x.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):Y.test(e.nodeName)||J.test(e.nodeName)&&e.href?0:-1}}}}),X={set:function(e,t,n){return!1===t?x.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&x.propFix[n]||n,n):e[x.camelCase("default-"+n)]=e[n]=!0,n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,n){var r=x.expr.attrHandle[n]||x.find.attr;x.expr.attrHandle[n]=K&&Q||!G.test(n)?function(e,n,i){var o=x.expr.attrHandle[n],e=i?t:(x.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return x.expr.attrHandle[n]=o,e}:function(e,n,r){return r?t:e[x.camelCase("default-"+n)]?n.toLowerCase():null}}),K&&Q||(x.attrHooks.value={set:function(e,n,r){return x.nodeName(e,"input")?(e.defaultValue=n,t):z&&z.set(e,n,r)}}),Q||(z={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},x.expr.attrHandle.id=x.expr.attrHandle.name=x.expr.attrHandle.coords=function(e,n,r){return r?t:(r=e.getAttributeNode(n))&&""!==r.value?r.value:null},x.valHooks.button={get:function(e,n){e=e.getAttributeNode(n);return e&&e.specified?e.value:t},set:z.set},x.attrHooks.contenteditable={set:function(e,t,n){z.set(e,""!==t&&t,n)}},x.each(["width","height"],function(e,n){x.attrHooks[n]={set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}}})),x.support.hrefNormalized||x.each(["href","src"],function(e,t){x.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),x.support.style||(x.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),x.support.optSelected||(x.propHooks.selected={get:function(e){e=e.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.support.enctype||(x.propFix.enctype="encoding"),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,n){return x.isArray(n)?e.checked=0<=x.inArray(x(e).val(),n):t}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),/^(?:input|select|textarea)$/i),et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return!0}function ot(){return!1}function at(){try{return a.activeElement}catch(e){}}x.event={global:{},add:function(e,n,r,o,a){var l,u,c,p,f,h,g,s,y,v=x._data(e);if(v)for(r.handler&&(r=(c=r).handler,a=c.selector),r.guid||(r.guid=x.guid++),(l=v.events)||(l=v.events={}),(f=v.handle)||((f=v.handle=function(e){return(void 0===x?"undefined":_typeof(x))===i||e&&x.event.triggered===e.type?t:x.event.dispatch.apply(f.elem,arguments)}).elem=e),u=(n=(n||"").match(T)||[""]).length;u--;)g=y=(s=rt.exec(n[u])||[])[1],s=(s[2]||"").split(".").sort(),g&&(p=x.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=x.event.special[g]||{},y=x.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&x.expr.match.needsContext.test(a),namespace:s.join(".")},c),(h=l[g])||((h=l[g]=[]).delegateCount=0,p.setup&&!1!==p.setup.call(e,o,s,f)||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,y),y.handler.guid||(y.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,y):h.push(y),x.event.global[g]=!0)},remove:function(e,t,n,r,i){var o,a,s,l,u,c,p,f,d,h,g,m=x.hasData(e)&&x._data(e);if(m&&(c=m.events)){for(u=(t=(t||"").match(T)||[""]).length;u--;)if(d=g=(s=rt.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),d){for(p=x.event.special[d]||{},f=c[d=(r?p.delegateType:p.bindType)||d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;o--;)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a));l&&!f.length&&(p.teardown&&!1!==p.teardown.call(e,h,m.handle)||x.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)x.event.remove(e,d+t[u],n,r,!0);x.isEmptyObject(c)&&(delete m.handle,x._removeData(e,"events"))}},trigger:function(n,r,i,o){var s,l,c,p,f,d,h=[i||a],g=v.call(n,"type")?n.type:n,m=v.call(n,"namespace")?n.namespace.split("."):[],u=f=i=i||a;if(3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+x.event.triggered)&&(0<=g.indexOf(".")&&(g=(m=g.split(".")).shift(),m.sort()),l=g.indexOf(":")<0&&"on"+g,(n=n[x.expando]?n:new x.Event(g,"object"==(void 0===n?"undefined":_typeof(n))&&n)).isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:x.makeArray(r,[n]),p=x.event.special[g]||{},o||!p.trigger||!1!==p.trigger.apply(i,r))){if(!o&&!p.noBubble&&!x.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(u=u.parentNode);u;u=u.parentNode)h.push(u),f=u;f===(i.ownerDocument||a)&&h.push(f.defaultView||f.parentWindow||e)}for(d=0;(u=h[d++])&&!n.isPropagationStopped();)n.type=1<d?c:p.bindType||g,(s=(x._data(u,"events")||{})[n.type]&&x._data(u,"handle"))&&s.apply(u,r),(s=l&&u[l])&&x.acceptData(u)&&s.apply&&!1===s.apply(u,r)&&n.preventDefault();if(n.type=g,!o&&!n.isDefaultPrevented()&&(!p._default||!1===p._default.apply(h.pop(),r))&&x.acceptData(i)&&l&&i[g]&&!x.isWindow(i)){(f=i[l])&&(i[l]=null),x.event.triggered=g;try{i[g]()}catch(y){}x.event.triggered=t,f&&(i[l]=f)}return n.result}},dispatch:function(e){e=x.event.fix(e);var n,i,o,a,s,l=g.call(arguments),u=(x._data(this,"events")||{})[e.type]||[],c=x.event.special[e.type]||{};if((l[0]=e).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(s=x.event.handlers.call(this,e,u),n=0;(o=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,a=0;(i=o.handlers[a++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(i.namespace)||(e.handleObj=i,e.data=i.data,(i=((x.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l))!==t&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],l=n.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(o=[],a=0;a<l;a++)o[r=(i=n[a]).selector+" "]===t&&(o[r]=i.needsContext?0<=x(r,this).index(u):x.find(r,this,null,[u]).length),o[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[x.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new x.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=o.srcElement||a),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,o,s=n.button,l=n.fromElement;return null==e.pageX&&null!=n.clientX&&(o=(i=e.target.ownerDocument||a).documentElement,i=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&l&&(e.relatedTarget=l===e.target?n.toElement:l),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==at()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===at()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return x.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return x.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){e=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?x.event.trigger(e,null,t):x.event.dispatch.call(t,e),e.isDefaultPrevented()&&n.preventDefault()}},x.removeEvent=a.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){t="on"+t;e.detachEvent&&(_typeof(e[t])===i&&(e[t]=null),e.detachEvent(t,n))},x.Event=function(e,n){return this instanceof x.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&x.extend(this,n),this.timeStamp=e&&e.timeStamp||x.now(),this[x.expando]=!0,t):new x.Event(e,n)},x.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},x.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,o=e.handleObj;return i&&(i===this||x.contains(this,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),x.support.submitBubbles||(x.event.special.submit={setup:function(){return!x.nodeName(this,"form")&&(x.event.add(this,"click._submit keypress._submit",function(e){e=e.target,e=x.nodeName(e,"input")||x.nodeName(e,"button")?e.form:t;e&&!x._data(e,"submitBubbles")&&(x.event.add(e,"submit._submit",function(e){e._submit_bubble=!0}),x._data(e,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&x.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!x.nodeName(this,"form")&&(x.event.remove(this,"._submit"),t)}}),x.support.changeBubbles||(x.event.special.change={setup:function(){return Z.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(x.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),x.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),x.event.simulate("change",this,e,!0)})),!1):(x.event.add(this,"beforeactivate._change",function(e){e=e.target;Z.test(e.nodeName)&&!x._data(e,"changeBubbles")&&(x.event.add(e,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||x.event.simulate("change",this.parentNode,e,!0)}),x._data(e,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return x.event.remove(this,"._change"),!Z.test(this.nodeName)}}),x.support.focusinBubbles||x.each({focus:"focusin",blur:"focusout"},function(e,t){function r(e){x.event.simulate(t,e.target,x.event.fix(e),!0)}var n=0;x.event.special[t]={setup:function(){0==n++&&a.addEventListener(e,r,!0)},teardown:function(){0==--n&&a.removeEventListener(e,r,!0)}}}),x.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==(void 0===e?"undefined":_typeof(e))){for(a in"string"!=typeof n&&(r=r||n,n=t),e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),!1===i)i=ot;else if(!i)return this;return 1===o&&(s=i,(i=function(e){return x().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=x.guid++)),this.each(function(){x.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=(void 0===e?"undefined":_typeof(e)))return!1!==n&&"function"!=typeof n||(r=n,n=t),!1===r&&(r=ot),this.each(function(){x.event.remove(this,e,r,n)});for(o in e)this.off(o,n,e[o]);return this},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?x.event.trigger(e,n,r,!0):t}});var st=/^.[^:#\[\.,]*$/,lt=/^(?:parents|prev(?:Until|All))/,ut=x.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};function pt(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function ft(e,t,n){if(x.isFunction(t))return x.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return x.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(st.test(t))return x.filter(t,e,n);t=x.filter(t,e)}return x.grep(e,function(e){return 0<=x.inArray(e,t)!==n})}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}x.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;t<i;t++)if(x.contains(r[t],this))return!0}));for(t=0;t<i;t++)x.find(e,r[t],n);return(n=this.pushStack(1<i?x.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=x(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(x.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e||[],!0))},filter:function(e){return this.pushStack(ft(this,e||[],!1))},is:function(e){return!!ft(this,"string"==typeof e&&ut.test(e)?x(e):e||[],!1).length},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ut.test(e)||"string"!=typeof e?x(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&x.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(1<o.length?x.unique(o):o)},index:function(e){return e?"string"==typeof e?x.inArray(this[0],x(e)):x.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){t="string"==typeof e?x(e,t):x.makeArray(e&&e.nodeType?[e]:e),e=x.merge(this.get(),t);return this.pushStack(x.unique(e))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),x.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return x.dir(e,"parentNode")},parentsUntil:function(e,t,n){return x.dir(e,"parentNode",n)},next:function(e){return pt(e,"nextSibling")},prev:function(e){return pt(e,"previousSibling")},nextAll:function(e){return x.dir(e,"nextSibling")},prevAll:function(e){return x.dir(e,"previousSibling")},nextUntil:function(e,t,n){return x.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return x.dir(e,"previousSibling",n)},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return x.sibling(e.firstChild)},contents:function(e){return x.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:x.merge([],e.childNodes)}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return(r="Until"!==e.slice(-5)?n:r)&&"string"==typeof r&&(i=x.filter(r,i)),1<this.length&&(ct[e]||(i=x.unique(i)),lt.test(e)&&(i=i.reverse())),this.pushStack(i)}}),x.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){for(var i=[],o=e[n];o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!x(o).is(r));)1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Ct=/^(?:checkbox|radio)$/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:x.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Dt=dt(a).appendChild(a.createElement("div"));function Lt(e,t){return x.nodeName(e,"table")&&x.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Ht(e){return e.type=(null!==x.find.attr(e,"type"))+"/"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _t(e,t){for(var n,r=0;null!=(n=e[r]);r++)x._data(n,"globalEval",!t||x._data(t[r],"globalEval"))}function Mt(e,t){if(1===t.nodeType&&x.hasData(e)){var n,r,i,e=x._data(e),a=x._data(t,e),s=e.events;if(s)for(n in delete a.handle,a.events={},s)for(r=0,i=s[n].length;r<i;r++)x.event.add(t,n,s[n][r]);a.data&&(a.data=x.extend({},a.data))}}function Ft(e,n){var r,o,a=0,s=_typeof(e.getElementsByTagName)!==i?e.getElementsByTagName(n||"*"):_typeof(e.querySelectorAll)!==i?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++)!n||x.nodeName(o,n)?s.push(o):x.merge(s,Ft(o,n));return n===t||n&&x.nodeName(e,n)?x.merge([e],s):s}function Bt(e){Ct.test(e.type)&&(e.defaultChecked=e.checked)}At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===t?x.text(this):this.empty().append((this[0]&&this[0].ownerDocument||a).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Lt(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Lt(this,e)).insertBefore(e,t.firstChild)})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?x.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||x.cleanData(Ft(n)),n.parentNode&&(t&&x.contains(n.ownerDocument,n)&&_t(Ft(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&x.cleanData(Ft(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&x.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return x.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(gt,""):t;if(!("string"!=typeof e||Tt.test(e)||!x.support.htmlSerialize&&mt.test(e)||!x.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;r<i;r++)1===(n=this[r]||{}).nodeType&&(x.cleanData(Ft(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),x(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=d.apply([],e);var r,i,o,a,s,l,u=0,c=this.length,p=this,f=c-1,h=e[0],g=x.isFunction(h);if(g||!(c<=1||"string"!=typeof h||x.support.checkClone)&&Nt.test(h))return this.each(function(r){var i=p.eq(r);g&&(e[0]=h.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(r=(l=x.buildFragment(e,this[0].ownerDocument,!1,!n&&this)).firstChild,1===l.childNodes.length&&(l=r),r)){for(o=(a=x.map(Ft(l,"script"),Ht)).length;u<c;u++)i=l,u!==f&&(i=x.clone(i,!0,!0),o&&x.merge(a,Ft(i,"script"))),t.call(this[u],i,u);if(o)for(s=a[a.length-1].ownerDocument,x.map(a,qt),u=0;u<o;u++)i=a[u],kt.test(i.type||"")&&!x._data(i,"globalEval")&&x.contains(s,i)&&(i.src?x._evalUrl(i.src):x.globalEval((i.text||i.textContent||i.innerHTML||"").replace(St,"")));l=r=null}return this}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){for(var n,r=0,i=[],o=x(e),a=o.length-1;r<=a;r++)n=r===a?this:this.clone(!0),x(o[r])[t](n),h.apply(i,n.get());return this.pushStack(i)}}),x.extend({clone:function(e,t,n){var r,i,o,a,s,l=x.contains(e.ownerDocument,e);if(x.support.html5Clone||x.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(x.support.noCloneEvent&&x.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(r=Ft(o),s=Ft(e),a=0;null!=(i=s[a]);++a)r[a]&&function(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!x.support.noCloneEvent&&t[x.expando]){for(r in(i=x._data(t)).events)x.removeEvent(t,r,i.handle);t.removeAttribute(x.expando)}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),x.support.html5Clone&&e.innerHTML&&!x.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ct.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}(i,r[a]);if(t)if(n)for(s=s||Ft(e),r=r||Ft(o),a=0;null!=(i=s[a]);a++)Mt(i,r[a]);else Mt(e,o);return 0<(r=Ft(o,"script")).length&&_t(r,!l&&Ft(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,u,c,p=e.length,f=dt(t),d=[],h=0;h<p;h++)if((o=e[h])||0===o)if("object"===x.type(o))x.merge(d,o.nodeType?[o]:o);else if(wt.test(o)){for(s=s||f.appendChild(t.createElement("div")),l=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[l]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!x.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!x.support.tbody)for(i=(o="table"!==l||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild)&&o.childNodes.length;i--;)x.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(x.merge(d,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else d.push(t.createTextNode(o));for(s&&f.removeChild(s),x.support.appendChecked||x.grep(Ft(d,"input"),Bt),h=0;o=d[h++];)if((!r||-1===x.inArray(o,r))&&(a=x.contains(o.ownerDocument,o),s=Ft(f.appendChild(o),"script"),a&&_t(s),n))for(i=0;o=s[i++];)kt.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,r,o,a,s=0,l=x.expando,u=x.cache,c=x.support.deleteExpando,f=x.event.special;null!=(n=e[s]);s++)if((t||x.acceptData(n))&&(a=(o=n[l])&&u[o])){if(a.events)for(r in a.events)f[r]?x.event.remove(n,r):x.removeEvent(n,r,a.handle);u[o]&&(delete u[o],c?delete n[l]:_typeof(n.removeAttribute)!==i?n.removeAttribute(l):n[l]=null,p.push(o))}},_evalUrl:function(e){return x.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}}),x.fn.extend({wrapAll:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapAll(e.call(this,t))}):(this[0]&&(t=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)),this);var t},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=x.isFunction(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){x.nodeName(this,"body")||x(this).replaceWith(this.childNodes)}).end()}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+w+")(.*)$","i"),Yt=RegExp("^("+w+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+w+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];function tn(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;i--;)if((t=en[i]+n)in e)return t;return r}function nn(e,t){return"none"===x.css(e=t||e,"display")||!x.contains(e.ownerDocument,e)}function rn(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(o[a]=x._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=x._data(r,"olddisplay",ln(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&x._data(r,"olddisplay",i?n:x.css(r,"display"))));for(a=0;a<s;a++)!(r=e[a]).style||t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none");return e}function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function an(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=x.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=x.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=x.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=x.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=x.css(e,"border"+Zt[o]+"Width",!0,i)));return a}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(((i=Wt(e,t,o))<0||null==i)&&(i=e.style[t]),Yt.test(i))return i;r=a&&(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"}function ln(e){var t=a,n=Gt[e];return n||("none"!==(n=un(e,t))&&n||((t=((Pt=(Pt||x("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement))[0].contentWindow||Pt[0].contentDocument).document).write("<!doctype html><html><body>"),t.close(),n=un(e,t),Pt.detach()),Gt[e]=n),n}function un(e,t){e=x(t.createElement(e)).appendTo(t.body),t=x.css(e[0],"display");return e.remove(),t}x.fn.extend({css:function(e,n){return x.access(this,function(e,n,r){var i,o,a={},s=0;if(x.isArray(n)){for(o=Rt(e),i=n.length;s<i;s++)a[n[s]]=x.css(e,n[s],!1,o);return a}return r!==t?x.style(e,n,r):x.css(e,n)},e,n,1<arguments.length)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){nn(this)?x(this).show():x(this).hide()})}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(t=Wt(e,"opacity"))?"1":t}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:x.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=x.camelCase(n),u=e.style;if(n=x.cssProps[l]||(x.cssProps[l]=tn(u,l)),s=x.cssHooks[n]||x.cssHooks[l],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:u[n];if("string"===(a=void 0===r?"undefined":_typeof(r))&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(x.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||x.cssNumber[l]||(r+="px"),x.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{u[n]=r}catch(c){}}},css:function(e,n,r,i){var a,l=x.camelCase(n);return n=x.cssProps[l]||(x.cssProps[l]=tn(e.style,l)),"normal"===(a=(a=(l=x.cssHooks[n]||x.cssHooks[l])&&"get"in l?l.get(e,!0,r):a)===t?Wt(e,n,i):a)&&n in Kt&&(a=Kt[n]),""===r||r?(l=parseFloat(a),!0===r||x.isNumeric(l)?l||0:a):a}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var a,r=r||Rt(e),l=r?r.getPropertyValue(n)||r[n]:t,u=e.style;return r&&(""!==l||x.contains(e.ownerDocument,e)||(l=x.style(e,n)),Yt.test(l)&&Ut.test(n)&&(e=u.width,n=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=r.width,u.width=e,u.minWidth=n,u.maxWidth=a)),l}):a.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,r=r||Rt(e),r=r?r[n]:t,u=e.style;return null==r&&u&&u[n]&&(r=u[n]),Yt.test(r)&&!zt.test(n)&&(i=u.left,(a=(o=e.runtimeStyle)&&o.left)&&(o.left=e.currentStyle.left),u.left="fontSize"===n?"1em":r,r=u.pixelLeft+"px",u.left=i,a&&(o.left=a)),""===r?"auto":r}),x.each(["height","width"],function(e,n){x.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(x.css(e,"display"))?x.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(0,t,r?an(e,n,r,x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,i),i):0)}}}),x.support.opacity||(x.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle:e.style).filter||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,e=e.currentStyle,i=x.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=e&&e.filter||n.filter||"";((n.zoom=1)<=t||""===t)&&""===x.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||e&&!e.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,n){return n?x.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t}}),!x.support.pixelPosition&&x.fn.position&&x.each(["top","left"],function(e,n){x.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?x(e).position()[n]+"px":r):t}}})}),x.expr&&x.expr.filters&&(x.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!x.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||x.css(e,"display"))},x.expr.filters.visible=function(e){return!x.expr.filters.hidden(e)}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Zt[r]+t]=o[r]||o[r-2]||o[0];return i}},Ut.test(e)||(x.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Ct.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}}):{name:t.name,value:n.replace(fn,"\r\n")}}).get()}}),x.param=function(e,n){function o(e,t){t=x.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}var r,i=[];if(n===t&&(n=x.ajaxSettings&&x.ajaxSettings.traditional),x.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){o(this.name,this.value)});else for(r in e)!function gn(e,t,n,r){if(x.isArray(t))x.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==(void 0===i?"undefined":_typeof(i))?t:"")+"]",i,n,r)});else if(n||"object"!==x.type(t))r(e,t);else for(var i in t)gn(e+"["+i+"]",t[i],n,r)}(r,e[r],n,o);return i.join("&").replace(cn,"+")},x.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var mn,yn,vn=x.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Nn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=x.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=o.href}catch(Ln){(yn=a.createElement("a")).href="",yn=yn.href}function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(T)||[];if(x.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qn(e,n,r,i){var o={},a=e===jn;function s(l){var u;return o[l]=!0,x.each(e[l]||[],function(e,l){l=l(n,r,i);return"string"!=typeof l||a||o[l]?a?!(u=l):t:(n.dataTypes.unshift(l),s(l),!1)}),u}return s(n.dataTypes[0])||!o["*"]&&s("*")}function _n(e,n){var r,i,o=x.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r=r||{})[i]=n[i]);return r&&x.extend(!0,e,r),e}mn=En.exec(yn.toLowerCase())||[],x.fn.load=function(e,n,r){if("string"!=typeof e&&Sn)return Sn.apply(this,arguments);var i,o,a,s=this,l=e.indexOf(" ");return 0<=l&&(i=e.slice(l,e.length),e=e.slice(0,l)),x.isFunction(n)?(r=n,n=t):n&&"object"==(void 0===n?"undefined":_typeof(n))&&(a="POST"),0<s.length&&x.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?x("<div>").append(x.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":x.parseJSON,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_n(_n(e,x.ajaxSettings),t):_n(x.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==(void 0===e?"undefined":_typeof(e))&&(n=e,e=t);var i,o,a,s,l,u,c,p=x.ajaxSetup({},n=n||{}),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?x(f):x.event,h=x.Deferred(),g=x.Callbacks("once memory"),m=p.statusCode||{},y={},v={},b=0,w="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Tn.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){if(e)if(b<2)for(var t in e)m[t]=[m[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){e=e||w;return u&&u.abort(e),k(0,e),this}};if(h.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=x.trim(p.dataType||"*").toLowerCase().match(T)||[""],null==p.crossDomain&&(e=En.exec(p.url.toLowerCase()),p.crossDomain=!(!e||e[1]===mn[1]&&e[2]===mn[2]&&(e[3]||("http:"===e[1]?"80":"443"))===(mn[3]||("http:"===mn[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),qn(An,p,n,C),2!==b){for(i in(l=p.global)&&0==x.active++&&x.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Nn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(x.lastModified[o]&&C.setRequestHeader("If-Modified-Since",x.lastModified[o]),x.etag[o]&&C.setRequestHeader("If-None-Match",x.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]),p.headers)C.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(!1===p.beforeSend.call(f,C,p)||2===b))return C.abort();for(i in w="abort",{success:1,error:1,complete:1})C[i](p[i]);if(u=qn(jn,p,n,C)){C.readyState=1,l&&d.trigger("ajaxSend",[C,p]),p.async&&0<p.timeout&&(s=setTimeout(function(){C.abort("timeout")},p.timeout));try{b=1,u.send(y,k)}catch(N){if(!(b<2))throw N;k(-1,N)}}else k(-1,"No Transport")}return C;function k(e,n,r,i){var y,v,w,N=n;2!==b&&(b=2,s&&clearTimeout(s),u=t,a=i||"",C.readyState=0<e?4:0,i=200<=e&&e<300||304===e,r&&(w=function(e,n,r){var i,o,a,s,l=e.contents,u=e.dataTypes;for(;"*"===u[0];)u.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){u.unshift(s);break}if(u[0]in r)a=u[0];else{for(s in r){if(!u[0]||e.converters[s+" "+u[0]]){a=s;break}i=i||s}a=a||i}return a?(a!==u[0]&&u.unshift(a),r[a]):t}(p,C,r)),w=function(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];o=c.shift();for(;o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(i in u)if((s=i.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[i]:!0!==u[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(p){return{state:"parsererror",error:a?p:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(p,w,C,i),i?(p.ifModified&&((r=C.getResponseHeader("Last-Modified"))&&(x.lastModified[o]=r),(r=C.getResponseHeader("etag"))&&(x.etag[o]=r)),204===e||"HEAD"===p.type?N="nocontent":304===e?N="notmodified":(N=w.state,y=w.data,i=!(v=w.error))):(v=N,!e&&N||(N="error",e<0&&(e=0))),C.status=e,C.statusText=(n||N)+"",i?h.resolveWith(f,[y,N,C]):h.rejectWith(f,[C,N,v]),C.statusCode(m),m=t,l&&d.trigger(i?"ajaxSuccess":"ajaxError",[C,p,i?y:v]),g.fireWith(f,[C,N]),l&&(d.trigger("ajaxComplete",[C,p]),--x.active||x.event.trigger("ajaxStop")))}},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,n){return x.get(e,t,n,"script")}}),x.each(["get","post"],function(e,n){x[n]=function(e,r,i,o){return x.isFunction(r)&&(o=o||i,i=r,r=t),x.ajax({url:e,type:n,dataType:o,data:r,success:i})}}),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),x.ajaxTransport("script",function(e){var n,r;if(e.crossDomain)return r=a.head||x("head")[0]||a.documentElement,{send:function(t,i){(n=a.createElement("script")).async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){!t&&n.readyState&&!/loaded|complete/.test(n.readyState)||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}});var Fn=[],Bn=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Fn.pop()||x.expando+"_"+vn++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,l=!1!==n.jsonp&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=x.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Bn,"$1"+o):!1!==n.jsonp&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||x.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Fn.push(o)),s&&x.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Pn,Wn=0,$n=e.ActiveXObject&&function(){for(var e in Pn)Pn[e](t,!0)};function In(){try{return new e.XMLHttpRequest}catch(t){}}x.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&In()||function(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}()}:In,f=x.ajaxSettings.xhr(),x.support.cors=!!f&&"withCredentials"in f,(f=x.support.ajax=!!f)&&x.ajaxTransport(function(n){var _r;if(!n.crossDomain||x.support.cors)return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(u){}l.send(n.hasContent&&n.data||null),_r=function(e,i){var s,u,c,p;try{if(_r&&(i||4===l.readyState))if(_r=t,a&&(l.onreadystatechange=x.noop,$n&&delete Pn[a]),i)4!==l.readyState&&l.abort();else{p={},s=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(p.text=l.responseText);try{c=l.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(d){i||o(-1,d)}p&&o(s,c,p,u)},n.async?4===l.readyState?setTimeout(_r):(a=++Wn,$n&&(Pn||(Pn={},x(e).unload($n)),Pn[a]=_r),l.onreadystatechange=_r):_r()},abort:function(){_r&&_r(t,!0)}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+w+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[function(e,t,n){var r,i,o,a,s,l,u=this,c={},p=e.style,f=e.nodeType&&nn(e),d=x._data(e,"fxshow");for(r in n.queue||(null==(s=x._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,x.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===x.css(e,"display")&&"none"===x.css(e,"float")&&(x.support.inlineBlockNeedsLayout&&"inline"!==ln(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",x.support.shrinkWrapBlocks||u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),t)i=t[r],Vn.exec(i)&&(delete t[r],o=o||"toggle"===i,i!==(f?"hide":"show")&&(c[r]=d&&d[r]||x.style(e,r)));if(!x.isEmptyObject(c))for(r in d?"hidden"in d&&(f=d.hidden):d=x._data(e,"fxshow",{}),o&&(d.hidden=!f),f?x(e).show():u.done(function(){x(e).hide()}),u.done(function(){for(var t in x._removeData(e,"fxshow"),c)x.style(e,t,c[t])}),c)a=Zn(f?d[r]:0,r,u),r in d||(d[r]=a.start,f&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}],Qn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),t=Yn.exec(t),o=t&&t[3]||(x.cssNumber[e]?"":"px"),a=(x.cssNumber[e]||"px"!==o&&+r)&&Yn.exec(x.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o)for(o=o||a[3],t=t||[],a=+r||1;a/=s=s||".5",x.style(n.elem,e,a+o),s!==(s=n.cur()/r)&&1!==s&&--l;);return t&&(a=n.start=+a||+r||0,n.unit=o,n.end=t[1]?a+(t[1]+1)*t[2]:+t[2]),n}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=x.now()}function Zn(e,t,n){for(var r,i=(Qn[t]||[]).concat(Qn["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function er(e,t,n){var r,i,o=0,a=Gn.length,s=x.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=Xn||Kn(),t=Math.max(0,u.startTime+u.duration-t),o=1-(t/u.duration||0),a=0,l=u.tweens.length;a<l;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,t]),o<1&&l?t:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){n=x.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(r=x.camelCase(n),i=t[r],o=e[n],x.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=x.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,u.opts.specialEasing);o<a;o++)if(r=Gn[o].call(u,e,c,u.opts))return r;return x.map(c,Zn,u),x.isFunction(u.opts.start)&&u.opts.start.call(e,u),x.fx.timer(x.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=Zt[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function or(e){return x.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}x.Animation=x.extend(er,{tweener:function(e,t){for(var n,r=0,i=(e=x.isFunction(e)?(t=e,["*"]):e.split(" ")).length;r<i;r++)n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}}),((x.Tween=rr).prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return(e&&e.get?e:rr.propHooks._default).get(this)},run:function(e){var n=rr.propHooks[this.prop];return this.pos=e=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:rr.propHooks._default).set(this),this}}).init.prototype=rr.prototype,(rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}}).scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){function a(){var t=er(this,x.extend({},e),o);(i||x._data(this,"finish"))&&t.stop(!0)}var i=x.isEmptyObject(e),o=x.speed(t,n,r);return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){function i(e){var t=e.stop;delete e.stop,t(r)}return"string"!=typeof e&&(r=n,n=e,e=t),n&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=x.timers,a=x._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Jn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));!t&&r||x.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=x._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=x.timers,a=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),x.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.speed=function(e,t,n){var r=e&&"object"==(void 0===e?"undefined":_typeof(e))?x.extend({},e):{complete:n||!n&&t||x.isFunction(e)&&e,duration:e,easing:n&&t||t&&!x.isFunction(t)&&t};return r.duration=x.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},x.timers=[],x.fx=rr.prototype.init,x.fx.tick=function(){var e,n=x.timers,r=0;for(Xn=x.now();n.length>r;r++)(e=n[r])()||n[r]!==e||n.splice(r--,1);n.length||x.fx.stop(),Xn=t},x.fx.timer=function(e){e()&&x.timers.push(e)&&x.fx.start()},x.fx.interval=13,x.fx.start=function(){Un=Un||setInterval(x.fx.tick,x.fx.interval)},x.fx.stop=function(){clearInterval(Un),Un=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&&x.expr.filters&&(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length}),x.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){x.offset.setOffset(this,e,t)});var n,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;return s?(n=s.documentElement,x.contains(n,a)?(_typeof(a.getBoundingClientRect)!==i&&(o=a.getBoundingClientRect()),a=or(s),{top:o.top+(a.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(a.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o):void 0},x.offset={setOffset:function(e,t,n){var p,r=x.css(e,"position"),i=("static"===r&&(e.style.position="relative"),x(e)),o=i.offset(),a=x.css(e,"top"),s=x.css(e,"left"),u={},r=("absolute"===r||"fixed"===r)&&-1<x.inArray("auto",[a,s])?(p=(r=i.position()).top,r.left):(p=parseFloat(a)||0,parseFloat(s)||0);null!=(t=x.isFunction(t)?t.call(e,n,o):t).top&&(u.top=t.top-o.top+p),null!=t.left&&(u.left=t.left-o.left+r),"using"in t?t.using.call(e,u):i.css(u)}},x.fn.extend({position:function(){var e,t,n,r;if(this[0])return n={top:0,left:0},r=this[0],"fixed"===x.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),(n=x.nodeName(e[0],"html")?n:e.offset()).top+=x.css(e[0],"borderTopWidth",!0),n.left+=x.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-x.css(r,"marginTop",!0),left:t.left-n.left-x.css(r,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||s;e&&!x.nodeName(e,"html")&&"static"===x.css(e,"position");)e=e.offsetParent;return e||s})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);x.fn[e]=function(i){return x.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?x(a).scrollLeft():o,r?o:x(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}}),x.each({Height:"height",Width:"width"},function(e,n){x.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){x.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(!0===i||!0===o?"margin":"border");return x.access(this,function(n,r,i){var o;return x.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?x.css(n,r,s):x.style(n,r,i,s)},n,a?i:t,a,null)}})}),x.fn.size=function(){return this.length},x.fn.andSelf=x.fn.addBack,"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module&&"object"==_typeof(module.exports)?module.exports=x:(e.jQuery=e.$=x,"function"==typeof define&&define.amd&&define("jquery",[],function(){return x}))}(window),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}),_typeof=(!function(W,X,t){"use strict";function C(b){return function(){for(var a="["+(b?b+":":"")+(a=arguments[0])+"] http://errors.angularjs.org/1.2.26/"+(b?b+"/":"")+a,c=1;c<arguments.length;c++)a=a+(1==c?"?":"&")+"p"+(c-1)+"="+encodeURIComponent("function"==typeof arguments[c]?arguments[c].toString().replace(/ \{[\s\S]*$/,""):void 0===arguments[c]?"undefined":"string"!=typeof arguments[c]?JSON.stringify(arguments[c]):arguments[c]);return Error(a)}}function Pa(b){var a;if(null!=b&&!Ga(b))return a=b.length,1===b.nodeType&&a||(v(b)||J(b)||0===a||"number"==typeof a&&0<a&&a-1 in b)}function r(b,a,c){if(b)if(P(b))for(var d in b)"prototype"==d||"length"==d||"name"==d||b.hasOwnProperty&&!b.hasOwnProperty(d)||a.call(c,b[d],d);else if(J(b)||Pa(b))for(d=0;d<b.length;d++)a.call(c,b[d],d);else if(b.forEach&&b.forEach!==r)b.forEach(a,c);else for(d in b)b.hasOwnProperty(d)&&a.call(c,b[d],d);return b}function Zb(b){var c,a=[];for(c in b)b.hasOwnProperty(c)&&a.push(c);return a.sort()}function $b(b){return function(a,c){b(c,a)}}function hb(){for(var a,b=ma.length;b;){if(57==(a=ma[--b].charCodeAt(0)))return ma[b]="A",ma.join("");if(90!=a)return ma[b]=String.fromCharCode(a+1),ma.join("");ma[b]="0"}return ma.unshift("0"),ma.join("")}function ac(b,a){a?b.$$hashKey=a:delete b.$$hashKey}function D(b){var a=b.$$hashKey;return r(arguments,function(a){a!==b&&r(a,function(a,c){b[c]=a})}),ac(b,a),b}function U(b){return parseInt(b,10)}function bc(b,a){return D(new(D(function(){},{prototype:b})),a)}function E(){}function Qa(b){return b}function ba(b){return function(){return b}}function x(b){return void 0===b}function y(b){return void 0!==b}function T(b){return null!=b&&"object"===(void 0===b?"undefined":_typeof(b))}function v(b){return"string"==typeof b}function ib(b){return"number"==typeof b}function ta(b){return"[object Date]"===za.call(b)}function P(b){return"function"==typeof b}function jb(b){return"[object RegExp]"===za.call(b)}function Ga(b){return b&&b.document&&b.location&&b.alert&&b.setInterval}function Uc(b){return!(!b||!(b.nodeName||b.prop&&b.attr&&b.find))}function Ra(b,a){if(b.indexOf)return b.indexOf(a);for(var c=0;c<b.length;c++)if(a===b[c])return c;return-1}function Sa(b,a){a=Ra(b,a);0<=a&&b.splice(a,1)}function Ha(b,a,c,d){if(Ga(b)||b&&b.$evalAsync&&b.$watch)throw Ta("cpws");if(a){if(b===a)throw Ta("cpi");if(c=c||[],d=d||[],T(b)){var e=Ra(c,b);if(-1!==e)return d[e];c.push(b),d.push(a)}if(J(b))for(var f=a.length=0;f<b.length;f++)e=Ha(b[f],null,c,d),T(b[f])&&(c.push(b[f]),d.push(e)),a.push(e);else{var g=a.$$hashKey;for(f in J(a)?a.length=0:r(a,function(b,c){delete a[c]}),b)e=Ha(b[f],null,c,d),T(b[f])&&(c.push(b[f]),d.push(e)),a[f]=e;ac(a,g)}}else(a=b)&&(J(b)?a=Ha(b,[],c,d):ta(b)?a=new Date(b.getTime()):jb(b)?(a=RegExp(b.source,b.toString().match(/[^\/]*$/)[0])).lastIndex=b.lastIndex:T(b)&&(a=Ha(b,{},c,d)));return a}function ha(b,a){if(J(b)){a=a||[];for(var c=0;c<b.length;c++)a[c]=b[c]}else if(T(b))for(c in a=a||{},b)!kb.call(b,c)||"$"===c.charAt(0)&&"$"===c.charAt(1)||(a[c]=b[c]);return a||b}function Aa(b,a){if(b===a)return!0;if(null!==b&&null!==a){if(b!=b&&a!=a)return!0;var d,c=void 0===b?"undefined":_typeof(b);if(c==(void 0===a?"undefined":_typeof(a))&&"object"==c){if(!J(b)){if(ta(b))return!!ta(a)&&(isNaN(b.getTime())&&isNaN(a.getTime())||b.getTime()===a.getTime());if(jb(b)&&jb(a))return b.toString()==a.toString();if(b&&b.$evalAsync&&b.$watch||a&&a.$evalAsync&&a.$watch||Ga(b)||Ga(a)||J(a))return!1;for(d in c={},b)if("$"!==d.charAt(0)&&!P(b[d])){if(!Aa(b[d],a[d]))return!1;c[d]=!0}for(d in a)if(!c.hasOwnProperty(d)&&"$"!==d.charAt(0)&&a[d]!==t&&!P(a[d]))return!1;return!0}if(!J(a))return!1;if((c=b.length)==a.length){for(d=0;d<c;d++)if(!Aa(b[d],a[d]))return!1;return!0}}}return!1}function Bb(b,a){var c=2<arguments.length?Ba.call(arguments,2):[];return!P(a)||a instanceof RegExp?a:c.length?function(){return arguments.length?a.apply(b,c.concat(Ba.call(arguments,0))):a.apply(b,c)}:function(){return arguments.length?a.apply(b,arguments):a.call(b)}}function Wc(b,a){var c=a;return"string"==typeof b&&"$"===b.charAt(0)?c=t:Ga(a)?c="$WINDOW":a&&X===a?c="$DOCUMENT":a&&a.$evalAsync&&a.$watch&&(c="$SCOPE"),c}function na(b,a){return void 0===b?t:JSON.stringify(b,Wc,a?"  ":null)}function cc(b){return v(b)?JSON.parse(b):b}function Ua(b){return b="function"==typeof b||!(!b||0===b.length)&&!("f"==(b=K(""+b))||"0"==b||"false"==b||"no"==b||"n"==b||"[]"==b)}function ia(b){b=w(b).clone();try{b.empty()}catch(a){}var c=w("<div>").append(b).html();try{return 3===b[0].nodeType?K(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+K(b)})}catch(d){return K(c)}}function dc(b){try{return decodeURIComponent(b)}catch(a){}}function ec(b){var c,d,a={};return r((b||"").split("&"),function(b){b&&(c=b.replace(/\+/g,"%20").split("="),y(d=dc(c[0]))&&(b=!y(c[1])||dc(c[1]),kb.call(a,d)?J(a[d])?a[d].push(b):a[d]=[a[d],b]:a[d]=b))}),a}function Cb(b){var a=[];return r(b,function(b,d){J(b)?r(b,function(b){a.push(Ca(d,!0)+(!0===b?"":"="+Ca(b,!0)))}):a.push(Ca(d,!0)+(!0===b?"":"="+Ca(b,!0)))}),a.length?a.join("&"):""}function lb(b){return Ca(b,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Ca(b,a){return encodeURIComponent(b).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,a?"%20":"+")}function fc(b,a){function c(){var c;if((b=w(b)).injector())throw c=b[0]===X?"document":ia(b),Ta("btstrpd",c.replace(/</,"&lt;").replace(/>/,"&gt;"));return(a=a||[]).unshift(["$provide",function(a){a.value("$rootElement",b)}]),a.unshift("ng"),(c=gc(a)).invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(a,b,c,d,e){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),c}var d=/^NG_DEFER_BOOTSTRAP!/;if(W&&!d.test(W.name))return c();W.name=W.name.replace(d,""),Va.resumeBootstrap=function(b){r(b,function(b){a.push(b)}),c()}}function mb(b,a){return a=a||"_",b.replace(Yc,function(b,d){return(d?a:"")+b.toLowerCase()})}function Db(b,a,c){if(!b)throw Ta("areq",a||"?",c||"required")}function Wa(b,a,c){Db(P(b=c&&J(b)?b[b.length-1]:b),a,"not a function, got "+(b&&"object"===(void 0===b?"undefined":_typeof(b))?b.constructor.name||"Object":void 0===b?"undefined":_typeof(b)))}function Da(b,a){if("hasOwnProperty"===b)throw Ta("badname",a)}function hc(b,a,c){if(!a)return b;for(var d,e=b,f=(a=a.split(".")).length,g=0;g<f;g++)d=a[g],b=b&&(e=b)[d];return!c&&P(b)?Bb(e,b):b}function Eb(b){var a=b[0];if(a===(b=b[b.length-1]))return w(a);for(var c=[a];(a=a.nextSibling)&&(c.push(a),a!==b););return w(c)}function Za(b){return b.replace(ie,function(a,b,d,e){return e?d.toUpperCase():d}).replace(je,"Moz$1")}function Gb(b,a,c,d){function e(b){var h,l,n,p,q,s,e=c&&b?[this.filter(b)]:[this],m=a;if(!d||null!=b)for(;e.length;)for(l=0,n=(h=e.shift()).length;l<n;l++)for(p=w(h[l]),m?p.triggerHandler("$destroy"):m=!m,q=0,p=(s=p.children()).length;q<p;q++)e.push(Ea(s[q]));return f.apply(this,arguments)}var f=(f=Ea.fn[b]).$original||f;e.$original=f,Ea.fn[b]=e}function S(b){if(b instanceof S)return b;if(v(b)&&(b=aa(b)),!(this instanceof S)){if(v(b)&&"<"!=b.charAt(0))throw Hb("nosel");return new S(b)}if(v(b)){var c,a=b;if(b=X,c=ke.exec(a))b=[b.createElement(c[1])];else{var e,d=b;if(b=d.createDocumentFragment(),c=[],Ib.test(a)){for(d=b.appendChild(d.createElement("div")),e=(le.exec(a)||["",""])[1].toLowerCase(),e=ea[e]||ea._default,d.innerHTML="<div>&#160;</div>"+e[1]+a.replace(me,"<$1></$2>")+e[2],d.removeChild(d.firstChild),a=e[0];a--;)d=d.lastChild;for(a=0,e=d.childNodes.length;a<e;++a)c.push(d.childNodes[a]);(d=b.firstChild).textContent=""}else c.push(d.createTextNode(a));b.textContent="",b.innerHTML="",b=c}Jb(this,b),w(X.createDocumentFragment()).append(this)}else Jb(this,b)}function Kb(b){return b.cloneNode(!0)}function Ja(b){Lb(b);var a=0;for(b=b.childNodes||[];a<b.length;a++)Ja(b[a])}function nc(b,a,c,d){if(y(d))throw Hb("offargs");var e=oa(b,"events");oa(b,"handle")&&(x(a)?r(e,function(a,c){$a(b,c,a),delete e[c]}):r(a.split(" "),function(a){x(c)?($a(b,a,e[a]),delete e[a]):Sa(e[a]||[],c)}))}function Lb(b,a){var c=b.ng339,d=ab[c];d&&(a?delete ab[c].data[a]:(d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),nc(b)),delete ab[c],b.ng339=t))}function oa(b,a,c){var d=b.ng339,d=ab[d||-1];if(!y(c))return d&&d[a];d||(b.ng339=d=++ne,d=ab[d]={}),d[a]=c}function Mb(b,a,c){var d=oa(b,"data"),e=y(c),f=!e&&y(a),g=f&&!T(a);if(d||g||oa(b,"data",d={}),e)d[a]=c;else{if(!f)return d;{if(g)return d&&d[a];D(d,a)}}}function Nb(b,a){return!!b.getAttribute&&-1<(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+a+" ")}function nb(b,a){a&&b.setAttribute&&r(a.split(" "),function(a){b.setAttribute("class",aa((" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+aa(a)+" "," ")))})}function ob(b,a){var c;a&&b.setAttribute&&(c=(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r(a.split(" "),function(a){a=aa(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),b.setAttribute("class",aa(c)))}function Jb(b,a){if(a){a=a.nodeName||!y(a.length)||Ga(a)?[a]:a;for(var c=0;c<a.length;c++)b.push(a[c])}}function oc(b,a){return pb(b,"$"+(a||"ngController")+"Controller")}function pb(b,a,c){for(9==b.nodeType&&(b=b.documentElement),a=J(a)?a:[a];b;){for(var d=0,e=a.length;d<e;d++)if((c=w.data(b,a[d]))!==t)return c;b=b.parentNode||11===b.nodeType&&b.host}}function pc(b){for(var a=0,c=b.childNodes;a<c.length;a++)Ja(c[a]);for(;b.firstChild;)b.removeChild(b.firstChild)}function qc(b,a){a=qb[a.toLowerCase()];return a&&rc[b.nodeName]&&a}function oe(b,a){function c(_c,e){var f;_c.preventDefault||(_c.preventDefault=function(){_c.returnValue=!1}),_c.stopPropagation||(_c.stopPropagation=function(){_c.cancelBubble=!0}),_c.target||(_c.target=_c.srcElement||X),x(_c.defaultPrevented)&&(f=_c.preventDefault,_c.preventDefault=function(){_c.defaultPrevented=!0,f.call(_c)},_c.defaultPrevented=!1),_c.isDefaultPrevented=function(){return _c.defaultPrevented||!1===_c.returnValue},r(ha(a[e||_c.type]||[]),function(a){a.call(b,_c)}),Q<=8?(_c.preventDefault=null,_c.stopPropagation=null,_c.isDefaultPrevented=null):(delete _c.preventDefault,delete _c.stopPropagation,delete _c.isDefaultPrevented)}return c.elem=b,c}function Ka(b,a){var d,c=void 0===b?"undefined":_typeof(b);return"function"==c||"object"==c&&null!==b?"function"==typeof(d=b.$$hashKey)?d=b.$$hashKey():d===t&&(d=b.$$hashKey=(a||hb)()):d=b,c+":"+d}function bb(b,a){var c;a&&(c=0,this.nextUid=function(){return++c}),r(b,this.put,this)}function sc(b){var a,c;return"function"==typeof b?(a=b.$inject)||(a=[],b.length&&r((c=(c=b.toString().replace(pe,"")).match(qe))[1].split(re),function(b){b.replace(se,function(b,c,d){a.push(d)})}),b.$inject=a):J(b)?(Wa(b[c=b.length-1],"fn"),a=b.slice(0,c)):Wa(b,"fn",!0),a}function gc(b){function a(a){return function(b,c){if(!T(b))return a(b,c);r(b,$b(a))}}function c(a,b){if(Da(a,"service"),(b=P(b)||J(b)?n.instantiate(b):b).$get)return l[a+k]=b;throw cb("pget",a)}function d(a,b){return c(a,{$get:b})}function f(a,b){function c(d){if(a.hasOwnProperty(d)){if(a[d]===g)throw cb("cdep",d+" <- "+m.join(" <- "));return a[d]}try{return m.unshift(d),a[d]=g,a[d]=b(d)}catch(e){throw a[d]===g&&delete a[d],e}finally{m.shift()}}function d(a,b,e){for(var h,f=[],k=sc(a),m=0,g=k.length;m<g;m++){if("string"!=typeof(h=k[m]))throw cb("itkn",h);f.push(e&&e.hasOwnProperty(h)?e[h]:c(h))}return(a=J(a)?a[g]:a).apply(b,f)}return{invoke:d,instantiate:function(a,b){var c=function(){};return c.prototype=(J(a)?a[a.length-1]:a).prototype,T(a=d(a,c=new c,b))||P(a)?a:c},get:c,annotate:sc,has:function(b){return l.hasOwnProperty(b+k)||a.hasOwnProperty(b)}}}var g={},k="Provider",m=[],h=new bb([],!0),l={$provide:{provider:a(c),factory:a(d),service:a(function(a,b){return d(a,["$injector",function(a){return a.instantiate(b)}])}),value:a(function(a,b){return d(a,ba(b))}),constant:a(function(a,b){Da(a,"constant"),l[a]=b,p[a]=b}),decorator:function(a,b){var c=n.get(a+k),d=c.$get;c.$get=function(){var a=q.invoke(d,c);return q.invoke(b,null,{$delegate:a})}}}},n=l.$injector=f(l,function(){throw cb("unpr",m.join(" <- "))}),p={},q=p.$injector=f(p,function(a){return a=n.get(a+k),q.invoke(a.$get,a)});return r(function e(a){var c,d,f,k,b=[];return r(a,function(a){if(!h.get(a)){h.put(a,!0);try{if(v(a))for(c=Ya(a),b=b.concat(e(c.requires)).concat(c._runBlocks),d=c._invokeQueue,f=0,k=d.length;f<k;f++){var g=d[f],m=n.get(g[0]);m[g[1]].apply(m,g[2])}else P(a)||J(a)?b.push(n.invoke(a)):Wa(a,"module")}catch(l){throw J(a)&&(a=a[a.length-1]),l.message&&l.stack&&-1==l.stack.indexOf(l.message)&&(l=l.message+"\n"+l.stack),cb("modulerr",a,l.stack||l.message||l)}}}),b}(b),function(a){q.invoke(a||E)}),q}function Ld(){var b=!0;this.disableAutoScrolling=function(){b=!1},this.$get=["$window","$location","$rootScope",function(a,c,d){function f(){var d,b=c.hash();b?(d=g.getElementById(b))||(d=function(a){var b=null;return r(a,function(a){b||"a"!==K(a.nodeName)||(b=a)}),b}(g.getElementsByName(b)))?d.scrollIntoView():"top"===b&&a.scrollTo(0,0):a.scrollTo(0,0)}var g=a.document;return b&&d.$watch(function(){return c.hash()},function(){d.$evalAsync(f)}),f}]}function he(){this.$get=["$$rAF","$timeout",function(b,a){return b.supported?function(a){return b(a)}:function(b){return a(b,0,!1)}}]}function te(b,a,c,d){function e(a){try{a.apply(null,Ba.call(arguments,1))}finally{if(0===--s)for(;F.length;)try{F.pop()()}catch(b){c.error(b)}}}function g(){z=null,N!=k.url()&&(N=k.url(),r(ca,function(a){a(k.url())}))}var A,k=this,m=a[0],h=b.location,l=b.history,n=b.setTimeout,p=b.clearTimeout,q={},s=(k.isMock=!1,0),F=[],u=(k.$$completeOutstandingRequest=e,k.$$incOutstandingRequestCount=function(){s++},k.notifyWhenNoOutstandingRequests=function(a){r(u,function(a){a()}),0===s?a():F.push(a)},[]),N=(k.addPollFn=function(a){return x(A)&&function(a,b){!function fa(){r(u,function(a){a()}),A=b(fa,a)}()}(100,n),u.push(a),a},h.href),R=a.find("base"),z=null,ca=(k.url=function(a,c){return h!==b.location&&(h=b.location),l!==b.history&&(l=b.history),a?N!=a?(N=a,d.history?c?l.replaceState(null,"",a):(l.pushState(null,"",a),R.attr("href",R.attr("href"))):(z=a,c?h.replace(a):h.href=a),k):void 0:z||h.href.replace(/%27/g,"'")},[]),L=!1,O=(k.onUrlChange=function(a){return L||(d.history&&w(b).on("popstate",g),d.hashchange?w(b).on("hashchange",g):k.addPollFn(g),L=!0),ca.push(a),a},k.$$checkUrlChange=g,k.baseHref=function(){var a=R.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""},{}),da="",B=k.baseHref();k.cookies=function(a,b){var d,e,f,k;if(!a){if(m.cookie!==da)for(d=(da=m.cookie).split("; "),O={},f=0;f<d.length;f++)0<(k=(e=d[f]).indexOf("="))&&(a=unescape(e.substring(0,k)),O[a]===t&&(O[a]=unescape(e.substring(k+1))));return O}b===t?m.cookie=escape(a)+"=;path="+B+";expires=Thu, 01 Jan 1970 00:00:00 GMT":v(b)&&4096<(d=(m.cookie=escape(a)+"="+escape(b)+";path="+B).length+1)&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+d+" > 4096 bytes)!")},k.defer=function(a,b){var c;return s++,c=n(function(){delete q[c],e(a)},b||0),q[c]=!0,c},k.defer.cancel=function(a){return!!q[a]&&(delete q[a],p(a),e(E),!0)}}function Nd(){this.$get=["$window","$log","$sniffer","$document",function(b,a,c,d){return new te(b,d,a,c)}]}function Od(){this.$get=function(){function b(b,d){function e(a){a!=n&&(p?p==a&&(p=a.n):p=a,f(a.n,a.p),f(a,n),(n=a).n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(b in a)throw C("$cacheFactory")("iid",b);var g=0,k=D({},d,{id:b}),m={},h=d&&d.capacity||Number.MAX_VALUE,l={},n=null,p=null;return a[b]={put:function(a,b){if(h<Number.MAX_VALUE&&e(l[a]||(l[a]={key:a})),!x(b))return a in m||g++,m[a]=b,h<g&&this.remove(p.key),b},get:function(a){if(h<Number.MAX_VALUE){var b=l[a];if(!b)return;e(b)}return m[a]},remove:function(a){if(h<Number.MAX_VALUE){var b=l[a];if(!b)return;b==n&&(n=b.p),b==p&&(p=b.n),f(b.n,b.p),delete l[a]}delete m[a],g--},removeAll:function(){m={},g=0,l={},n=p=null},destroy:function(){l=k=m=null,delete a[b]},info:function(){return D({},k,{size:g})}}}var a={};return b.info=function(){var b={};return r(a,function(a,e){b[e]=a.info()}),b},b.get=function(b){return a[b]},b}}function de(){this.$get=["$cacheFactory",function(b){return b("templates")}]}function ic(b,a){var c={},d="Directive",e=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,f=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,g=/^(on[a-z]+|formaction)$/;this.directive=function m(a,e){return Da(a,"directive"),v(a)?(Db(e,"directiveFactory"),c.hasOwnProperty(a)||(c[a]=[],b.factory(a+d,["$injector","$exceptionHandler",function(b,d){var e=[];return r(c[a],function(c,f){try{var g=b.invoke(c);P(g)?g={compile:ba(g)}:!g.compile&&g.link&&(g.compile=ba(g.link)),g.priority=g.priority||0,g.index=f,g.name=g.name||a,g.require=g.require||g.controller&&g.name,g.restrict=g.restrict||"A",e.push(g)}catch(m){d(m)}}),e}])),c[a].push(e)):r(a,$b(m)),this},this.aHrefSanitizationWhitelist=function(b){return y(b)?(a.aHrefSanitizationWhitelist(b),this):a.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(b){return y(b)?(a.imgSrcSanitizationWhitelist(b),this):a.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,b,l,n,p,q,s,F,u,A,N,R){function z(a,b,c,d,e){r(a=a instanceof w?a:w(a),function(b,c){3==b.nodeType&&b.nodeValue.match(/\S+/)&&(a[c]=w(b).wrap("<span></span>").parent()[0])});var f=L(a,b,a,c,d,e);return ca(a,"ng-scope"),function(b,c,d,e){Db(b,"scope");var g=c?La.clone.call(a):a;r(d,function(a,b){g.data("$"+b+"Controller",a)}),d=0;for(var m=g.length;d<m;d++){var h=g[d].nodeType;1!==h&&9!==h||g.eq(d).data("$scope",b)}return c&&c(g,b),f&&f(b,g,g,e),g}}function ca(a,b){try{a.addClass(b)}catch(c){}}function L(a,b,c,d,e,f){for(var h,l,n,m=[],p=0;p<a.length;p++)h=new Ob,(f=(l=da(a[p],[],h,0===p?d:t,e)).length?H(l,a[p],h,b,c,null,[],[],f):null)&&f.scope&&ca(h.$$element,"ng-scope"),h=f&&f.terminal||!(l=a[p].childNodes)||!l.length?null:L(l,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b),m.push(f,h),n=n||f||h,f=null;return n?function(a,c,d,e){for(var h,l,n,p,f=c.length,M=Array(f),q=0;q<f;q++)M[q]=c[q];for(p=q=0,n=m.length;q<n;p++)h=M[p],c=m[q++],f=m[q++],c?(c.scope?(l=a.$new(),w.data(h,"$scope",l)):l=a,c(f,l,h,d,c.transcludeOnThisElement?O(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?O(a,b):null)):f&&f(a,h.childNodes,t,e)}:null}function O(a,b,c){return function(d,e,f){var g=!1;return d||(g=(d=a.$new()).$$transcluded=!0),e=b(d,e,f,c),g&&e.on("$destroy",function(){d.$destroy()}),e}}function da(a,b,c,d,g){var h,m=c.$attr;switch(a.nodeType){case 1:fa(b,pa(Ma(a).toLowerCase()),"E",d,g);for(var q,n,p=a.attributes,s=0,F=p&&p.length;s<F;s++){var u,A=!1,N=!1,l=p[s];(!Q||8<=Q||l.specified)&&(h=l.name,q=aa(l.value),l=pa(h),(n=U.test(l))&&(h=mb(l.substr(6),"-")),u=l.replace(/(Start|End)$/,""),l===u+"Start"&&(N=(A=h).substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),m[l=pa(h.toLowerCase())]=h,!n&&c.hasOwnProperty(l)||(c[l]=q,qc(a,l)&&(c[l]=!0)),S(a,b,q,l),fa(b,l,"A",d,g,A,N))}if(v(a=a.className)&&""!==a)for(;h=f.exec(a);)fa(b,l=pa(h[2]),"C",d,g)&&(c[l]=aa(h[3])),a=a.substr(h.index+h[0].length);break;case 3:K(b,a.nodeValue);break;case 8:try{(h=e.exec(a.nodeValue))&&(fa(b,l=pa(h[1]),"M",d,g)&&(c[l]=aa(h[2])))}catch(z){}}return b.sort(x),b}function B(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw ja("uterdir",b,c)}while(1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling,0<e)}else d.push(a);return w(d)}function I(a,b,c){return function(d,e,f,g,h){return e=B(e[0],b,c),a(d,e,f,g,h)}}function H(a,c,d,e,f,g,m,n,p){function F(a,b,c,d){a&&((a=c?I(a,c,d):a).require=G.require,a.directiveName=C,L!==G&&!G.$$isolateScope||(a=tc(a,{isolateScope:!0})),m.push(a)),b&&((b=c?I(b,c,d):b).require=G.require,b.directiveName=C,L!==G&&!G.$$isolateScope||(b=tc(b,{isolateScope:!0})),n.push(b))}function A(a,b,c,d){var e,f="data",g=!1;if(v(b)){for(;"^"==(e=b.charAt(0))||"?"==e;)b=b.substr(1),"^"==e&&(f="inheritedData"),g=g||"?"==e;if(e=null,!(e=(e=d&&"data"===f?d[b]:e)||c[f]("$"+b+"Controller"))&&!g)throw ja("ctreq",b,a)}else J(b)&&(e=[],r(b,function(b){e.push(A(a,b,c,d))}));return e}function N(a,e,f,g,p){var z,O,I,rb,Na,B,da={},u=c===f?d:ha(d,new Ob(w(f),d.$attr)),M=u.$$element;for(L&&(Na=/^\s*([@=&])(\??)\s*(\w*)\s*$/,B=e.$new(!0),!H||H!==L&&H!==L.$$originalDirective?M.data("$isolateScopeNoTemplate",B):M.data("$isolateScope",B),ca(M,"ng-isolate-scope"),r(L.scope,function(a,c){var m,l,n,p,f=(d=a.match(Na)||[])[3]||c,g="?"==d[2],d=d[1];switch(B.$$isolateBindings[c]=d+f,d){case"@":u.$observe(f,function(a){B[c]=a}),u.$$observers[f].$$scope=e,u[f]&&(B[c]=b(u[f])(e));break;case"=":if(g&&!u[f])break;l=q(u[f]),p=l.literal?Aa:function(a,b){return a===b||a!=a&&b!=b},n=l.assign||function(){throw m=B[c]=l(e),ja("nonassign",u[f],L.name)},m=B[c]=l(e),B.$watch(function(){var a=l(e);return p(a,B[c])||(p(a,m)?n(e,a=B[c]):B[c]=a),m=a},null,l.literal);break;case"&":l=q(u[f]),B[c]=function(a){return l(e,a)};break;default:throw ja("iscp",L.name,c,a)}})),rb=p&&function(a,b){var c;return arguments.length<2&&(b=a,a=t),p(a,b,c=K?da:c)},R&&r(R,function(a){var c,b={$scope:a===L||a.$$isolateScope?B:e,$element:M,$attrs:u,$transclude:rb};"@"==(I=a.controller)&&(I=u[a.name]),c=s(I,b),da[a.name]=c,K||M.data("$"+a.name+"Controller",c),a.controllerAs&&(b.$scope[a.controllerAs]=c)}),g=0,z=m.length;g<z;g++)try{(O=m[g])(O.isolateScope?B:e,M,u,O.require&&A(O.directiveName,O.require,M,da),rb)}catch(G){l(G,ia(M))}for(g=e,L&&(L.template||null===L.templateUrl)&&(g=B),a&&a(g,f.childNodes,t,p),g=n.length-1;0<=g;g--)try{(O=n[g])(O.isolateScope?B:e,M,u,O.require&&A(O.directiveName,O.require,M,da),rb)}catch(y){l(y,ia(M))}}p=p||{};for(var O,C,Q,u=-Number.MAX_VALUE,R=p.controllerDirectives,L=p.newIsolateScopeDirective,H=p.templateDirective,fa=p.nonTlbTranscludeDirective,x=!1,D=!1,K=p.hasElementTranscludeDirective,Z=d.$$element=w(c),S=e,Fa=0,qa=a.length;Fa<qa;Fa++){var G,U=(G=a[Fa]).$$start,Y=G.$$end;if(U&&(Z=B(c,U,Y)),V=t,u>G.priority)break;if((V=G.scope)&&(O=O||G,G.templateUrl||(db("new/isolated scope",L,G,Z),T(V)&&(L=G))),C=G.name,!G.templateUrl&&G.controller&&(V=G.controller,db("'"+C+"' controller",(R=R||{})[C],G,Z),R[C]=G),(V=G.transclude)&&(x=!0,G.$$tlb||(db("transclusion",fa,G,Z),fa=G),S="element"==V?(K=!0,u=G.priority,V=Z,Z=d.$$element=w(X.createComment(" "+C+": "+d[C]+" ")),c=Z[0],Na(f,Ba.call(V,0),c),z(V,e,u,g&&g.name,{nonTlbTranscludeDirective:fa})):(V=w(Kb(c)).contents(),Z.empty(),z(V,e))),G.template)if(D=!0,db("template",H,G,Z),V=P((H=G).template)?G.template(Z,d):G.template,V=W(V),G.replace){if(g=G,V=Ib.test(V)?w(aa(V)):[],c=V[0],1!=V.length||1!==c.nodeType)throw ja("tplrt",C,"");Na(f,Z,c);var V=da(c,[],qa={$attr:{}}),$=a.splice(Fa+1,a.length-(Fa+1));L&&y(V),a=a.concat(V).concat($),E(d,qa),qa=a.length}else Z.html(V);if(G.templateUrl)D=!0,db("template",H,G,Z),(H=G).replace&&(g=G),N=ue(a.splice(Fa,a.length-Fa),Z,d,f,x&&S,m,n,{controllerDirectives:R,newIsolateScopeDirective:L,templateDirective:H,nonTlbTranscludeDirective:fa}),qa=a.length;else if(G.compile)try{P(Q=G.compile(Z,d,S))?F(null,Q,U,Y):Q&&F(Q.pre,Q.post,U,Y)}catch(ve){l(ve,ia(Z))}G.terminal&&(N.terminal=!0,u=Math.max(u,G.priority))}return N.scope=O&&!0===O.scope,N.transcludeOnThisElement=x,N.templateOnThisElement=D,N.transclude=S,p.hasElementTranscludeDirective=K,N}function y(a){for(var b=0,c=a.length;b<c;b++)a[b]=bc(a[b],{$$isolateScope:!0})}function fa(b,e,f,g,h,q,n){if(e!==h){if(h=null,c.hasOwnProperty(e))for(var p,s=0,u=(e=a.get(e+d)).length;s<u;s++)try{p=e[s],(g===t||g>p.priority)&&-1!=p.restrict.indexOf(f)&&(q&&(p=bc(p,{$$start:q,$$end:n})),b.push(p),h=p)}catch(F){l(F)}return h}}function E(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;r(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),r(b,function(b,f){"class"==f?(ca(e,b),a.class=(a.class?a.class+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function ue(a,b,c,d,e,f,g,h){var l,q,m=[],s=b[0],u=a.shift(),F=D({},u,{templateUrl:null,transclude:null,replace:null,$$originalDirective:u}),N=P(u.templateUrl)?u.templateUrl(b,c):u.templateUrl;return b.empty(),n.get(A.getTrustedResourceUrl(N),{cache:p}).success(function(n){var p;if(n=W(n),u.replace){if(n=Ib.test(n)?w(aa(n)):[],p=n[0],1!=n.length||1!==p.nodeType)throw ja("tplrt",u.name,N);n={$attr:{}},Na(d,b,p);var z=da(p,[],n);T(u.scope)&&y(z),a=z.concat(a),E(c,n)}else p=s,b.html(n);for(a.unshift(F),l=H(a,p,c,e,b,u,f,g,h),r(d,function(a,c){a==p&&(d[c]=b[0])}),q=L(b[0].childNodes,e);m.length;){n=m.shift();var B,A=m.shift(),R=m.shift(),I=m.shift(),z=b[0];A!==s&&(B=A.className,h.hasElementTranscludeDirective&&u.replace||(z=Kb(p)),Na(R,w(A),z),ca(w(z),B)),A=l.transcludeOnThisElement?O(n,l.transclude,I):I,l(q,n,z,d,A)}m=null}).error(function(a,b,c,d){throw ja("tpload",d.url)}),function(a,b,c,d,e){a=e,m?(m.push(b),m.push(c),m.push(d),m.push(a)):(l.transcludeOnThisElement&&(a=O(b,l.transclude,e)),l(q,b,c,d,a))}}function x(a,b){var c=b.priority-a.priority;return 0!=c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function db(a,b,c,d){if(b)throw ja("multidir",b.name,c.name,a,ia(d))}function K(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){var b=a.parent().length;return b&&ca(a.parent(),"ng-binding"),function(a,c){var e=c.parent(),f=e.data("$binding")||[];f.push(d),e.data("$binding",f),b||ca(e,"ng-binding"),a.$watch(d,function(a){c[0].nodeValue=a})}}})}function S(a,c,d,e){var f=b(d,!0);if(f){if("multiple"===e&&"SELECT"===Ma(a))throw ja("selmulti",ia(a));c.push({priority:100,compile:function(){return{pre:function(c,d,m){if(d=m.$$observers||(m.$$observers={}),g.test(e))throw ja("nodomevents");(f=b(m[e],!0,function(a,b){return"srcdoc"==b?A.HTML:(a=Ma(a),"xlinkHref"==b||"FORM"==a&&"action"==b||"IMG"!=a&&("src"==b||"ngSrc"==b)?A.RESOURCE_URL:void 0)}(a,e)))&&(m[e]=f(c),(d[e]||(d[e]=[])).$$inter=!0,(m.$$observers&&m.$$observers[e].$$scope||c).$watch(f,function(a,b){"class"===e&&a!=b?m.$updateClass(a,b):m.$set(e,a)}))}}}})}}function Na(a,b,c){var g,d=b[0],e=b.length,f=d.parentNode;if(a)for(g=0,m=a.length;g<m;g++)if(a[g]==d){a[g++]=c;for(var m=g+e-1,h=a.length;g<h;g++,m++)m<h?a[g]=a[m]:delete a[g];a.length-=e-1;break}for(f&&f.replaceChild(c,d),(a=X.createDocumentFragment()).appendChild(d),c[w.expando]=d[w.expando],d=1,e=b.length;d<e;d++)f=b[d],w(f).remove(),a.appendChild(f),delete b[d];b[0]=c,b.length=1}function tc(a,b){return D(function(){return a.apply(null,arguments)},a,b)}var Ob=function(a,b){this.$$element=a,this.$attr=b||{}},qa=(Ob.prototype={$normalize:pa,$addClass:function(a){a&&0<a.length&&N.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&N.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=uc(a,b),b=uc(b,a);0===c.length?N.removeClass(this.$$element,b):0===b.length?N.addClass(this.$$element,c):N.setClass(this.$$element,c,b)},$set:function(a,b,c,d){var e=qc(this.$$element[0],a);e&&(this.$$element.prop(a,b),d=e),this[a]=b,d?this.$attr[a]=d:(d=this.$attr[a])||(this.$attr[a]=d=mb(a,"-")),("A"===(e=Ma(this.$$element))&&"href"===a||"IMG"===e&&"src"===a)&&(this[a]=b=R(b,"src"===a)),!1!==c&&(null===b||b===t?this.$$element.removeAttr(d):this.$$element.attr(d,b)),(c=this.$$observers)&&r(c[a],function(a){try{a(b)}catch(c){l(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers={}),e=d[a]||(d[a]=[]);return e.push(b),F.$evalAsync(function(){e.$$inter||b(c[a])}),b}},b.startSymbol()),Z=b.endSymbol(),W="{{"==qa||"}}"==Z?Qa:function(a){return a.replace(/\{\{/g,qa).replace(/}}/g,Z)},U=/^ngAttr[A-Z]/;return z}]}function pa(b){return Za(b.replace(we,""))}function uc(b,a){var c="",d=b.split(/\s+/),e=a.split(/\s+/),f=0;a:for(;f<d.length;f++){for(var g=d[f],k=0;k<e.length;k++)if(g==e[k])continue a;c+=(0<c.length?" ":"")+g}return c}function Pd(){var b={},a=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(a,d){Da(a,"controller"),T(a)?D(b,a):b[a]=d},this.$get=["$injector","$window",function(c,d){return function(e,f){var g,k,m;if(v(e)&&(k=(g=e.match(a))[1],m=g[3],Wa(e=b.hasOwnProperty(k)?b[k]:hc(f.$scope,k,!0)||hc(d,k,!0),k,!0)),g=c.instantiate(e,f),m){if(!f||"object"!==_typeof(f.$scope))throw C("$controller")("noscp",k||e.name,m);f.$scope[m]=g}return g}}]}function Qd(){this.$get=["$window",function(b){return w(b.document)}]}function Rd(){this.$get=["$log",function(b){return function(a,c){b.error.apply(b,arguments)}}]}function vc(b){var c,e,a={};return b&&r(b.split("\n"),function(b){e=b.indexOf(":"),c=K(aa(b.substr(0,e))),e=aa(b.substr(e+1)),c&&(a[c]=a[c]?a[c]+", "+e:e)}),a}function wc(b){var a=T(b)?b:t;return function(c){return a=a||vc(b),c?a[K(c)]||null:a}}function xc(b,a,c){return P(c)?c(b,a):(r(c,function(c){b=c(b,a)}),b)}function Ud(){var b=/^\s*(\[|\{[^\{])/,a=/[\}\]]\s*$/,c=/^\)\]\}',?\n/,d={"Content-Type":"application/json;charset=utf-8"},e=this.defaults={transformResponse:[function(d){return v(d)&&(d=d.replace(c,""),b.test(d)&&a.test(d)&&(d=cc(d))),d}],transformRequest:[function(a){return T(a)&&"[object File]"!==za.call(a)&&"[object Blob]"!==za.call(a)?na(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ha(d),put:ha(d),patch:ha(d)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},f=this.interceptors=[],g=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,b,c,d,n,p){function q(a){function b(a){var d=D({},a,{data:xc(a.data,a.headers,c.transformResponse)});return 200<=a.status&&a.status<300?d:n.reject(d)}var c={method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse},d=function(a){var d,f,b=e.headers,c=D({},a.headers);a:for(d in b=D({},b.common,b[K(a.method)])){for(f in a=K(d),c)if(K(f)===a)continue a;c[d]=b[d]}return function(a){var b;r(a,function(c,d){P(c)&&(null!=(b=c())?a[d]=b:delete a[d])})}(c),c}(a),f=(D(c,a),c.headers=d,c.method=Ia(c.method),[function(a){d=a.headers;var c=xc(a.data,wc(d),a.transformRequest);return x(c)&&r(d,function(a,b){"content-type"===K(b)&&delete d[b]}),x(a.withCredentials)&&!x(e.withCredentials)&&(a.withCredentials=e.withCredentials),s(a,c,d).then(b,b)},t]),g=n.when(c);for(r(A,function(a){(a.request||a.requestError)&&f.unshift(a.request,a.requestError),(a.response||a.responseError)&&f.push(a.response,a.responseError)});f.length;){a=f.shift();var m=f.shift(),g=g.then(a,m)}return g.success=function(a){return g.then(function(b){a(b.data,b.status,b.headers,c)}),g},g.error=function(a){return g.then(null,function(b){a(b.data,b.status,b.headers,c)}),g},g}function s(c,f,g){function p(a,b,d,e){(200<=(b=Math.max(b,0))&&b<300?A.resolve:A.reject)({data:a,status:b,headers:wc(d),config:c,statusText:e})}function s(){var a=Ra(q.pendingRequests,c);-1!==a&&q.pendingRequests.splice(a,1)}var I,H,A=n.defer(),r=A.promise,w=F(c.url,c.params);if(q.pendingRequests.push(c),r.then(s,s),I=!c.cache&&!e.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method?I:T(c.cache)?c.cache:T(e.cache)?e.cache:u)if(y(H=I.get(w))){if(H&&P(H.then))return H.then(s,s),H;J(H)?p(H[1],H[0],ha(H[2]),H[3]):p(H,200,{},"OK")}else I.put(w,r);return x(H)&&((H=Pb(c.url)?b.cookies()[c.xsrfCookieName||e.xsrfCookieName]:t)&&(g[c.xsrfHeaderName||e.xsrfHeaderName]=H),a(c.method,w,f,function(a,b,c,e){I&&(200<=a&&a<300?I.put(w,[a,b,vc(c),e]):I.remove(w)),p(b,a,c,e),d.$$phase||d.$apply()},g,c.timeout,c.withCredentials,c.responseType)),r}function F(a,b){var c;return b&&(c=[],function(b,a,c){for(var d=Zb(b),e=0;e<d.length;e++)a.call(c,b[d[e]],d[e])}(b,function(a,b){null===a||x(a)||r(a=J(a)?a:[a],function(a){T(a)&&(a=ta(a)?a.toISOString():na(a)),c.push(Ca(b)+"="+Ca(a))})}),0<c.length&&(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&"))),a}var u=c("$http"),A=[];return r(f,function(a){A.unshift(v(a)?p.get(a):p.invoke(a))}),r(g,function(a,b){var c=v(a)?p.get(a):p.invoke(a);A.splice(b,0,{response:function(a){return c(n.when(a))},responseError:function(a){return c(n.reject(a))}})}),q.pendingRequests=[],function(){r(arguments,function(a){q[a]=function(b,c){return q(D(c||{},{method:a,url:b}))}})}("get","delete","head","jsonp"),function(){r(arguments,function(a){q[a]=function(b,c,d){return q(D(d||{},{method:a,url:b,data:c}))}})}("post","put"),q.defaults=e,q}]}function xe(b){if(Q<=8&&(!b.match(/^(get|post|head|put|delete|options)$/i)||!W.XMLHttpRequest))return new W.ActiveXObject("Microsoft.XMLHTTP");if(W.XMLHttpRequest)return new W.XMLHttpRequest;throw C("$httpBackend")("noxhr")}function Vd(){this.$get=["$browser","$window","$document",function(b,a,c){return function(b,a,c,d,e){function f(a,b,c){var _g,f=e.createElement("script");return f.type="text/javascript",f.src=a,f.async=!0,sb(f,"load",_g=function(a){$a(f,"load",_g),$a(f,"error",_g),e.body.removeChild(f),f=null;var k=-1,s="unknown";a&&(s=(a="load"!==a.type||d[b].called?a:{type:"error"}).type,k="error"===a.type?404:200),c&&c(k,s)}),sb(f,"error",_g),Q<=8&&(f.onreadystatechange=function(){v(f.readyState)&&/loaded|complete/.test(f.readyState)&&(f.onreadystatechange=null,_g({type:"load"}))}),e.body.appendChild(f),_g}return function(e,m,h,l,n,p,q,s){function F(){A=-1,R&&R(),z&&z.abort()}function u(a,d,e,f,g){L&&c.cancel(L),R=z=null,a(1223===(d=0===d?e?200:"file"==ua(m).protocol?404:0:d)?204:d,e,f,g||""),b.$$completeOutstandingRequest(E)}var A,L;if(b.$$incOutstandingRequestCount(),m=m||b.url(),"jsonp"==K(e))var N="_"+(d.counter++).toString(36),R=(d[N]=function(a){d[N].data=a,d[N].called=!0},f(m.replace("JSON_CALLBACK","angular.callbacks."+N),N,function(a,b){u(l,a,d[N].data,"",b),d[N]=E}));else{var z=a(e);if(z.open(e,m,!0),r(n,function(a,b){y(a)&&z.setRequestHeader(b,a)}),z.onreadystatechange=function(){var a,b,c;z&&4==z.readyState&&(b=a=null,c="",-1!==A&&(a=z.getAllResponseHeaders(),b="response"in z?z.response:z.responseText),-1===A&&Q<10||(c=z.statusText),u(l,A||z.status,b,a,c))},q&&(z.withCredentials=!0),s)try{z.responseType=s}catch(ca){if("json"!==s)throw ca}z.send(h||null)}0<p?L=c(F,p):p&&P(p.then)&&p.then(F)}}(b,xe,b.defer,a.angular.callbacks,c[0])}]}function Sd(){var b="{{",a="}}";this.startSymbol=function(a){return a?(b=a,this):b},this.endSymbol=function(b){return b?(a=b,this):a},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(f,h,l){for(var n,p,q=0,s=[],F=f.length,u=!1,A=[];q<F;)-1!=(n=f.indexOf(b,q))&&-1!=(p=f.indexOf(a,n+g))?(q!=n&&s.push(f.substring(q,n)),s.push(q=c(u=f.substring(n+g,p))),q.exp=u,q=p+k,u=!0):(q!=F&&s.push(f.substring(q)),q=F);if((F=s.length)||(s.push(""),F=1),l&&1<s.length)throw yc("noconcat",f);if(!h||u)return A.length=F,(q=function(a){try{for(var g,b=0,c=F;b<c;b++){if("function"==typeof(g=s[b]))if(g=g(a),null==(g=l?e.getTrusted(l,g):e.valueOf(g)))g="";else switch(void 0===g?"undefined":_typeof(g)){case"string":break;case"number":g=""+g;break;default:g=na(g)}A[b]=g}return A.join("")}catch(k){a=yc("interr",f,k.toString()),d(a)}}).exp=f,q.parts=s,q}var g=b.length,k=a.length;return f.startSymbol=function(){return b},f.endSymbol=function(){return a},f}]}function Td(){this.$get=["$rootScope","$window","$q",function(b,a,c){function d(d,g,k,m){var h=a.setInterval,l=a.clearInterval,n=c.defer(),p=n.promise,q=0,s=y(m)&&!m;return k=y(k)?k:0,p.then(null,null,d),p.$$intervalId=h(function(){n.notify(q++),0<k&&k<=q&&(n.resolve(q),l(p.$$intervalId),delete e[p.$$intervalId]),s||b.$apply()},g),e[p.$$intervalId]=n,p}var e={};return d.cancel=function(b){return!!(b&&b.$$intervalId in e)&&(e[b.$$intervalId].reject("canceled"),a.clearInterval(b.$$intervalId),delete e[b.$$intervalId],!0)},d}]}function bd(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"Â¤",posSuf:"",negPre:"(Â¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a",short:"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(b){return 1===b?"one":"other"}}}}function Qb(b){for(var a=(b=b.split("/")).length;a--;)b[a]=lb(b[a]);return b.join("/")}function zc(b,a,c){b=ua(b),a.$$protocol=b.protocol,a.$$host=b.hostname,a.$$port=U(b.port)||ze[b.protocol]||null}function Ac(b,a,c){var d="/"!==b.charAt(0);b=ua(b=d?"/"+b:b),a.$$path=decodeURIComponent(d&&"/"===b.pathname.charAt(0)?b.pathname.substring(1):b.pathname),a.$$search=ec(b.search),a.$$hash=decodeURIComponent(b.hash),a.$$path&&"/"!=a.$$path.charAt(0)&&(a.$$path="/"+a.$$path)}function ra(b,a){if(0===a.indexOf(b))return a.substr(b.length)}function eb(b){var a=b.indexOf("#");return-1==a?b:b.substr(0,a)}function Rb(b){return b.substr(0,eb(b).lastIndexOf("/")+1)}function Bc(b,a){this.$$html5=!0,a=a||"";var c=Rb(b);zc(b,this,b),this.$$parse=function(a){var e=ra(c,a);if(!v(e))throw Sb("ipthprfx",a,c);Ac(e,this,b),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=Cb(this.$$search),b=this.$$hash?"#"+lb(this.$$hash):"";this.$$url=Qb(this.$$path)+(a?"?"+a:"")+b,this.$$absUrl=c+this.$$url.substr(1)},this.$$rewrite=function(d){var e;return(e=ra(b,d))!==t?(e=ra(a,d=e))!==t?c+(ra("/",e)||e):b+d:(e=ra(c,d))!==t?c+e:c==d+"/"?c:void 0}}function Tb(b,a){var c=Rb(b);zc(b,this,b),this.$$parse=function(d){var e=ra(b,d)||ra(c,d);if(!v(e="#"==e.charAt(0)?ra(a,e):this.$$html5?e:""))throw Sb("ihshprfx",d,a);Ac(e,this,b),d=this.$$path;var f=/^\/[A-Z]:(\/.*)/;0===e.indexOf(b)&&(e=e.replace(b,"")),f.exec(e)||(d=(e=f.exec(d))?e[1]:d),this.$$path=d,this.$$compose()},this.$$compose=function(){var c=Cb(this.$$search),e=this.$$hash?"#"+lb(this.$$hash):"";this.$$url=Qb(this.$$path)+(c?"?"+c:"")+e,this.$$absUrl=b+(this.$$url?a+this.$$url:"")},this.$$rewrite=function(a){if(eb(b)==eb(a))return a}}function Ub(b,a){this.$$html5=!0,Tb.apply(this,arguments);var c=Rb(b);this.$$rewrite=function(d){var e;return b==eb(d)?d:(e=ra(c,d))?b+a+e:c===d+"/"?c:void 0},this.$$compose=function(){var c=Cb(this.$$search),e=this.$$hash?"#"+lb(this.$$hash):"";this.$$url=Qb(this.$$path)+(c?"?"+c:"")+e,this.$$absUrl=b+a+this.$$url}}function tb(b){return function(){return this[b]}}function Cc(b,a){return function(c){return x(c)?this[b]:(this[b]=a(c),this.$$compose(),this)}}function Wd(){var b="",a=!1;this.hashPrefix=function(a){return y(a)?(b=a,this):b},this.html5Mode=function(b){return y(b)?(a=b,this):a},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(c,d,e,f){function g(a){c.$broadcast("$locationChangeSuccess",k.absUrl(),a)}var n,h=d.baseHref(),l=d.url(),m=a?(n=l.substring(0,l.indexOf("/",l.indexOf("//")+2))+(h||"/"),e.history?Bc:Ub):(n=eb(l),Tb),k=new m(n,"#"+b),p=(k.$$parse(k.$$rewrite(l)),/^\s*(javascript|mailto):/i),q=(f.on("click",function(a){if(!a.ctrlKey&&!a.metaKey&&2!=a.which){for(var e=w(a.target);"a"!==K(e[0].nodeName);)if(e[0]===f[0]||!(e=e.parent())[0])return;var g=e.prop("href");if(T(g)&&"[object SVGAnimatedString]"===g.toString()&&(g=ua(g.animVal).href),!p.test(g)){if(m===Ub)if((h=e.attr("href")||e.attr("xlink:href"))&&h.indexOf("://")<0)if(g="#"+b,"/"==h[0])g=n+g+h;else if("#"==h[0])g=n+g+(k.path()||"/")+h;else{var l=k.path().split("/"),h=h.split("/");2!==l.length||l[1]||(l.length=1);for(var q=0;q<h.length;q++)"."!=h[q]&&(".."==h[q]?l.pop():h[q].length&&l.push(h[q]));g=n+g+l.join("/")}l=k.$$rewrite(g),g&&!e.attr("target")&&l&&!a.isDefaultPrevented()&&(a.preventDefault(),l!=d.url()&&(k.$$parse(l),c.$apply(),W.angular["ff-684208-preventDefault"]=!0))}}}),k.absUrl()!=l&&d.url(k.absUrl(),!0),d.onUrlChange(function(a){k.absUrl()!=a&&(c.$evalAsync(function(){var b=k.absUrl();k.$$parse(a),c.$broadcast("$locationChangeStart",a,b).defaultPrevented?(k.$$parse(b),d.url(b)):g(b)}),c.$$phase||c.$digest())}),0);return c.$watch(function(){var a=d.url(),b=k.$$replace;return q&&a==k.absUrl()||(q++,c.$evalAsync(function(){c.$broadcast("$locationChangeStart",k.absUrl(),a).defaultPrevented?k.$$parse(a):(d.url(k.absUrl(),b),g(a))})),k.$$replace=!1,q}),k}]}function Xd(){var b=!0,a=this;this.debugEnabled=function(a){return y(a)?(b=a,this):b},this.$get=["$window",function(c){function e(a){var b=c.console||{},e=b[a]||b.log||E;a=!1;try{a=!!e.apply}catch(m){}return a?function(){var a=[];return r(arguments,function(b){a.push(function(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){b&&c.apply(a,arguments)}}()}}]}function ka(b,a){if("__defineGetter__"===b||"__defineSetter__"===b||"__lookupGetter__"===b||"__lookupSetter__"===b||"__proto__"===b)throw la("isecfld",a);return b}function va(b,a){if(b){if(b.constructor===b)throw la("isecfn",a);if(b.document&&b.location&&b.alert&&b.setInterval)throw la("isecwindow",a);if(b.children&&(b.nodeName||b.prop&&b.attr&&b.find))throw la("isecdom",a);if(b===Object)throw la("isecobj",a)}return b}function ub(b,a,c,d,e){va(b,d),e=e||{},a=a.split(".");for(;1<a.length;0){var f,k=va(b[f=ka(a.shift(),d)],d);k||(b[f]=k={}),(b=k).then&&e.unwrapPromises&&(wa(d),"$$v"in b||function(a){a.then(function(b){a.$$v=b})}(b),b.$$v===t&&(b.$$v={}),b=b.$$v)}return va(b[f=ka(a.shift(),d)],d),b[f]=c}function Dc(b,a,c,d,e,f,g){return ka(b,f),ka(a,f),ka(c,f),ka(d,f),ka(e,f),g.unwrapPromises?function(g,m){var l,m=m&&m.hasOwnProperty(b)?m:g;if(null!=m&&((m=m[b])&&m.then&&(wa(f),"$$v"in m||((l=m).$$v=t,l.then(function(a){l.$$v=a})),m=m.$$v),a)){if(null==m)return t;if((m=m[a])&&m.then&&(wa(f),"$$v"in m||((l=m).$$v=t,l.then(function(a){l.$$v=a})),m=m.$$v),c){if(null==m)return t;if((m=m[c])&&m.then&&(wa(f),"$$v"in m||((l=m).$$v=t,l.then(function(a){l.$$v=a})),m=m.$$v),d){if(null==m)return t;if((m=m[d])&&m.then&&(wa(f),"$$v"in m||((l=m).$$v=t,l.then(function(a){l.$$v=a})),m=m.$$v),e){if(null==m)return t;(m=m[e])&&m.then&&(wa(f),"$$v"in m||((l=m).$$v=t,l.then(function(a){l.$$v=a})),m=m.$$v)}}}}return m}:function(f,g){g=g&&g.hasOwnProperty(b)?g:f;return null==g?g:(g=g[b],a?null==g?t:(g=g[a],c?null==g?t:(g=g[c],d?null==g?t:(g=g[d],e?null==g?t:g[e]:g):g):g):g)}}function Ec(b,a,c){if(Vb.hasOwnProperty(b))return Vb[b];var g,k,d=b.split("."),e=d.length,f=a.csp?e<6?Dc(d[0],d[1],d[2],d[3],d[4],c,a):function(b,f){for(var k,g=0;k=Dc(d[g++],d[g++],d[g++],d[g++],d[g++],c,a)(b,f),f=t,b=k,g<e;);return k}:(g="var p;\n",r(d,function(b,d){ka(b,c),g+="if(s == null) return undefined;\ns="+(d?"s":'((k&&k.hasOwnProperty("'+b+'"))?k:s)')+'["'+b+'"];\n'+(a.unwrapPromises?'if (s && s.then) {\n pw("'+c.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")}),g+="return s;",(k=new Function("s","k","pw",g)).toString=ba(g),a.unwrapPromises?function(a,b){return k(a,b,wa)}:k);return"hasOwnProperty"!==b&&(Vb[b]=f),f}function Yd(){var b={},a={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(b){return y(b)?(a.unwrapPromises=!!b,this):a.unwrapPromises},this.logPromiseWarnings=function(b){return y(b)?(a.logPromiseWarnings=b,this):a.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(c,d,e){return a.csp=d.csp,wa=function(b){a.logPromiseWarnings&&!Fc.hasOwnProperty(b)&&(Fc[b]=!0,e.warn("[$parse] Promise found in the expression `"+b+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(d){var e;switch(void 0===d?"undefined":_typeof(d)){case"string":return b.hasOwnProperty(d)?b[d]:(e=new Wb(a),e=new fb(e,c,a).parse(d),"hasOwnProperty"!==d&&(b[d]=e),e);case"function":return d;default:return E}}}]}function $d(){this.$get=["$rootScope","$exceptionHandler",function(b,a){return function(b,a){function c(a){return a}function d(a){return g(a)}function f(a){return a&&P(a.then)?a:{then:function(c){var d=e();return b(function(){d.resolve(c(a))}),d.promise}}}function k(c){return{then:function(f,g){var k=e();return b(function(){try{k.resolve((P(g)?g:d)(c))}catch(b){k.reject(b),a(b)}}),k.promise}}}var e=function e(){var h,l,g=[];return l={resolve:function(a){var c;g&&(c=g,g=t,h=f(a),c.length&&b(function(){for(var a,b=0,d=c.length;b<d;b++)a=c[b],h.then(a[0],a[1],a[2])}))},reject:function(a){l.resolve(k(a))},notify:function(a){var c;g&&(c=g).length&&b(function(){for(var d=0,e=c.length;d<e;d++)c[d][2](a)})},promise:{then:function(b,f,k){function F(d){try{l.resolve((P(b)?b:c)(d))}catch(e){l.reject(e),a(e)}}function u(b){try{l.resolve((P(f)?f:d)(b))}catch(c){l.reject(c),a(c)}}function A(b){try{l.notify((P(k)?k:c)(b))}catch(d){a(d)}}var l=e();return g?g.push([F,u,A]):h.then(F,u,A),l.promise},catch:function(a){return this.then(null,a)},finally:function(a){function b(a,c){var d=e();return c?d.resolve(a):d.reject(a),d.promise}function d(e,f){var g=null;try{g=(a||c)()}catch(k){return b(k,!1)}return g&&P(g.then)?g.then(function(){return b(e,f)},function(a){return b(a,!1)}):b(e,f)}return this.then(function(a){return d(a,!0)},function(a){return d(a,!1)})}}}},g=function(a){var b=e();return b.reject(a),b.promise};return{defer:e,reject:g,when:function(k,h,l,n){function s(b){try{return(P(h)?h:c)(b)}catch(d){return a(d),g(d)}}function F(b){try{return(P(l)?l:d)(b)}catch(c){return a(c),g(c)}}function u(b){try{return(P(n)?n:c)(b)}catch(d){a(d)}}var q,p=e();return b(function(){f(k).then(function(a){q||(q=!0,p.resolve(f(a).then(s,F,u)))},function(a){q||(q=!0,p.resolve(F(a)))},function(a){q||p.notify(u(a))})}),p.promise},all:function(a){var b=e(),c=0,d=J(a)?[]:{};return r(a,function(a,e){c++,f(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise}}}(function(a){b.$evalAsync(a)},a)}]}function ge(){this.$get=["$window","$timeout",function(b,a){var c=b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame,d=b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.mozCancelAnimationFrame||b.webkitCancelRequestAnimationFrame,b=!!c,f=b?function(a){var b=c(a);return function(){d(b)}}:function(b){var c=a(b,16.66,!1);return function(){a.cancel(c)}};return f.supported=b,f}]}function Zd(){var b=10,a=C("$rootScope"),c=null;this.digestTtl=function(a){return b=arguments.length?a:b},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,e,f,g){function k(){this.$id=hb(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,(this.this=this.$root=this).$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function m(b){if(p.$$phase)throw a("inprog",p.$$phase);p.$$phase=b}function h(a,b){a=f(a);return Wa(a,b),a}function l(a,b,c){for(;a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c],a=a.$parent;);}function n(){}k.prototype={constructor:k,$new:function(a){return a?((a=new k).$root=this.$root,a.$$asyncQueue=this.$$asyncQueue,a.$$postDigestQueue=this.$$postDigestQueue):(this.$$childScopeClass||(this.$$childScopeClass=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=hb(),this.$$childScopeClass=null},this.$$childScopeClass.prototype=this),a=new this.$$childScopeClass),(a.this=a).$parent=this,a.$$prevSibling=this.$$childTail,this.$$childHead?this.$$childTail=this.$$childTail.$$nextSibling=a:this.$$childHead=this.$$childTail=a,a},$watch:function(a,b,d){var k,l,e=h(a,"watch"),f=this.$$watchers,g={fn:b,last:n,get:e,exp:a,eq:!!d};return c=null,P(b)||(k=h(b||E,"listener"),g.fn=function(a,b,c){k(c)}),"string"==typeof a&&e.constant&&(l=g.fn,g.fn=function(a,b,c){l.call(this,a,b,c),Sa(f,g)}),(f=f||(this.$$watchers=[])).unshift(g),function(){Sa(f,g),c=null}},$watchCollection:function(a,b){var d,e,g,c=this,k=1<b.length,h=0,l=f(a),m=[],p={},n=!0,r=0;return this.$watch(function(){var a,b;if(T(d=l(c)))if(Pa(d))for(e!==m&&(r=(e=m).length=0,h++),a=d.length,r!==a&&(h++,e.length=r=a),b=0;b<a;b++)e[b]!=e[b]&&d[b]!=d[b]||e[b]===d[b]||(h++,e[b]=d[b]);else{for(b in e!==p&&(e=p={},r=0,h++),a=0,d)d.hasOwnProperty(b)&&(a++,e.hasOwnProperty(b)?e[b]!=e[b]&&d[b]!=d[b]||e[b]===d[b]||(h++,e[b]=d[b]):(r++,e[b]=d[b],h++));if(a<r)for(b in h++,e)e.hasOwnProperty(b)&&!d.hasOwnProperty(b)&&(r--,delete e[b])}else e!==d&&(e=d,h++);return h},function(){if(n?(n=!1,b(d,d,c)):b(d,g,c),k)if(T(d))if(Pa(d)){g=Array(d.length);for(var a=0;a<d.length;a++)g[a]=d[a]}else for(a in g={},d)kb.call(d,a)&&(g[a]=d[a]);else g=d})},$digest:function(){var d,f,k,h,R,z,L,w,B,I,l=this.$$asyncQueue,r=this.$$postDigestQueue,t=b,O=[];m("$digest"),g.$$checkUrlChange(),c=null;do{for(z=!1,L=this;l.length;){try{(I=l.shift()).scope.$eval(I.expression)}catch(H){p.$$phase=null,e(H)}c=null}a:do{if(h=L.$$watchers)for(R=h.length;R--;)try{if(d=h[R])if((f=d.get(L))===(k=d.last)||(d.eq?Aa(f,k):"number"==typeof f&&"number"==typeof k&&isNaN(f)&&isNaN(k))){if(d===c){z=!1;break a}}else z=!0,(c=d).last=d.eq?Ha(f,null):f,d.fn(f,k===n?f:k,L),t<5&&(O[w=4-t]||(O[w]=[]),B=P(d.exp)?"fn: "+(d.exp.name||d.exp.toString()):d.exp,B+="; newVal: "+na(f)+"; oldVal: "+na(k),O[w].push(B))}catch(y){p.$$phase=null,e(y)}if(!(h=L.$$childHead||L!==this&&L.$$nextSibling))for(;L!==this&&!(h=L.$$nextSibling);)L=L.$parent}while(L=h);if((z||l.length)&&!t--)throw p.$$phase=null,a("infdig",b,na(O))}while(z||l.length);for(p.$$phase=null;r.length;)try{r.shift()()}catch(v){e(v)}},$destroy:function(){var a;this.$$destroyed||(a=this.$parent,this.$broadcast("$destroy"),this.$$destroyed=!0,this!==p&&(r(this.$$listenerCount,Bb(null,l,this)),a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=E,this.$on=this.$watch=function(){return E}))},$eval:function(a,b){return f(a)(this,b)},$evalAsync:function(a){p.$$phase||p.$$asyncQueue.length||g.defer(function(){p.$$asyncQueue.length&&p.$digest()}),this.$$asyncQueue.push({scope:this,expression:a})},$$postDigest:function(a){this.$$postDigestQueue.push(a)},$apply:function(a){try{return m("$apply"),this.$eval(a)}catch(b){e(b)}finally{p.$$phase=null;try{p.$digest()}catch(c){throw e(c),c}}},$on:function(a,b){for(var c=this.$$listeners[a],d=(c||(this.$$listeners[a]=c=[]),c.push(b),this);d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++,d=d.$parent;);var e=this;return function(){c[Ra(c,b)]=null,l(e,1,a)}},$emit:function(a,b){var d,l,m,c=[],f=this,g=!1,k={name:a,targetScope:f,stopPropagation:function(){g=!0},preventDefault:function(){k.defaultPrevented=!0},defaultPrevented:!1},h=[k].concat(Ba.call(arguments,1));do{for(d=f.$$listeners[a]||c,k.currentScope=f,l=0,m=d.length;l<m;l++)if(d[l])try{d[l].apply(null,h)}catch(p){e(p)}else d.splice(l,1),l--,m--}while(!g&&(f=f.$parent));return k},$broadcast:function(a,b){for(var k,h,c=this,d=this,f={name:a,targetScope:this,preventDefault:function(){f.defaultPrevented=!0},defaultPrevented:!1},g=[f].concat(Ba.call(arguments,1));c=d;){for(k=0,h=(d=(f.currentScope=c).$$listeners[a]||[]).length;k<h;k++)if(d[k])try{d[k].apply(null,g)}catch(l){e(l)}else d.splice(k,1),k--,h--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}return f}};var p=new k;return p}]}function cd(){var b=/^\s*(https?|ftp|mailto|tel|file):/,a=/^\s*((https?|ftp|file):|data:image\/)/;this.aHrefSanitizationWhitelist=function(a){return y(a)?(b=a,this):b},this.imgSrcSanitizationWhitelist=function(b){return y(b)?(a=b,this):a},this.$get=function(){return function(c,d){var f,d=d?a:b;return Q&&!(8<=Q)||(""===(f=ua(c).href)||f.match(d))?c:"unsafe:"+f}}}function Gc(b){var a=[];return y(b)&&r(b,function(b){a.push(function(b){if("self"===b)return b;if(v(b)){if(-1<b.indexOf("***"))throw xa("iwcard",b);return b=b.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08").replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),RegExp("^"+b+"$")}if(jb(b))return RegExp("^"+b.source+"$");throw xa("imatcher")}(b))}),a}function be(){this.SCE_CONTEXTS=ga;var b=["self"],a=[];this.resourceUrlWhitelist=function(a){return b=arguments.length?Gc(a):b},this.resourceUrlBlacklist=function(b){return a=arguments.length?Gc(b):a},this.$get=["$injector",function(c){function d(a){function b(a){this.$$unwrapTrustedValue=function(){return a}}return(b.prototype=a?new a:b.prototype).valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}var e=function(a){throw xa("unsafe")},f=(c.has("$sanitize")&&(e=c.get("$sanitize")),d()),g={};return g[ga.HTML]=d(f),g[ga.CSS]=d(f),g[ga.URL]=d(f),g[ga.JS]=d(f),g[ga.RESOURCE_URL]=d(g[ga.URL]),{trustAs:function(a,b){var c=g.hasOwnProperty(a)?g[a]:null;if(!c)throw xa("icontext",a,b);if(null===b||b===t||""===b)return b;if("string"!=typeof b)throw xa("itype",a);return new c(b)},getTrusted:function(c,d){if(null===d||d===t||""===d)return d;if((f=g.hasOwnProperty(c)?g[c]:null)&&d instanceof f)return d.$$unwrapTrustedValue();if(c===ga.RESOURCE_URL){for(var f=ua(d.toString()),p=!1,l=0,n=b.length;l<n;l++)if("self"===b[l]?Pb(f):b[l].exec(f.href)){p=!0;break}if(p)for(l=0,n=a.length;l<n;l++)if("self"===a[l]?Pb(f):a[l].exec(f.href)){p=!1;break}if(p)return d;throw xa("insecurl",d.toString())}if(c===ga.HTML)return e(d);throw xa("unsafe")},valueOf:function(a){return a instanceof f?a.$$unwrapTrustedValue():a}}}]}function ae(){var b=!0;this.enabled=function(a){return b=arguments.length?!!a:b},this.$get=["$parse","$sniffer","$sceDelegate",function(a,c,d){if(b&&c.msie&&c.msieDocumentMode<8)throw xa("iequirks");var e=ha(ga),f=(e.isEnabled=function(){return b},e.trustAs=d.trustAs,e.getTrusted=d.getTrusted,e.valueOf=d.valueOf,b||(e.trustAs=e.getTrusted=function(a,b){return b},e.valueOf=Qa),e.parseAs=function(b,c){var d=a(c);return d.literal&&d.constant?d:function(a,c){return e.getTrusted(b,d(a,c))}},e.parseAs),g=e.getTrusted,k=e.trustAs;return r(ga,function(a,b){b=K(b);e[Za("parse_as_"+b)]=function(b){return f(a,b)},e[Za("get_trusted_"+b)]=function(b){return g(a,b)},e[Za("trust_as_"+b)]=function(b){return k(a,b)}}),e}]}function ce(){this.$get=["$window","$document",function(b,a){var k,c={},d=U((/android (\d+)/.exec(K((b.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((b.navigator||{}).userAgent),f=a[0]||{},a=f.documentMode,m=/^(Moz|webkit|O|ms)(?=[A-Z])/,h=f.body&&f.body.style,l=!1,n=!1;if(h){for(var p in h)if(l=m.exec(p)){k=(k=l[0]).substr(0,1).toUpperCase()+k.substr(1);break}k=k||"WebkitOpacity"in h&&"webkit",l=!!("transition"in h||k+"Transition"in h),n=!!("animation"in h||k+"Animation"in h),!d||l&&n||(l=v(f.body.style.webkitTransition),n=v(f.body.style.webkitAnimation))}return{history:!(!b.history||!b.history.pushState||d<4||e),hashchange:"onhashchange"in b&&(!a||7<a),hasEvent:function(a){return("input"!=a||9!=Q)&&(x(c[a])&&(b=f.createElement("div"),c[a]="on"+a in b),c[a]);var b},csp:Xa(),vendorPrefix:k,transitions:l,animations:n,android:d,msie:Q,msieDocumentMode:a}}]}function ee(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(b,a,c,d){function e(e,k,m){var h=c.defer(),l=h.promise,n=y(m)&&!m;return k=a.defer(function(){try{h.resolve(e())}catch(a){h.reject(a),d(a)}finally{delete f[l.$$timeoutId]}n||b.$apply()},k),l.$$timeoutId=k,f[k]=h,l}var f={};return e.cancel=function(b){return!!(b&&b.$$timeoutId in f)&&(f[b.$$timeoutId].reject("canceled"),delete f[b.$$timeoutId],a.defer.cancel(b.$$timeoutId))},e}]}function ua(b){return Q&&(Y.setAttribute("href",b),b=Y.href),Y.setAttribute("href",b),{href:Y.href,protocol:Y.protocol?Y.protocol.replace(/:$/,""):"",host:Y.host,search:Y.search?Y.search.replace(/^\?/,""):"",hash:Y.hash?Y.hash.replace(/^#/,""):"",hostname:Y.hostname,port:Y.port,pathname:"/"===Y.pathname.charAt(0)?Y.pathname:"/"+Y.pathname}}function Pb(b){return(b=v(b)?ua(b):b).protocol===Hc.protocol&&b.host===Hc.host}function fe(){this.$get=ba(W)}function mc(b){function a(d,e){var f;return T(d)?(f={},r(d,function(b,c){f[c]=a(c,b)}),f):b.factory(d+c,e)}var c="Filter";this.register=a,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],a("currency",Ic),a("date",Jc),a("filter",Ce),a("json",De),a("limitTo",Ee),a("lowercase",Fe),a("number",Kc),a("orderBy",Lc),a("uppercase",Ge)}function Ce(){return function(b,a,c){if(!J(b))return b;function f(a,b){if("string"==typeof b&&"!"===b.charAt(0))return!f(a,b.substr(1));switch(void 0===a?"undefined":_typeof(a)){case"boolean":case"number":case"string":return c(a,b);case"object":if("object"===(void 0===b?"undefined":_typeof(b)))return c(a,b);for(var d in a)if("$"!==d.charAt(0)&&f(a[d],b))return!0;return!1;case"array":for(d=0;d<a.length;d++)if(f(a[d],b))return!0;return!1;default:return!1}}var d=void 0===c?"undefined":_typeof(c),e=[];e.check=function(a){for(var b=0;b<e.length;b++)if(!e[b](a))return!1;return!0},"function"!==d&&(c="boolean"===d&&c?function(a,b){return Va.equals(a,b)}:function(a,b){if(a&&b&&"object"===(void 0===a?"undefined":_typeof(a))&&"object"===(void 0===b?"undefined":_typeof(b))){for(var d in a)if("$"!==d.charAt(0)&&kb.call(a,d)&&c(a[d],b[d]))return!0;return!1}return b=(""+b).toLowerCase(),-1<(""+a).toLowerCase().indexOf(b)});switch(void 0===a?"undefined":_typeof(a)){case"boolean":case"number":case"string":a={$:a};case"object":for(var g in a)!function(b){void 0!==a[b]&&e.push(function(c){return f("$"==b?c:c&&c[b],a[b])})}(g);break;case"function":e.push(a);break;default:return b}for(d=[],g=0;g<b.length;g++){var k=b[g];e.check(k)&&d.push(k)}return d}}function Ic(b){var a=b.NUMBER_FORMATS;return function(b,d){return x(d)&&(d=a.CURRENCY_SYM),Mc(b,a.PATTERNS[1],a.GROUP_SEP,a.DECIMAL_SEP,2).replace(/\u00A4/g,d)}}function Kc(b){var a=b.NUMBER_FORMATS;return function(b,d){return Mc(b,a.PATTERNS[0],a.GROUP_SEP,a.DECIMAL_SEP,d)}}function Mc(b,a,c,d,e){if(null==b||!isFinite(b)||T(b))return"";var f=b<0,g=(b=Math.abs(b))+"",k="",m=[],h=!1;if(-1!==g.indexOf("e")&&((l=g.match(/([\d\.]+)e(-?)(\d+)/))&&"-"==l[2]&&l[3]>e+1?(g="0",b=0):(k=g,h=!0)),h)0<e&&-1<b&&b<1&&(k=b.toFixed(e));else{g=(g.split(Nc)[1]||"").length,x(e)&&(e=Math.min(Math.max(a.minFrac,g),a.maxFrac)),0===(b=+(Math.round(+(b.toString()+"e"+e)).toString()+"e"+-e))&&(f=!1),g=(b=(""+b).split(Nc))[0],b=b[1]||"";var l=0,n=a.lgSize,p=a.gSize;if(g.length>=n+p)for(l=g.length-n,h=0;h<l;h++)0==(l-h)%p&&0!==h&&(k+=c),k+=g.charAt(h);for(h=l;h<g.length;h++)0==(g.length-h)%n&&0!==h&&(k+=c),k+=g.charAt(h);for(;b.length<e;)b+="0";e&&"0"!==e&&(k+=d+b.substr(0,e))}return m.push(f?a.negPre:a.posPre),m.push(k),m.push(f?a.negSuf:a.posSuf),m.join("")}function Xb(b,a,c){var d="";for(b<0&&(d="-",b=-b),b=""+b;b.length<a;)b="0"+b;return d+(b=c?b.substr(b.length-a):b)}function $(b,a,c,d){return c=c||0,function(e){return e=e["get"+b](),(0<c||-c<e)&&(e+=c),Xb(e=0===e&&-12==c?12:e,a,d)}}function vb(b,a){return function(c,d){c=c["get"+b]();return d[Ia(a?"SHORT"+b:b)][c]}}function Jc(b){function a(a){var b,f,g,k,m;return(b=a.match(c))&&(a=new Date(0),g=f=0,k=b[8]?a.setUTCFullYear:a.setFullYear,m=b[8]?a.setUTCHours:a.setHours,b[9]&&(f=U(b[9]+b[10]),g=U(b[9]+b[11])),k.call(a,U(b[1]),U(b[2])-1,U(b[3])),f=U(b[4]||0)-f,g=U(b[5]||0)-g,k=U(b[6]||0),b=Math.round(1e3*parseFloat("0."+(b[7]||0))),m.call(a,f,g,k,b)),a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,e){var k,m,f="",g=[];if(e=b.DATETIME_FORMATS[e=e||"mediumDate"]||e,!ta(c=ib(c=v(c)?(He.test(c)?U:a)(c):c)?new Date(c):c))return c;for(;e;)e=(m=Ie.exec(e))?(g=g.concat(Ba.call(m,1))).pop():(g.push(e),null);return r(g,function(a){k=Je[a],f+=k?k(c,b.DATETIME_FORMATS):a.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}}function De(){return function(b){return na(b,!0)}}function Ee(){return function(b,a){if(!J(b)&&!v(b))return b;if(a=(1/0===Math.abs(Number(a))?Number:U)(a),v(b))return a?0<=a?b.slice(0,a):b.slice(a,b.length):"";var d,e,c=[];for(a>b.length?a=b.length:a<-b.length&&(a=-b.length),e=0<a?(d=0,a):(d=b.length+a,b.length);d<e;d++)c.push(b[d]);return c}}function Lc(b){return function(a,c,d){function e(a,b){return Ua(b)?function(b,c){return a(c,b)}:a}function f(a,b){var c=void 0===a?"undefined":_typeof(a),d=void 0===b?"undefined":_typeof(b);return c==d?(ta(a)&&ta(b)&&(a=a.valueOf(),b=b.valueOf()),"string"==c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:a<b?-1:1):c<d?-1:1}if(!Pa(a)||!c)return a;c=function(b,a,c){var d=[];return r(b,function(b,f,g){d.push(a.call(c,b,f,g))}),d}(c=J(c)?c:[c],function(a){var g,c=!1,d=a||Qa;if(v(a)&&("+"!=a.charAt(0)&&"-"!=a.charAt(0)||(c="-"==a.charAt(0),a=a.substring(1)),(d=b(a)).constant))return g=d(),e(function(a,b){return f(a[g],b[g])},c);return e(function(a,b){return f(d(a),d(b))},c)});for(var g=[],k=0;k<a.length;k++)g.push(a[k]);return g.sort(e(function(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0},d))}}function ya(b){return(b=P(b)?{link:b}:b).restrict=b.restrict||"AC",ba(b)}function Oc(b,a,c,d){function e(a,c){c=c?"-"+mb(c,"-"):"",d.setClass(b,(a?wb:xb)+c,(a?xb:wb)+c)}var f=this,g=b.parent().controller("form")||yb,k=0,m=f.$error={},h=[];f.$name=a.name||a.ngForm,f.$dirty=!1,f.$pristine=!0,f.$valid=!0,f.$invalid=!1,g.$addControl(f),b.addClass(Oa),e(!0),f.$addControl=function(a){Da(a.$name,"input"),h.push(a),a.$name&&(f[a.$name]=a)},f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name],r(m,function(b,c){f.$setValidity(c,!0,a)}),Sa(h,a)},f.$setValidity=function(a,b,c){var d=m[a];if(b)d&&(Sa(d,c),d.length||(--k||(e(b),f.$valid=!0,f.$invalid=!1),e(!(m[a]=!1),a),g.$setValidity(a,!0,f)));else{if(k||e(b),d){if(-1!=Ra(d,c))return}else m[a]=d=[],k++,e(!1,a),g.$setValidity(a,!1,f);d.push(c),f.$valid=!1,f.$invalid=!0}},f.$setDirty=function(){d.removeClass(b,Oa),d.addClass(b,zb),f.$dirty=!0,f.$pristine=!1,g.$setDirty()},f.$setPristine=function(){d.removeClass(b,zb),d.addClass(b,Oa),f.$dirty=!1,f.$pristine=!0,r(h,function(a){a.$setPristine()})}}function sa(b,a,c,d){return b.$setValidity(a,c),c?d:t}function Pc(b,a){var c;if(a)for(c=0;c<a.length;++c)if(b[a[c]])return 1}function Ab(b,a,c,d,e,f){var l,p,q,r,u,g=a.prop("validity"),k=a[0].placeholder,m={},h=K(a[0].type),n=(d.$$validityState=g,e.android||(l=!1,a.on("compositionstart",function(a){l=!0}),a.on("compositionend",function(){l=!1,n()})),function(e){var f;l||(f=a.val(),Q&&"input"===(e||m).type&&a[0].placeholder!==k?k=a[0].placeholder:("password"!==h&&Ua(c.ngTrim||"T")&&(f=aa(f)),e=g&&d.$$hasNativeValidators,(d.$viewValue!==f||""===f&&e)&&(b.$root.$$phase?d.$setViewValue(f):b.$apply(function(){d.$setViewValue(f)}))))}),s=(e.hasEvent("input")?a.on("input",n):(q=function(){p=p||f.defer(function(){n(),p=null})},a.on("keydown",function(a){91===(a=a.keyCode)||15<a&&a<19||37<=a&&a<=40||q()}),e.hasEvent("paste")&&a.on("paste cut",q)),a.on("change",n),d.$render=function(){a.val(d.$isEmpty(d.$viewValue)?"":d.$viewValue)},c.ngPattern);s&&(e=(e=s.match(/^\/(.*)\/([gim]*)$/))?(s=RegExp(e[1],e[2]),function(a){return sa(d,"pattern",d.$isEmpty(a)||s.test(a),a)}):function(c){var e;if((e=b.$eval(s))&&e.test)return sa(d,"pattern",d.$isEmpty(c)||e.test(c),c);throw C("ngPattern")("noregexp",s,e,ia(a))},d.$formatters.push(e),d.$parsers.push(e)),c.ngMinlength&&(r=U(c.ngMinlength),d.$parsers.push(e=function(a){return sa(d,"minlength",d.$isEmpty(a)||a.length>=r,a)}),d.$formatters.push(e)),c.ngMaxlength&&(u=U(c.ngMaxlength),d.$parsers.push(e=function(a){return sa(d,"maxlength",d.$isEmpty(a)||a.length<=u,a)}),d.$formatters.push(e))}function Yb(b,a){return b="ngClass"+b,["$animate",function(c){function d(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],l=0;l<b.length;l++)if(e==b[l])continue a;c.push(e)}return c}function e(a){if(!J(a)){if(v(a))return a.split(" ");var b;if(T(a))return b=[],r(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b}return a}return{restrict:"AC",link:function(f,g,k){function m(a,b){var c=g.data("$classCounts")||{},d=[];return r(a,function(a){(0<b||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a))}),g.data("$classCounts",c),d.join(" ")}function h(b){var s,h,q;!0!==a&&f.$index%2!==a||(h=e(b||[]),l?Aa(b,l)||(q=d(h,s=e(l)),h=m(h=d(s,h),-1),0===(q=m(q,1)).length?c.removeClass(g,h):0===h.length?c.addClass(g,q):c.setClass(g,q,h)):(q=m(h,1),k.$addClass(q))),l=ha(b)}var l;f.$watch(k[b],h,!0),k.$observe("class",function(a){h(f.$eval(k[b]))}),"ngClass"!==b&&f.$watch("$index",function(c,d){c&=1;c!==(1&d)&&(d=e(f.$eval(k[b])),c===a?(c=m(d,1),k.$addClass(c)):(c=m(d,-1),k.$removeClass(c)))})}}}]}var w,Ea,Ya,a,K=function(b){return v(b)?b.toLowerCase():b},kb=Object.prototype.hasOwnProperty,Ia=function(b){return v(b)?b.toUpperCase():b},Ba=[].slice,Me=[].push,za=Object.prototype.toString,Ta=C("ng"),Va=W.angular||(W.angular={}),ma=["0","0","0"],Q=U((/msie (\d+)/.exec(K(navigator.userAgent))||[])[1]),J=(isNaN(Q)&&(Q=U((/trident\/.*; rv:(\d+)/.exec(K(navigator.userAgent))||[])[1])),E.$inject=[],Qa.$inject=[],P(Array.isArray)?Array.isArray:function(b){return"[object Array]"===za.call(b)}),aa=String.prototype.trim?function(b){return v(b)?b.trim():b}:function(b){return v(b)?b.replace(/^\s\s*/,"").replace(/\s\s*$/,""):b},Ma=Q<9?function(b){return(b=b.nodeName?b:b[0]).scopeName&&"HTML"!=b.scopeName?Ia(b.scopeName+":"+b.nodeName):b.nodeName}:function(b){return b.nodeName||b[0].nodeName},Xa=function Xa(){if(y(Xa.isActive_))return Xa.isActive_;var b=!(!X.querySelector("[ng-csp]")&&!X.querySelector("[data-ng-csp]"));if(!b)try{new Function("")}catch(a){b=!0}return Xa.isActive_=b},Yc=/[A-Z]/g,ad={full:"1.2.26",major:1,minor:2,dot:26,codeName:"captivating-disinterest"},ab=(S.expando="ng339",S.cache={}),ne=1,sb=W.document.addEventListener?function(b,a,c){b.addEventListener(a,c,!1)}:function(b,a,c){b.attachEvent("on"+a,c)},$a=W.document.removeEventListener?function(b,a,c){b.removeEventListener(a,c,!1)}:function(b,a,c){b.detachEvent("on"+a,c)},ie=(S._data=function(b){return this.cache[b[this.expando]]||{}},/([\:\-\_]+(.))/g),je=/^moz([A-Z])/,Hb=C("jqLite"),ke=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ib=/<|&#?\w+;/,le=/<([\w:]+)/,me=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ea={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]},La=(ea.optgroup=ea.option,ea.tbody=ea.tfoot=ea.colgroup=ea.caption=ea.thead,ea.th=ea.td,S.prototype={ready:function(b){function a(){c||(c=!0,b())}var c=!1;"complete"===X.readyState?setTimeout(a):(this.on("DOMContentLoaded",a),S(W).on("load",a))},toString:function(){var b=[];return r(this,function(a){b.push(""+a)}),"["+b.join(", ")+"]"},eq:function(b){return w(0<=b?this[b]:this[this.length+b])},length:0,push:Me,sort:[].sort,splice:[].splice}),qb={},rc=(r("multiple selected checked disabled readOnly required open".split(" "),function(b){qb[K(b)]=b}),{});function b(b,d){var e=a[b.nodeType];if(x(d))return e?b[e]:"";b[e]=d}r("input select option textarea button form details".split(" "),function(b){rc[Ia(b)]=!0}),r({data:Mb,removeData:Lb},function(b,a){S[a]=b}),r({data:Mb,inheritedData:pb,scope:function(b){return w.data(b,"$scope")||pb(b.parentNode||b,["$isolateScope","$scope"])},isolateScope:function(b){return w.data(b,"$isolateScope")||w.data(b,"$isolateScopeNoTemplate")},controller:oc,injector:function(b){return pb(b,"$injector")},removeAttr:function(b,a){b.removeAttribute(a)},hasClass:Nb,css:function(b,a,c){var d;if(a=Za(a),!y(c))return Q<=8&&(""===(d=b.currentStyle&&b.currentStyle[a])&&(d="auto")),d=d||b.style[a],d=Q<=8?""===d?t:d:d;b.style[a]=c},attr:function(b,a,c){var d=K(a);if(qb[d]){if(!y(c))return b[a]||(b.attributes.getNamedItem(a)||E).specified?d:t;c?(b[a]=!0,b.setAttribute(a,d)):(b[a]=!1,b.removeAttribute(d))}else if(y(c))b.setAttribute(a,c);else if(b.getAttribute)return null===(b=b.getAttribute(a,2))?t:b},prop:function(b,a,c){if(!y(c))return b[a];b[a]=c},text:(a=[],Q<9?(a[1]="innerText",a[3]="nodeValue"):a[1]=a[3]="textContent",b.$dv="",b),val:function(b,a){var c;if(x(a))return"SELECT"===Ma(b)&&b.multiple?(c=[],r(b.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c):b.value;b.value=a},html:function(b,a){if(x(a))return b.innerHTML;for(var c=0,d=b.childNodes;c<d.length;c++)Ja(d[c]);b.innerHTML=a},empty:pc},function(b,a){S.prototype[a]=function(a,d){var f,g=this.length;if(b!==pc&&(2==b.length&&b!==Nb&&b!==oc?a:d)===t){if(T(a)){for(e=0;e<g;e++)if(b===Mb)b(this[e],a);else for(f in a)b(this[e],f,a[f]);return this}for(g=(e=b.$dv)===t?Math.min(g,1):g,f=0;f<g;f++)var k=b(this[f],a,d),e=e?e+k:k;return e}for(e=0;e<g;e++)b(this[e],a,d);return this}}),r({removeData:Lb,dealoc:Ja,on:function a(c,d,e,f){if(y(f))throw Hb("onargs");var g=oa(c,"events"),k=oa(c,"handle");g||oa(c,"events",g={}),k||oa(c,"handle",k=oe(c,g)),r(d.split(" "),function(d){var l,f=g[d];f||("mouseenter"==d||"mouseleave"==d?(l=X.body.contains||X.body.compareDocumentPosition?function(a,c){var d=9===a.nodeType?a.documentElement:a,c=c&&c.parentNode;return a===c||!(!c||1!==c.nodeType||!(d.contains?d.contains(c):a.compareDocumentPosition&&16&a.compareDocumentPosition(c)))}:function(a,c){if(c)for(;c=c.parentNode;)if(c===a)return!0;return!1},g[d]=[],a(c,{mouseleave:"mouseout",mouseenter:"mouseover"}[d],function(a){var c=a.relatedTarget;c&&(c===this||l(this,c))||k(a,d)})):(sb(c,d,k),g[d]=[]),f=g[d]),f.push(e)})},off:nc,one:function(a,c,d){(a=w(a)).on(c,function f(){a.off(c,d),a.off(c,f)}),a.on(c,d)},replaceWith:function(a,c){var d,e=a.parentNode;Ja(a),r(new S(c),function(c){d?e.insertBefore(c,d.nextSibling):e.replaceChild(c,a),d=c})},children:function(a){var c=[];return r(a.childNodes,function(a){1===a.nodeType&&c.push(a)}),c},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,c){r(new S(c),function(c){1!==a.nodeType&&11!==a.nodeType||a.appendChild(c)})},prepend:function(a,c){var d;1===a.nodeType&&(d=a.firstChild,r(new S(c),function(c){a.insertBefore(c,d)}))},wrap:function(a,c){c=w(c)[0];var d=a.parentNode;d&&d.replaceChild(c,a),c.appendChild(a)},remove:function(a){Ja(a);var c=a.parentNode;c&&c.removeChild(a)},after:function(a,c){var d=a,e=a.parentNode;r(new S(c),function(a){e.insertBefore(a,d.nextSibling),d=a})},addClass:ob,removeClass:nb,toggleClass:function(a,c,d){c&&r(c.split(" "),function(c){var f=d;((f=x(d)?!Nb(a,c):f)?ob:nb)(a,c)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){if(a.nextElementSibling)return a.nextElementSibling;for(a=a.nextSibling;null!=a&&1!==a.nodeType;)a=a.nextSibling;return a},find:function(a,c){return a.getElementsByTagName?a.getElementsByTagName(c):[]},clone:Kb,triggerHandler:function(a,c,d){var f,e=c.type||c,g=(oa(a,"events")||{})[e];g&&(e={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopPropagation:E,type:e,target:a},c.type&&(e=D(e,c)),c=ha(g),f=d?[e].concat(d):[e],r(c,function(c){c.apply(a,f)}))}},function(a,c){S.prototype[c]=function(c,e,f){for(var g,k=0;k<this.length;k++)x(g)?y(g=a(this[k],c,e,f))&&(g=w(g)):Jb(g,a(this[k],c,e,f));return y(g)?g:this},S.prototype.bind=S.prototype.on,S.prototype.unbind=S.prototype.off}),bb.prototype={put:function(a,c){this[Ka(a,this.nextUid)]=c},get:function(a){return this[Ka(a,this.nextUid)]},remove:function(a){var c=this[a=Ka(a,this.nextUid)];return delete this[a],c}};function Rc(a){return["$timeout",function(c){return{name:"form",restrict:a?"EAC":"E",controller:Oc,compile:function(){return{pre:function(a,e,f,g){f.action||(sb(e[0],"submit",k=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1}),e.on("$destroy",function(){c(function(){$a(e[0],"submit",k)},0,!1)}));var k,m=e.parent().controller("form"),h=f.name||f.ngForm;h&&ub(a,h,g,h),m&&e.on("$destroy",function(){m.$removeControl(g),h&&ub(a,h,t,h),D(g,yb)})}}}}}]}function Gd(){return{require:["ngModel","^?form"],controller:We,link:function(a,c,d,e){var f=e[0],g=e[1]||yb;g.$addControl(f),a.$on("$destroy",function(){g.$removeControl(f)})}}}function kc(){return{require:"?ngModel",link:function(a,c,d,e){var f;e&&(d.required=!0,e.$formatters.push(f=function(a){if(!d.required||!e.$isEmpty(a))return e.$setValidity("required",!0),a;e.$setValidity("required",!1)}),e.$parsers.unshift(f),d.$observe("required",function(){f(e.$viewValue)}))}}}function Hd(){return{require:"ngModel",link:function(a,c,d,e){var f=(a=/\/(.*)\//.exec(d.ngList))&&RegExp(a[1])||d.ngList||",";e.$parsers.push(function(a){var c;if(!x(a))return c=[],a&&r(a.split(f),function(a){a&&c.push(aa(a))}),c}),e.$formatters.push(function(a){return J(a)?a.join(", "):t}),e.$isEmpty=function(a){return!a||!a.length}}}}function Jd(){return{priority:100,compile:function(a,c){return Xe.test(c.ngValue)?function(a,c,f){f.$set("value",a.$eval(f.ngValue))}:function(a,c,f){a.$watch(f.ngValue,function(a){f.$set("value",a)})}}}}var wa,qe=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,re=/,/,se=/^\s*(_?)(\S+?)\1\s*$/,pe=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,cb=C("$injector"),Ne=C("$animate"),Md=["$provide",function(a){this.$$selectors={},this.register=function(c,d){var e=c+"-animation";if(c&&"."!=c.charAt(0))throw Ne("notcsel",c);this.$$selectors[c.substr(1)]=e,a.factory(e,d)},this.classNameFilter=function(a){return 1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function(a,d){return{enter:function(a,c,g,k){g?g.after(a):(c=c&&c[0]?c:g.parent()).append(a),k&&d(k)},leave:function(a,c){a.remove(),c&&d(c)},move:function(a,c,d,k){this.enter(a,c,d,k)},addClass:function(a,c,g){c=v(c)?c:J(c)?c.join(" "):"",r(a,function(a){ob(a,c)}),g&&d(g)},removeClass:function(a,c,g){c=v(c)?c:J(c)?c.join(" "):"",r(a,function(a){nb(a,c)}),g&&d(g)},setClass:function(a,c,g,k){r(a,function(a){ob(a,c),nb(a,g)}),k&&d(k)},enabled:E}}]}],ja=C("$compile"),we=/^(x[\:\-_]|data[\:\-_])/i,yc=C("$interpolate"),Oe=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ze={http:80,https:443,ftp:21},Sb=C("$location"),la=(Ub.prototype=Tb.prototype=Bc.prototype={$$html5:!(ic.$inject=["$provide","$$sanitizeUriProvider"]),$$replace:!1,absUrl:tb("$$absUrl"),url:function(a){return x(a)?this.$$url:((a=Oe.exec(a))[1]&&this.path(decodeURIComponent(a[1])),(a[2]||a[1])&&this.search(a[3]||""),this.hash(a[5]||""),this)},protocol:tb("$$protocol"),host:tb("$$host"),port:tb("$$port"),path:Cc("$$path",function(a){return"/"==(a=a?a.toString():"").charAt(0)?a:"/"+a}),search:function(a,c){switch(arguments.length){case 0:return this.$$search;case 1:if(v(a)||ib(a))a=a.toString(),this.$$search=ec(a);else{if(!T(a))throw Sb("isrcharg");r(a,function(c,e){null==c&&delete a[e]}),this.$$search=a}break;default:x(c)||null===c?delete this.$$search[a]:this.$$search[a]=c}return this.$$compose(),this},hash:Cc("$$hash",function(a){return a?a.toString():""}),replace:function(){return this.$$replace=!0,this}},C("$parse")),Fc={},Pe=Function.prototype.call,Qe=Function.prototype.apply,Qc=Function.prototype.bind,gb={null:function(){return null},true:function(){return!0},false:function(){return!1},undefined:E,"+":function(a,c,d,e){return d=d(a,c),e=e(a,c),y(d)?y(e)?d+e:d:y(e)?e:t},"-":function(a,c,d,e){return d=d(a,c),e=e(a,c),(y(d)?d:0)-(y(e)?e:0)},"*":function(a,c,d,e){return d(a,c)*e(a,c)},"/":function(a,c,d,e){return d(a,c)/e(a,c)},"%":function(a,c,d,e){return d(a,c)%e(a,c)},"^":function(a,c,d,e){return d(a,c)^e(a,c)},"=":E,"===":function(a,c,d,e){return d(a,c)===e(a,c)},"!==":function(a,c,d,e){return d(a,c)!==e(a,c)},"==":function(a,c,d,e){return d(a,c)==e(a,c)},"!=":function(a,c,d,e){return d(a,c)!=e(a,c)},"<":function(a,c,d,e){return d(a,c)<e(a,c)},">":function(a,c,d,e){return d(a,c)>e(a,c)},"<=":function(a,c,d,e){return d(a,c)<=e(a,c)},">=":function(a,c,d,e){return d(a,c)>=e(a,c)},"&&":function(a,c,d,e){return d(a,c)&&e(a,c)},"||":function(a,c,d,e){return d(a,c)||e(a,c)},"&":function(a,c,d,e){return d(a,c)&e(a,c)},"|":function(a,c,d,e){return e(a,c)(a,c,d(a,c))},"!":function(a,c,d){return!d(a,c)}},Re={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Wb=function(a){this.options=a},fb=(Wb.prototype={constructor:Wb,lex:function(a){for(this.text=a,this.index=0,this.ch=t,this.lastCh=":",this.tokens=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var c=(a=this.ch+this.peek())+this.peek(2),d=gb[this.ch],e=gb[a],f=gb[c];f?(this.tokens.push({index:this.index,text:c,fn:f}),this.index+=3):e?(this.tokens.push({index:this.index,text:a,fn:e}),this.index+=2):d?(this.tokens.push({index:this.index,text:this.ch,fn:d}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(a){return-1!==a.indexOf(this.ch)},was:function(a){return-1!==a.indexOf(this.lastCh)},peek:function(a){return this.index+(a=a||1)<this.text.length&&this.text.charAt(this.index+a)},isNumber:function(a){return"0"<=a&&a<="9"},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"Â "===a},isIdent:function(a){return"a"<=a&&a<="z"||"A"<=a&&a<="Z"||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,c,d){throw d=d||this.index,c=y(c)?"s "+c+"-"+this.index+" ["+this.text.substring(c,d)+"]":" "+d,la("lexerr",a,c,this.text)},readNumber:function(){for(var a="",c=this.index;this.index<this.text.length;){var d=K(this.text.charAt(this.index));if("."==d||this.isNumber(d))a+=d;else{var e=this.peek();if("e"==d&&this.isExpOperator(e))a+=d;else if(this.isExpOperator(d)&&e&&this.isNumber(e)&&"e"==a.charAt(a.length-1))a+=d;else{if(!this.isExpOperator(d)||e&&this.isNumber(e)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}a*=1,this.tokens.push({index:c,text:a,literal:!0,constant:!0,fn:function(){return a}})},readIdent:function(){for(var e,f,g,k,m,a=this,c="",d=this.index;this.index<this.text.length&&("."===(k=this.text.charAt(this.index))||this.isIdent(k)||this.isNumber(k));)"."===k&&(e=this.index),c+=k,this.index++;if(e)for(f=this.index;f<this.text.length;){if("("===(k=this.text.charAt(f))){g=c.substr(e-d+1),c=c.substr(0,e-d),this.index=f;break}if(!this.isWhitespace(k))break;f++}d={index:d,text:c},gb.hasOwnProperty(c)?(d.fn=gb[c],d.literal=!0,d.constant=!0):(m=Ec(c,this.options,this.text),d.fn=D(function(a,c){return m(a,c)},{assign:function(d,e){return ub(d,c,e,a.text,a.options)}})),this.tokens.push(d),g&&(this.tokens.push({index:e,text:"."}),this.tokens.push({index:e+1,text:g}))},readString:function(a){var c=this.index;this.index++;for(var d="",e=a,f=!1;this.index<this.text.length;){var g=this.text.charAt(this.index),e=e+g;if(f)"u"===g?((f=this.text.substring(this.index+1,this.index+5)).match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+f+"]"),this.index+=4,d+=String.fromCharCode(parseInt(f,16))):d+=Re[g]||g,f=!1;else if("\\"===g)f=!0;else{if(g===a)return this.index++,void this.tokens.push({index:c,text:e,string:d,literal:!0,constant:!0,fn:function(){return d}});d+=g}this.index++}this.throwError("Unterminated quote",c)}},function(a,c,d){this.lexer=a,this.$filter=c,this.options=d}),Vb=(fb.ZERO=D(function(){return 0},{constant:!0}),fb.prototype={constructor:fb,parse:function(a){return this.text=a,this.tokens=this.lexer.lex(a),a=this.statements(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),a.literal=!!a.literal,a.constant=!!a.constant,a},primary:function(){var a,c,d;for(this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():((a=(c=this.expect()).fn)||this.throwError("not a primary expression",c),a.literal=!!c.literal,a.constant=!!c.constant);c=this.expect("(","[",".");)"("===c.text?(a=this.functionCall(a,d),d=null):"["===c.text?(d=a,a=this.objectIndex(a)):"."===c.text?(d=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,c){throw la("syntax",c.text,a,c.index+1,this.text,this.text.substring(c.index))},peekToken:function(){if(0===this.tokens.length)throw la("ueoe",this.text);return this.tokens[0]},peek:function(a,c,d,e){if(0<this.tokens.length){var f=this.tokens[0],g=f.text;if(g===a||g===c||g===d||g===e||!(a||c||d||e))return f}return!1},expect:function(a,c,d,e){return!!(a=this.peek(a,c,d,e))&&(this.tokens.shift(),a)},consume:function(a){this.expect(a)||this.throwError("is unexpected, expecting ["+a+"]",this.peek())},unaryFn:function(a,c){return D(function(d,e){return a(d,e,c)},{constant:c.constant})},ternaryFn:function(a,c,d){return D(function(e,f){return(a(e,f)?c:d)(e,f)},{constant:a.constant&&c.constant&&d.constant})},binaryFn:function(a,c,d){return D(function(e,f){return c(e,f,a,d)},{constant:a.constant&&d.constant})},statements:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(c,d){for(var e,f=0;f<a.length;f++){var g=a[f];g&&(e=g(c,d))}return e}},filterChain:function(){for(var c,a=this.expression();;){if(!(c=this.expect("|")))return a;a=this.binaryFn(a,c.fn,this.filter())}},filter:function(){for(var e,a=this.expect(),c=this.$filter(a.text),d=[];;){if(!this.expect(":"))return e=function(a,_e,k){k=[k];for(var m=0;m<d.length;m++)k.push(d[m](a,_e));return c.apply(a,k)},function(){return e};d.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var c,d,a=this.ternary();return(d=this.expect("="))?(a.assign||this.throwError("implies assignment but ["+this.text.substring(0,d.index)+"] can not be assigned to",d),c=this.ternary(),function(d,f){return a.assign(d,c(d,f),f)}):a},ternary:function(){var c,d,a=this.logicalOR();return this.expect("?")?(c=this.assignment(),(d=this.expect(":"))?this.ternaryFn(a,c,this.assignment()):void this.throwError("expected :",d)):a},logicalOR:function(){for(var c,a=this.logicalAND();;){if(!(c=this.expect("||")))return a;a=this.binaryFn(a,c.fn,this.logicalAND())}},logicalAND:function(){var c,a=this.equality();return a=(c=this.expect("&&"))?this.binaryFn(a,c.fn,this.logicalAND()):a},equality:function(){var c,a=this.relational();return a=(c=this.expect("==","!=","===","!=="))?this.binaryFn(a,c.fn,this.equality()):a},relational:function(){var c,a=this.additive();return a=(c=this.expect("<",">","<=",">="))?this.binaryFn(a,c.fn,this.relational()):a},additive:function(){for(var c,a=this.multiplicative();c=this.expect("+","-");)a=this.binaryFn(a,c.fn,this.multiplicative());return a},multiplicative:function(){for(var c,a=this.unary();c=this.expect("*","/","%");)a=this.binaryFn(a,c.fn,this.unary());return a},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(fb.ZERO,a.fn,this.unary()):(a=this.expect("!"))?this.unaryFn(a.fn,this.unary()):this.primary()},fieldAccess:function(a){var c=this,d=this.expect().text,e=Ec(d,this.options,this.text);return D(function(c,d,k){return e(k||a(c,d))},{assign:function(e,g,k){return(k=a(e,k))||a.assign(e,k={}),ub(k,d,g,c.text,c.options)}})},objectIndex:function(a){var c=this,d=this.expression();return this.consume("]"),D(function(e,f){var m,g=a(e,f),e=d(e,f);return ka(e,c.text),g?((g=va(g[e],c.text))&&g.then&&c.options.unwrapPromises&&("$$v"in(m=g)||(m.$$v=t,m.then(function(a){m.$$v=a})),g=g.$$v),g):t},{assign:function(e,f,g){var k=ka(d(e,g),c.text);return(g=va(a(e,g),c.text))||a.assign(e,g={}),g[k]=f}})},functionCall:function(a,c){var d=[];if(")"!==this.peekToken().text)for(;d.push(this.expression()),this.expect(","););this.consume(")");var e=this;return function(f,g){for(var k=[],m=c?c(f,g):f,h=0;h<d.length;h++)k.push(va(d[h](f,g),e.text));h=a(f,g,m)||E,va(m,e.text);var l=e.text;if(h){if(h.constructor===h)throw la("isecfn",l);if(h===Pe||h===Qe||Qc&&h===Qc)throw la("isecff",l)}return va(k=h.apply?h.apply(m,k):h(k[0],k[1],k[2],k[3],k[4]),e.text)}},arrayDeclaration:function(){var a=[],c=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var d=this.expression()}while(a.push(d),d.constant||(c=!1),this.expect(","));return this.consume("]"),D(function(c,d){for(var g=[],k=0;k<a.length;k++)g.push(a[k](c,d));return g},{literal:!0,constant:c})},object:function(){var a=[],c=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var d=(d=this.expect()).string||d.text,e=(this.consume(":"),this.expression())}while(a.push({key:d,value:e}),e.constant||(c=!1),this.expect(","));return this.consume("}"),D(function(c,d){for(var e={},m=0;m<a.length;m++){var h=a[m];e[h.key]=h.value(c,d)}return e},{literal:!0,constant:c})}},{}),xa=C("$sce"),ga={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Y=X.createElement("a"),Hc=ua(W.location.href),Nc=(mc.$inject=["$provide"],Ic.$inject=["$locale"],Kc.$inject=["$locale"],"."),Je={yyyy:$("FullYear",4),yy:$("FullYear",2,0,!0),y:$("FullYear",1),MMMM:vb("Month"),MMM:vb("Month",!0),MM:$("Month",2,1),M:$("Month",1,1),dd:$("Date",2),d:$("Date",1),HH:$("Hours",2),H:$("Hours",1),hh:$("Hours",2,-12),h:$("Hours",1,-12),mm:$("Minutes",2),m:$("Minutes",1),ss:$("Seconds",2),s:$("Seconds",1),sss:$("Milliseconds",3),EEEE:vb("Day"),EEE:vb("Day",!0),a:function(_a,c){return _a.getHours()<12?c.AMPMS[0]:c.AMPMS[1]},Z:function(a){return(0<=(a=-1*a.getTimezoneOffset())?"+":"")+(Xb(Math[0<a?"floor":"ceil"](a/60),2)+Xb(Math.abs(a%60),2))}},Ie=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,He=/^\-?\d+$/,Fe=(Jc.$inject=["$locale"],ba(K)),Ge=ba(Ia),dd=(Lc.$inject=["$parse"],ba({restrict:"E",compile:function(a,c){if(Q<=8&&(c.href||c.name||c.$set("href",""),a.append(X.createComment("IE fix"))),!c.href&&!c.xlinkHref&&!c.name)return function(a,c){var f="[object SVGAnimatedString]"===za.call(c.prop("href"))?"xlink:href":"href";c.on("click",function(a){c.attr(f)||a.preventDefault()})}}})),Fb={},yb=(r(qb,function(a,c){var d;"multiple"!=a&&(d=pa("ng-"+c),Fb[d]=function(){return{priority:100,link:function(a,f,g){a.$watch(g[d],function(a){g.$set(c,!!a)})}}})}),r(["src","srcset","href"],function(a){var c=pa("ng-"+a);Fb[c]=function(){return{priority:99,link:function(d,e,f){var g=a,k=a;"href"===a&&"[object SVGAnimatedString]"===za.call(e.prop("href"))&&(k="xlinkHref",f.$attr[k]="xlink:href",g=null),f.$observe(c,function(c){c?(f.$set(k,c),Q&&g&&e.prop(g,f[k])):"href"===a&&f.$set(k,null)})}}}}),{$addControl:E,$removeControl:E,$setValidity:E,$setDirty:E,$setPristine:E}),ed=(Oc.$inject=["$element","$attrs","$scope","$animate"],Rc()),rd=Rc(!0),Se=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Te=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Ue=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Sc={text:Ab,number:function(a,c,d,e,f,g){Ab(a,c,d,e,f,g),e.$parsers.push(function(a){var c=e.$isEmpty(a);return c||Ue.test(a)?(e.$setValidity("number",!0),""===a?null:c?a:parseFloat(a)):(e.$setValidity("number",!1),t)}),function(b,a,c,d,e){T(e)&&(b.$$hasNativeValidators=!0,b.$parsers.push(function(f){if(b.$error[a]||Pc(e,d)||!Pc(e,c))return f;b.$setValidity(a,!1)}))}(e,"number",Ve,null,e.$$validityState),e.$formatters.push(function(a){return e.$isEmpty(a)?"":""+a}),d.min&&(e.$parsers.push(a=function(_a2){var c=parseFloat(d.min);return sa(e,"min",e.$isEmpty(_a2)||c<=_a2,_a2)}),e.$formatters.push(a)),d.max&&(e.$parsers.push(a=function(_a3){var c=parseFloat(d.max);return sa(e,"max",e.$isEmpty(_a3)||_a3<=c,_a3)}),e.$formatters.push(a)),e.$formatters.push(function(a){return sa(e,"number",e.$isEmpty(a)||ib(a),a)})},url:function(a,c,d,e,f,g){Ab(a,c,d,e,f,g),e.$formatters.push(a=function(_a4){return sa(e,"url",e.$isEmpty(_a4)||Se.test(_a4),_a4)}),e.$parsers.push(a)},email:function(a,c,d,e,f,g){Ab(a,c,d,e,f,g),e.$formatters.push(a=function(_a5){return sa(e,"email",e.$isEmpty(_a5)||Te.test(_a5),_a5)}),e.$parsers.push(a)},radio:function(a,c,d,e){x(d.name)&&c.attr("name",hb()),c.on("click",function(){c[0].checked&&a.$apply(function(){e.$setViewValue(d.value)})}),e.$render=function(){c[0].checked=d.value==e.$viewValue},d.$observe("value",e.$render)},checkbox:function(a,c,d,e){var f=d.ngTrueValue,g=d.ngFalseValue;v(f)||(f=!0),v(g)||(g=!1),c.on("click",function(){a.$apply(function(){e.$setViewValue(c[0].checked)})}),e.$render=function(){c[0].checked=e.$viewValue},e.$isEmpty=function(a){return a!==f},e.$formatters.push(function(a){return a===f}),e.$parsers.push(function(a){return a?f:g})},hidden:E,button:E,submit:E,reset:E,file:E},Ve=["badInput"],jc=["$browser","$sniffer",function(a,c){return{restrict:"E",require:"?ngModel",link:function(d,e,f,g){g&&(Sc[K(f.type)]||Sc.text)(d,e,f,g,c,a)}}}],wb="ng-valid",xb="ng-invalid",Oa="ng-pristine",zb="ng-dirty",We=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(a,c,d,e,f,g){function k(a,c){c=c?"-"+mb(c,"-"):"",g.removeClass(e,(a?xb:wb)+c),g.addClass(e,(a?wb:xb)+c)}this.$modelValue=this.$viewValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=d.name;var m=f(d.ngModel),h=m.assign;if(!h)throw C("ngModel")("nonassign",d.ngModel,ia(e));this.$render=E,this.$isEmpty=function(a){return x(a)||""===a||null===a||a!=a};var l=e.inheritedData("$formController")||yb,n=0,p=this.$error={},q=(e.addClass(Oa),k(!0),this.$setValidity=function(a,c){p[a]!==!c&&(c?(p[a]&&n--,n||(k(!0),this.$valid=!0,this.$invalid=!1)):(k(!1),this.$invalid=!0,this.$valid=!1,n++),p[a]=!c,k(c,a),l.$setValidity(a,c,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,g.removeClass(e,zb),g.addClass(e,Oa)},this.$setViewValue=function(d){this.$viewValue=d,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,g.removeClass(e,Oa),g.addClass(e,zb),l.$setDirty()),r(this.$parsers,function(a){d=a(d)}),this.$modelValue!==d&&(this.$modelValue=d,h(a,d),r(this.$viewChangeListeners,function(a){try{a()}catch(d){c(d)}}))},this);a.$watch(function(){var c=m(a);if(q.$modelValue!==c){var d=q.$formatters,e=d.length;for(q.$modelValue=c;e--;)c=d[e](c);q.$viewValue!==c&&(q.$viewValue=c,q.$render())}return c})}],Id=ba({require:"ngModel",link:function(a,c,d,e){e.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),Xe=/^(true|false|\d+)$/,jd=ya({compile:function(a){return a.addClass("ng-binding"),function(a,d,e){d.data("$binding",e.ngBind),a.$watch(e.ngBind,function(a){d.text(a==t?"":a)})}}}),ld=["$interpolate",function(a){return function(c,d,e){c=a(d.attr(e.$attr.ngBindTemplate)),d.addClass("ng-binding").data("$binding",c),e.$observe("ngBindTemplate",function(a){d.text(a)})}}],kd=["$sce","$parse",function(a,c){return{compile:function(d){return d.addClass("ng-binding"),function(d,f,g){f.data("$binding",g.ngBindHtml);var k=c(g.ngBindHtml);d.$watch(function(){return(k(d)||"").toString()},function(c){f.html(a.getTrustedHtml(k(d))||"")})}}}}],md=Yb("",!0),od=Yb("Odd",0),nd=Yb("Even",1),pd=ya({compile:function(a,c){c.$set("ngCloak",t),a.removeClass("ng-cloak")}}),qd=[function(){return{scope:!0,controller:"@",priority:500}}],lc={},Ye={blur:!0,focus:!0},td=(r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var c=pa("ng-"+a);lc[c]=["$parse","$rootScope",function(d,e){return{compile:function(f,g){var k=d(g[c]);return function(c,d){d.on(a,function(d){function f(){k(c,{$event:d})}Ye[a]&&e.$$phase?c.$evalAsync(f):c.$apply(f)})}}}}]}),["$animate",function(a){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var k,m,h;c.$watch(e.ngIf,function(f){Ua(f)?m||(m=c.$new(),g(m,function(c){c[c.length++]=X.createComment(" end ngIf: "+e.ngIf+" "),k={clone:c},a.enter(c,d.parent(),d)})):(h&&(h.remove(),h=null),m&&(m.$destroy(),m=null),k&&(h=Eb(k.clone),a.leave(h,function(){h=null}),k=null))})}}}]),ud=["$http","$templateCache","$anchorScroll","$animate","$sce",function(a,c,d,e,f){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Va.noop,compile:function(g,k){var m=k.ngInclude||k.src,h=k.onload||"",l=k.autoscroll;return function(g,k,q,r,F){function z(){w&&(w.remove(),w=null),t&&(t.$destroy(),t=null),R&&(e.leave(R,function(){w=null}),w=R,R=null)}var t,w,R,u=0;g.$watch(f.parseAsResourceUrl(m),function(f){function m(){!y(l)||l&&!g.$eval(l)||d()}var q=++u;f?(a.get(f,{cache:c}).success(function(a){var c;q===u&&(c=g.$new(),r.template=a,a=F(c,function(a){z(),e.enter(a,null,k,m)}),R=a,(t=c).$emit("$includeContentLoaded"),g.$eval(h))}).error(function(){q===u&&z()}),g.$emit("$includeContentRequested")):(z(),r.template=null)})}}}}],Kd=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){d.html(f.template),a(d.contents())(c)}}}],vd=ya({priority:450,compile:function(){return{pre:function(a,c,d){a.$eval(d.ngInit)}}}}),wd=ya({terminal:!0,priority:1e3}),xd=["$locale","$interpolate",function(a,c){var d=/{}/g;return{restrict:"EA",link:function(e,f,g){var k=g.count,m=g.$attr.when&&f.attr(g.$attr.when),h=g.offset||0,l=e.$eval(m)||{},n={},p=c.startSymbol(),q=c.endSymbol(),s=/^when(Minus)?(.+)$/;r(g,function(a,c){s.test(c)&&(l[K(c.replace("when","").replace("Minus","-"))]=f.attr(g.$attr[c]))}),r(l,function(a,e){n[e]=c(a.replace(d,p+k+"-"+h+q))}),e.$watch(function(){var c=parseFloat(e.$eval(k));return isNaN(c)?"":(c in l||(c=a.pluralCat(c-h)),n[c](e,f,!0))},function(a){f.text(a)})}}}],yd=["$parse","$animate",function(a,c){var d=C("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(e,f,g,k,m){var n,p,q,s,h=g.ngRepeat,l=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),A={$id:Ka};if(!l)throw d("iexp",h);if(g=l[1],k=l[2],(l=l[3])?(n=a(l),p=function(a,c,d){return u&&(A[u]=a),A[t]=c,A.$index=d,n(e,A)}):(q=function(a,c){return Ka(c)},s=function(a){return a}),!(l=g.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/)))throw d("iidexp",g);var t=l[3]||l[1],u=l[2],y={};e.$watchCollection(k,function(a){var g,k,n,B,I,H,v,E,C,x,l=f[0],A={},J=[];if(Pa(a))C=a,E=p||q;else{for(H in E=p||s,C=[],a)a.hasOwnProperty(H)&&"$"!=H.charAt(0)&&C.push(H);C.sort()}for(B=C.length,k=J.length=C.length,g=0;g<k;g++)if(Da(n=E(H=a===C?g:C[g],v=a[H],g),"`track by` id"),y.hasOwnProperty(n))x=y[n],delete y[n],A[n]=x,J[g]=x;else{if(A.hasOwnProperty(n))throw r(J,function(a){a&&a.scope&&(y[a.id]=a)}),d("dupes",h,n,na(v));J[g]={id:n},A[n]=!1}for(H in y)y.hasOwnProperty(H)&&(g=Eb((x=y[H]).clone),c.leave(g),r(g,function(a){a.$$NG_REMOVED=!0}),x.scope.$destroy());for(g=0,k=C.length;g<k;g++){if(v=a[H=a===C?g:C[g]],x=J[g],J[g-1]&&(l=J[g-1].clone[J[g-1].clone.length-1]),x.scope){for(I=x.scope,n=l;(n=n.nextSibling)&&n.$$NG_REMOVED;);x.clone[0]!=n&&c.move(Eb(x.clone),null,w(l)),l=x.clone[x.clone.length-1]}else I=e.$new();I[t]=v,u&&(I[u]=H),I.$index=g,I.$first=0===g,I.$last=g===B-1,I.$middle=!(I.$first||I.$last),I.$odd=!(I.$even=0==(1&g)),x.scope||m(I,function(a){a[a.length++]=X.createComment(" end ngRepeat: "+h+" "),c.enter(a,null,w(l)),l=a,x.scope=I,x.clone=a,A[x.id]=x})}y=A})}}}],zd=["$animate",function(a){return function(c,d,e){c.$watch(e.ngShow,function(c){a[Ua(c)?"removeClass":"addClass"](d,"ng-hide")})}}],sd=["$animate",function(a){return function(c,d,e){c.$watch(e.ngHide,function(c){a[Ua(c)?"addClass":"removeClass"](d,"ng-hide")})}}],Ad=ya(function(a,c,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&r(d,function(a,d){c.css(d,"")}),a&&c.css(a)},!0)}),Bd=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,f){var g,k=[],m=[],h=[];c.$watch(e.ngSwitch||e.on,function(d){for(var n=0,p=m.length;n<p;++n)m[n].remove();for(n=m.length=0,p=h.length;n<p;++n){var q=k[n];h[n].$destroy(),m[n]=q,a.leave(q,function(){m.splice(n,1)})}k.length=0,h.length=0,(g=f.cases["!"+d]||f.cases["?"])&&(c.$eval(e.change),r(g,function(d){var e=c.$new();h.push(e),d.transclude(e,function(c){var e=d.element;k.push(c),a.enter(c,e.parent(),e)})}))})}}}],Cd=ya({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,c,d,e,f){e.cases["!"+d.ngSwitchWhen]=e.cases["!"+d.ngSwitchWhen]||[],e.cases["!"+d.ngSwitchWhen].push({transclude:f,element:c})}}),Dd=ya({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,c,d,e,f){e.cases["?"]=e.cases["?"]||[],e.cases["?"].push({transclude:f,element:c})}}),Fd=ya({link:function(a,c,d,e,f){if(!f)throw C("ngTransclude")("orphan",ia(c));f(function(a){c.empty(),c.append(a)})}}),fd=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(c,d){"text/ng-template"==d.type&&a.put(d.id,c[0].text)}}}],Ze=C("ngOptions"),Ed=ba({terminal:!0}),gd=["$compile","$parse",function(a,c){var d=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,e={$setViewValue:E};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,c,d){var n,m=this,h={},l=e;m.databound=d.ngModel,m.init=function(a,c,d){l=a,n=d},m.addOption=function(c){Da(c,'"option value"'),h[c]=!0,l.$viewValue==c&&(a.val(c),n.parent()&&n.remove())},m.removeOption=function(a){this.hasOption(a)&&(delete h[a],l.$viewValue==a&&this.renderUnknownOption(a))},m.renderUnknownOption=function(c){c="? "+Ka(c)+" ?",n.val(c),a.prepend(n),a.val(c),n.prop("selected",!0)},m.hasOption=function(a){return h.hasOwnProperty(a)},c.$on("$destroy",function(){m.renderUnknownOption=E})}],link:function(e,g,k,m){if(m[1]){var u,p=m[0],q=(m=m[1],k.multiple),s=k.ngOptions,F=!1,A=w(X.createElement("option")),C=w(X.createElement("optgroup")),v=A.clone();k=0;for(var z=g.children(),E=z.length;k<E;k++)if(""===z[k].value){u=F=z.eq(k);break}p.init(m,F,v),q&&(m.$isEmpty=function(a){return!a||0===a.length}),s?function(e,f,g){function k(){var d,h,v,I,D,K,a={"":[]},c=[""],s=g.$modelValue,t=w(e)||[],E=n?Zb(t):t,M={},B=!1;if(q)if(h=g.$modelValue,x&&J(h))for(B=new bb([]),d={},v=0;v<h.length;v++)d[m]=h[v],B.put(x(e,d),h[v]);else B=new bb(h);for(v=B,B=0;B<(I=E.length);B++){if(h=B,n){if("$"===(h=E[B]).charAt(0))continue;M[n]=h}M[m]=t[h],(h=a[d=r(e,M)||""])||(h=a[d]=[],c.push(d)),q?d=y(v.remove((x||u)(e,M))):(d=x?((d={})[m]=s,x(e,d)===x(e,M)):s===u(e,M),v=v||d),D=y(D=l(e,M))?D:"",h.push({id:x?x(e,M):n?E[B]:B,label:D,selected:d})}for(q||(F||null===s?a[""].unshift({id:"",label:"",selected:!v}):v||a[""].unshift({id:"?",label:"",selected:!0})),M=0,E=c.length;M<E;M++){for(h=a[d=c[M]],z.length<=M?(s={element:C.clone().attr("label",d),label:h.label},z.push(t=[s]),f.append(s.element)):(s=(t=z[M])[0]).label!=d&&s.element.attr("label",s.label=d),D=null,B=0,I=h.length;B<I;B++)d=h[B],(v=t[B+1])?(D=v.element,v.label!==d.label&&D.text(v.label=d.label),v.id!==d.id&&D.val(v.id=d.id),D[0].selected!==d.selected&&(D.prop("selected",v.selected=d.selected),Q&&D.prop("selected",v.selected))):(""===d.id&&F?K=F:(K=A.clone()).val(d.id).prop("selected",d.selected).attr("selected",d.selected).text(d.label),t.push({element:K,label:d.label,id:d.id,selected:d.selected}),p.addOption(d.label,K),D?D.after(K):s.element.append(K),D=K);for(B++;t.length>B;)d=t.pop(),p.removeOption(d.label),d.element.remove()}for(;z.length>M;)z.pop()[0].element.remove()}var h;if(!(h=s.match(d)))throw Ze("iexp",s,ia(f));var l=c(h[2]||h[1]),m=h[4]||h[6],n=h[5],r=c(h[3]||""),u=c(h[2]?h[1]:m),w=c(h[7]),x=h[8]?c(h[8]):null,z=[[{element:f,label:""}]];F&&(a(F)(e),F.removeClass("ng-scope"),F.remove()),f.empty(),f.on("change",function(){e.$apply(function(){var a,h,l,p,r,s,v,y,c=w(e)||[],d={};if(q){for(l=[],r=0,v=z.length;r<v;r++)for(p=1,s=(a=z[r]).length;p<s;p++)if((h=a[p].element)[0].selected){if(h=h.val(),n&&(d[n]=h),x)for(y=0;y<c.length&&(d[m]=c[y],x(e,d)!=h);y++);else d[m]=c[h];l.push(u(e,d))}}else if("?"==(h=f.val()))l=t;else if(""===h)l=null;else if(x){for(y=0;y<c.length;y++)if(d[m]=c[y],x(e,d)==h){l=u(e,d);break}}else d[m]=c[h],n&&(d[n]=h),l=u(e,d);g.$setViewValue(l),k()})}),g.$render=k,e.$watchCollection(w,k),e.$watchCollection(function(){var a={},c=w(e);if(c){for(var d=Array(c.length),f=0,g=c.length;f<g;f++)a[m]=c[f],d[f]=l(e,a);return d}},k),q&&e.$watchCollection(function(){return g.$modelValue},k)}(e,g,m):q?function(a,c,d){var e;d.$render=function(){var a=new bb(d.$viewValue);r(c.find("option"),function(c){c.selected=y(a.get(c.value))})},a.$watch(function(){Aa(e,d.$viewValue)||(e=ha(d.$viewValue),d.$render())}),c.on("change",function(){a.$apply(function(){var a=[];r(c.find("option"),function(c){c.selected&&a.push(c.value)}),d.$setViewValue(a)})})}(e,g,m):function(a,c,d,e){d.$render=function(){var a=d.$viewValue;e.hasOption(a)?(v.parent()&&v.remove(),c.val(a),""===a&&u.prop("selected",!0)):x(a)&&u?c.val(""):e.renderUnknownOption(a)},c.on("change",function(){a.$apply(function(){v.parent()&&v.remove(),d.$setViewValue(c.val())})})}(e,g,m,p)}}}}],id=["$interpolate",function(a){var c={addOption:E,removeOption:E};return{restrict:"E",priority:100,compile:function(d,e){var f;return x(e.value)&&!(f=a(d.text(),!0))&&e.$set("value",d.text()),function(a,d,e){var h=d.parent(),l=h.data("$selectController")||h.parent().data("$selectController");l&&l.databound?d.prop("selected",!1):l=c,f?a.$watch(f,function(a,c){e.$set("value",a),a!==c&&l.removeOption(c),l.addOption(a)}):l.addOption(e.value),d.on("$destroy",function(){l.removeOption(e.value)})}}}}],hd=ba({restrict:"E",terminal:!0});W.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):((Ea=W.jQuery)&&Ea.fn.on?(D((w=Ea).fn,{scope:La.scope,isolateScope:La.isolateScope,controller:La.controller,injector:La.injector,inheritedData:La.inheritedData}),Gb("remove",!0,!0,!1),Gb("empty",!1,!1,!1),Gb("html",!1,!1,!0)):w=S,Va.element=w,function(b){D(b,{bootstrap:fc,copy:Ha,extend:D,equals:Aa,element:w,forEach:r,injector:gc,noop:E,bind:Bb,toJson:na,fromJson:cc,identity:Qa,isUndefined:x,isDefined:y,isString:v,isFunction:P,isObject:T,isNumber:ib,isElement:Uc,isArray:J,version:ad,isDate:ta,lowercase:K,uppercase:Ia,callbacks:{counter:0},$$minErr:C,$$csp:Xa}),Ya=function(b){var a=C("$injector"),c=C("ng");return(b=b.angular||(b.angular={})).$$minErr=b.$$minErr||C,b.module||(b.module=function(){var b={};return function(e,f,g){if("hasOwnProperty"===e)throw c("badname","module");return f&&b.hasOwnProperty(e)&&(b[e]=null),b[e]||(b[e]=function(){function b(a,d,e){return function(){return c[e||"push"]([a,d,arguments]),n}}if(!f)throw a("nomod",e);var c=[],d=[],l=b("$injector","invoke"),n={_invokeQueue:c,_runBlocks:d,requires:f,name:e,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:b("$provide","value"),constant:b("$provide","constant","unshift"),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),config:l,run:function(a){return d.push(a),this}};return g&&l(g),n}())}}())}(W);try{Ya("ngLocale")}catch(a){Ya("ngLocale",[]).provider("$locale",bd)}Ya("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:cd}),a.provider("$compile",ic).directive({a:dd,input:jc,textarea:jc,form:ed,script:fd,select:gd,style:hd,option:id,ngBind:jd,ngBindHtml:kd,ngBindTemplate:ld,ngClass:md,ngClassEven:nd,ngClassOdd:od,ngCloak:pd,ngController:qd,ngForm:rd,ngHide:sd,ngIf:td,ngInclude:ud,ngInit:vd,ngNonBindable:wd,ngPluralize:xd,ngRepeat:yd,ngShow:zd,ngStyle:Ad,ngSwitch:Bd,ngSwitchWhen:Cd,ngSwitchDefault:Dd,ngOptions:Ed,ngTransclude:Fd,ngModel:Gd,ngList:Hd,ngChange:Id,required:kc,ngRequired:kc,ngValue:Jd}).directive({ngInclude:Kd}).directive(Fb).directive(lc),a.provider({$anchorScroll:Ld,$animate:Md,$browser:Nd,$cacheFactory:Od,$controller:Pd,$document:Qd,$exceptionHandler:Rd,$filter:mc,$interpolate:Sd,$interval:Td,$http:Ud,$httpBackend:Vd,$location:Wd,$log:Xd,$parse:Yd,$rootScope:Zd,$q:$d,$sce:ae,$sceDelegate:be,$sniffer:ce,$templateCache:de,$timeout:ee,$window:fe,$$rAF:ge,$$asyncCallback:he})}])}(Va),w(X).ready(function(){function c(a){a&&d.push(a)}var b,a,e,f,d,g,k;a=fc,d=[b=X],k=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/,r(g=["ng:app","ng-app","x-ng-app","data-ng-app"],function(a){g[a]=!0,c(X.getElementById(a)),a=a.replace(":","\\:"),b.querySelectorAll&&(r(b.querySelectorAll("."+a),c),r(b.querySelectorAll("."+a+"\\:"),c),r(b.querySelectorAll("["+a+"]"),c))}),r(d,function(a){var b;e||((b=k.exec(" "+a.className+" "))?(e=a,f=(b[2]||"").replace(/\s+/g,",")):r(a.attributes,function(b){!e&&g[b.name]&&(e=a,f=b.value)}))}),e&&a(e,f?[f]:[])}))}(window,document),window.angular.$$csp()||window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>'),!function(n,e){"use strict";function x(s,g,h){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,c,b,f,w){function y(){p&&(p.remove(),p=null),k&&(k.$destroy(),k=null),l&&(h.leave(l,function(){p=null}),p=l,l=null)}function v(){var d,b=s.current&&s.current.locals;e.isDefined(b&&b.$template)?(b=a.$new(),d=s.current,l=w(b,function(d){h.enter(d,null,l||c,function(){!e.isDefined(t)||t&&!a.$eval(t)||g()}),y()}),(k=d.scope=b).$emit("$viewContentLoaded"),k.$eval(u)):y()}var k,l,p,t=b.autoscroll,u=b.onload||"";a.$on("$routeChangeSuccess",v),v()}}}function z(e,g,h){return{restrict:"ECA",priority:-400,link:function(a,c){var b=h.current,f=b.locals,w=(c.html(f.$template),e(c.contents()));b.controller&&(f.$scope=a,f=g(b.controller,f),b.controllerAs&&(a[b.controllerAs]=f),c.data("$ngControllerController",f),c.children().data("$ngControllerController",f)),w(a)}}}(n=e.module("ngRoute",["ng"]).provider("$route",function(){function s(a,c){return e.extend(new(e.extend(function(){},{prototype:a})),c)}function g(a,e){var e=e.caseInsensitiveMatch,f={originalPath:a,regexp:a},h=f.keys=[];return a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(a,e,b,c){return a="?"===c?c:null,c="*"===c?c:null,h.push({name:b,optional:!!a}),e=e||"",(a?"":e)+"(?:"+(a?e:"")+(c?"(.+?)":"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1"),f.regexp=RegExp("^"+a+"$",e?"i":""),f}var h={};this.when=function(a,c){var b;return h[a]=e.extend({reloadOnSearch:!0},c,a&&g(a,c)),a&&(b="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/",h[b]=e.extend({redirectTo:a},g(b,c))),this},this.otherwise=function(a){return this.when(null,a),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(a,c,b,f,g,n,v,k){function l(){var d=function(){var a,b;return e.forEach(h,function(f,h){if(q=!b){var g=c.path(),q=f.keys,l={};if(f.regexp)if(g=f.regexp.exec(g)){for(var k=1,p=g.length;k<p;++k){var n=q[k-1],r=g[k];n&&r&&(l[n.name]=r)}q=l}else q=null;else q=null;q=a=q}q&&((b=s(f,{params:e.extend({},c.search(),a),pathParams:a})).$$route=f)}),b||h.null&&s(h.null,{params:{},pathParams:{}})}(),m=r.current;d&&m&&d.$$route===m.$$route&&e.equals(d.pathParams,m.pathParams)&&!d.reloadOnSearch&&!u?(m.params=d.params,e.copy(m.params,b),a.$broadcast("$routeUpdate",m)):(d||m)&&(u=!1,a.$broadcast("$routeChangeStart",d,m),(r.current=d)&&d.redirectTo&&(e.isString(d.redirectTo)?c.path(function(a,c){var b=[];return e.forEach((a||"").split(":"),function(a,d){0===d?b.push(a):(a=(d=a.match(/(\w+)(.*)/))[1],b.push(c[a]),b.push(d[2]||""),delete c[a])}),b.join("")}(d.redirectTo,d.params)).search(d.params):c.url(d.redirectTo(d.pathParams,c.path(),c.search()))).replace(),f.when(d).then(function(){var a,c,b;if(d)return a=e.extend({},d.resolve),e.forEach(a,function(d,c){a[c]=e.isString(d)?g.get(d):g.invoke(d)}),e.isDefined(c=d.template)?e.isFunction(c)&&(c=c(d.params)):e.isDefined(b=d.templateUrl)&&(e.isFunction(b)&&(b=b(d.params)),b=k.getTrustedResourceUrl(b),e.isDefined(b)&&(d.loadedTemplateUrl=b,c=n.get(b,{cache:v}).then(function(a){return a.data}))),e.isDefined(c)&&(a.$template=c),f.all(a)}).then(function(c){d==r.current&&(d&&(d.locals=c,e.copy(d.params,b)),a.$broadcast("$routeChangeSuccess",d,m))},function(c){d==r.current&&a.$broadcast("$routeChangeError",d,m,c)}))}var u=!1,r={routes:h,reload:function(){u=!0,a.$evalAsync(l)}};return a.$on("$locationChangeSuccess",l),r}]})).provider("$routeParams",function(){this.$get=function(){return{}}}),n.directive("ngView",x),n.directive("ngView",z),x.$inject=["$route","$anchorScroll","$animate"],z.$inject=["$compile","$controller","$route"]}(window,window.angular),!function(){function d(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype}var a,AbstractChosen,Chosen,c={}.hasOwnProperty,SelectParser=function(){function SelectParser(){this.options_index=0,this.parsed=[]}return SelectParser.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName.toUpperCase()?this.add_group(a):this.add_option(a)},SelectParser.prototype.add_group=function(a){var c,d,e,f,g,b=this.parsed.length;for(this.parsed.push({array_index:b,group:!0,label:this.escapeExpression(a.label),title:a.title||void 0,children:0,disabled:a.disabled,classes:a.className}),g=[],d=0,e=(f=a.childNodes).length;d<e;d++)c=f[d],g.push(this.add_option(c,b,a.disabled));return g},SelectParser.prototype.add_option=function(a,b,c){return"OPTION"===a.nodeName.toUpperCase()?(""!==a.text?(null!=b&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,title:a.title||void 0,selected:a.selected,disabled:!0===c?c:a.disabled,group_array_index:b,group_label:null!=b?this.parsed[b].label:null,classes:a.className,style:a.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},SelectParser.prototype.escapeExpression=function(a){var b;return null==a||!1===a?"":/[\&\<\>\"\'\`]/.test(a)?(b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},a.replace(/&(?!\w+;)|[\<\>\"\'\`]/g,function(a){return b[a]||"&amp;"})):a},SelectParser}();SelectParser.select_to_array=function(a){for(var b,c=new SelectParser,f=a.childNodes,d=0,e=f.length;d<e;d++)b=f[d],c.add_node(b);return c.parsed},AbstractChosen=function(){function AbstractChosen(a,b){this.form_field=a,this.options=null!=b?b:{},AbstractChosen.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return AbstractChosen.prototype.set_default_values=function(){var a=this;return this.click_test_action=function(b){return a.test_active_click(b)},this.activate_action=function(b){return a.activate_field(b)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1},AbstractChosen.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||AbstractChosen.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||AbstractChosen.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||AbstractChosen.default_no_result_text},AbstractChosen.prototype.choice_label=function(a){return this.include_group_label_in_selected&&null!=a.group_label?"<b class='group-name'>"+a.group_label+"</b>"+a.html:a.html},AbstractChosen.prototype.mouse_enter=function(){return this.mouse_on_container=!0},AbstractChosen.prototype.mouse_leave=function(){return this.mouse_on_container=!1},AbstractChosen.prototype.input_focus=function(){var a=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return a.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},AbstractChosen.prototype.input_blur=function(){var a=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return a.blur_test()},100))},AbstractChosen.prototype.results_option_build=function(a){for(var c,b="",f=this.results_data,d=0,e=f.length;d<e;d++)b+=(c=f[d]).group?this.result_add_group(c):this.result_add_option(c),null!=a&&a.first&&(c.selected&&this.is_multiple?this.choice_build(c):c.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(c)));return b},AbstractChosen.prototype.result_add_option=function(a){var b,c;return a.search_match&&this.include_option_in_results(a)?(b=[],a.disabled||a.selected&&this.is_multiple||b.push("active-result"),!a.disabled||a.selected&&this.is_multiple||b.push("disabled-result"),a.selected&&b.push("result-selected"),null!=a.group_array_index&&b.push("group-option"),""!==a.classes&&b.push(a.classes),(c=document.createElement("li")).className=b.join(" "),c.style.cssText=a.style,c.setAttribute("data-option-array-index",a.array_index),c.innerHTML=a.search_text,a.title&&(c.title=a.title),this.outerHTML(c)):""},AbstractChosen.prototype.result_add_group=function(a){var b,c;return(a.search_match||a.group_match)&&0<a.active_options?((b=[]).push("group-result"),a.classes&&b.push(a.classes),(c=document.createElement("li")).className=b.join(" "),c.innerHTML=a.search_text,a.title&&(c.title=a.title),this.outerHTML(c)):""},AbstractChosen.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},AbstractChosen.prototype.reset_single_select_options=function(){for(var a,d=this.results_data,e=[],b=0,c=d.length;b<c;b++)a=d[b],e.push(a.selected?a.selected=!1:void 0);return e},AbstractChosen.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},AbstractChosen.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},AbstractChosen.prototype.winnow_results=function(){var a,b,c,d,e,f,g,h,i,j,k,l;for(this.no_results_clear(),d=0,a=(f=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),i=new RegExp(a,"i"),c=this.get_search_regex(a),j=0,k=(l=this.results_data).length;j<k;j++)(b=l[j]).search_match=!1,e=null,this.include_option_in_results(b)&&(b.group&&(b.group_match=!1,b.active_options=0),null!=b.group_array_index&&this.results_data[b.group_array_index]&&(0===(e=this.results_data[b.group_array_index]).active_options&&e.search_match&&(d+=1),e.active_options+=1),b.search_text=b.group?b.label:b.html,b.group&&!this.group_search||(b.search_match=this.search_string_match(b.search_text,c),b.search_match&&!b.group&&(d+=1),b.search_match?(f.length&&(g=b.search_text.search(i),h=b.search_text.substr(0,g+f.length)+"</em>"+b.search_text.substr(g+f.length),b.search_text=h.substr(0,g)+"<em>"+h.substr(g)),null!=e&&(e.group_match=!0)):null!=b.group_array_index&&this.results_data[b.group_array_index].search_match&&(b.search_match=!0)));return this.result_clear_highlight(),d<1&&f.length?(this.update_results_content(""),this.no_results(f)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},AbstractChosen.prototype.get_search_regex=function(a){var b=this.search_contains?"":"^";return new RegExp(b+a,"i")},AbstractChosen.prototype.search_string_match=function(a,b){var c,d,e,f;if(b.test(a))return!0;if(this.enable_split_word_search&&(0<=a.indexOf(" ")||0===a.indexOf("["))&&(d=a.replace(/\[|\]/g,"").split(" ")).length)for(e=0,f=d.length;e<f;e++)if(c=d[e],b.test(c))return!0},AbstractChosen.prototype.choices_count=function(){var b,c,d;if(null==this.selected_option_count)for(b=this.selected_option_count=0,c=(d=this.form_field.options).length;b<c;b++)d[b].selected&&(this.selected_option_count+=1);return this.selected_option_count},AbstractChosen.prototype.choices_click=function(a){return a.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},AbstractChosen.prototype.keyup_checker=function(a){var c=null!=(c=a.which)?c:a.keyCode;switch(this.search_field_scale(),c){case 8:if(this.is_multiple&&this.backstroke_length<1&&0<this.choices_count())return this.keydown_backstroke();if(this.pending_backstroke)break;return this.result_clear_highlight(),this.results_search();case 13:if(a.preventDefault(),this.results_showing)return this.result_select(a);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},AbstractChosen.prototype.clipboard_event_checker=function(){var a=this;return setTimeout(function(){return a.results_search()},50)},AbstractChosen.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},AbstractChosen.prototype.include_option_in_results=function(a){return!(this.is_multiple&&!this.display_selected_options&&a.selected)&&(!(!this.display_disabled_options&&a.disabled)&&!a.empty)},AbstractChosen.prototype.search_results_touchstart=function(a){return this.touch_started=!0,this.search_results_mouseover(a)},AbstractChosen.prototype.search_results_touchmove=function(a){return this.touch_started=!1,this.search_results_mouseout(a)},AbstractChosen.prototype.search_results_touchend=function(a){return this.touch_started?this.search_results_mouseup(a):void 0},AbstractChosen.prototype.outerHTML=function(a){var b;return a.outerHTML||((b=document.createElement("div")).appendChild(a),b.innerHTML)},AbstractChosen.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:!/iP(od|hone)/i.test(window.navigator.userAgent)&&(!/Android/i.test(window.navigator.userAgent)||!/Mobile/i.test(window.navigator.userAgent))},AbstractChosen.default_multiple_text="Select Some Options",AbstractChosen.default_single_text="Select an Option",AbstractChosen.default_no_result_text="No results match",AbstractChosen}(),(a=jQuery).fn.extend({chosen:function(b){return AbstractChosen.browser_is_supported()?this.each(function(){var c=a(this),d=c.data("chosen");"destroy"===b&&d instanceof Chosen?d.destroy():d instanceof Chosen||c.data("chosen",new Chosen(this,b))}):this}}),Chosen=function(){function Chosen(){return Chosen.__super__.constructor.apply(this,arguments)}return d(Chosen,AbstractChosen),Chosen.prototype.setup=function(){return this.form_field_jq=a(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},Chosen.prototype.set_up_html=function(){var b=["chosen-container"];return b.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&b.push(this.form_field.className),this.is_rtl&&b.push("chosen-rtl"),b={class:b.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(b.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=a("<div />",b),this.container.html(this.is_multiple?'<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>':'<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},Chosen.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},Chosen.prototype.register_observers=function(){var a=this;return this.container.bind("touchstart.chosen",function(b){return a.container_mousedown(b),b.preventDefault()}),this.container.bind("touchend.chosen",function(b){return a.container_mouseup(b),b.preventDefault()}),this.container.bind("mousedown.chosen",function(b){a.container_mousedown(b)}),this.container.bind("mouseup.chosen",function(b){a.container_mouseup(b)}),this.container.bind("mouseenter.chosen",function(b){a.mouse_enter(b)}),this.container.bind("mouseleave.chosen",function(b){a.mouse_leave(b)}),this.search_results.bind("mouseup.chosen",function(b){a.search_results_mouseup(b)}),this.search_results.bind("mouseover.chosen",function(b){a.search_results_mouseover(b)}),this.search_results.bind("mouseout.chosen",function(b){a.search_results_mouseout(b)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(b){a.search_results_mousewheel(b)}),this.search_results.bind("touchstart.chosen",function(b){a.search_results_touchstart(b)}),this.search_results.bind("touchmove.chosen",function(b){a.search_results_touchmove(b)}),this.search_results.bind("touchend.chosen",function(b){a.search_results_touchend(b)}),this.form_field_jq.bind("chosen:updated.chosen",function(b){a.results_update_field(b)}),this.form_field_jq.bind("chosen:activate.chosen",function(b){a.activate_field(b)}),this.form_field_jq.bind("chosen:open.chosen",function(b){a.container_mousedown(b)}),this.form_field_jq.bind("chosen:close.chosen",function(b){a.input_blur(b)}),this.search_field.bind("blur.chosen",function(b){a.input_blur(b)}),this.search_field.bind("keyup.chosen",function(b){a.keyup_checker(b)}),this.search_field.bind("keydown.chosen",function(b){a.keydown_checker(b)}),this.search_field.bind("focus.chosen",function(b){a.input_focus(b)}),this.search_field.bind("cut.chosen",function(b){a.clipboard_event_checker(b)}),this.search_field.bind("paste.chosen",function(b){a.clipboard_event_checker(b)}),this.form_field_jq.bind("chosen:init-dropdown-items.chosen",function(b){a.winnow_results()}),this.is_multiple?this.search_choices.bind("click.chosen",function(b){a.choices_click(b)}):this.container.bind("click.chosen",function(a){a.preventDefault()})},Chosen.prototype.destroy=function(){return a(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},Chosen.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},Chosen.prototype.container_mousedown=function(b){return this.is_disabled||(b&&"mousedown"===b.type&&!this.results_showing&&b.preventDefault(),null!=b&&a(b.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!b||a(b.target)[0]!==this.selected_item[0]&&!a(b.target).parents("a.chosen-single").length||(b.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},Chosen.prototype.container_mouseup=function(a){return"ABBR"!==a.target.nodeName||this.is_disabled?void 0:this.results_reset(a)},Chosen.prototype.search_results_mousewheel=function(a){var b;return null!=(b=a.originalEvent?a.originalEvent.deltaY||-a.originalEvent.wheelDelta||a.originalEvent.detail:b)?(a.preventDefault(),"DOMMouseScroll"===a.type&&(b*=40),this.search_results.scrollTop(b+this.search_results.scrollTop())):void 0},Chosen.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},Chosen.prototype.close_field=function(){return a(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},Chosen.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},Chosen.prototype.test_active_click=function(b){b=a(b.target).closest(".chosen-container");return b.length&&this.container[0]===b[0]?this.active_field=!0:this.close_field()},Chosen.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=SelectParser.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},Chosen.prototype.result_do_highlight=function(a){var b,c,f;if(a.length)return this.result_clear_highlight(),this.result_highlight=a,this.result_highlight.addClass("highlighted"),(a=parseInt(this.search_results.css("maxHeight"),10))+(f=this.search_results.scrollTop())<=(b=(c=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight())?this.search_results.scrollTop(0<b-a?b-a:0):c<f?this.search_results.scrollTop(c):void 0},Chosen.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},Chosen.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},Chosen.prototype.update_results_content=function(a){return this.search_results.html(a)},Chosen.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},Chosen.prototype.set_tab_index=function(){var a;return this.form_field.tabIndex?(a=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=a):void 0},Chosen.prototype.set_label_behavior=function(){var b=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=a("label[for='"+this.form_field.id+"']")),0<this.form_field_label.length?this.form_field_label.bind("click.chosen",function(a){return b.is_multiple?b.container_mousedown(a):b.activate_field()}):void 0},Chosen.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},Chosen.prototype.search_results_mouseup=function(b){var c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first();return c.length?(this.result_highlight=c,this.result_select(b),this.search_field.focus()):void 0},Chosen.prototype.search_results_mouseover=function(b){b=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first();return b?this.result_do_highlight(b):void 0},Chosen.prototype.search_results_mouseout=function(b){return a(b.target).hasClass("active-result")?this.result_clear_highlight():void 0},Chosen.prototype.choice_build=function(b){var e=this,c=a("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(b)+"</span>");return b.disabled?c.addClass("search-choice-disabled"):((b=a("<a />",{class:"search-choice-close","data-option-array-index":b.array_index})).bind("click.chosen",function(a){return e.choice_destroy_link_click(a)}),c.append(b)),this.search_container.before(c)},Chosen.prototype.choice_destroy_link_click=function(b){return b.preventDefault(),b.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(a(b.target))},Chosen.prototype.choice_destroy=function(a){return this.result_deselect(a[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&this.search_field.val().length<1&&this.results_hide(),a.parents("li").first().remove(),this.search_field_scale()):void 0},Chosen.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},Chosen.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},Chosen.prototype.result_select=function(a){var b;return this.result_highlight?(b=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?b.removeClass("active-result"):this.reset_single_select_options(),b.addClass("result-selected"),(b=this.results_data[b[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[b.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(b):this.single_set_selected_text(this.choice_label(b)),(a.metaKey||a.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),!this.is_multiple&&this.form_field.selectedIndex===this.current_selectedIndex||this.form_field_jq.trigger("change",{selected:this.form_field.options[b.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,a.preventDefault(),this.search_field_scale())):void 0},Chosen.prototype.single_set_selected_text=function(a){return(a=null==a?this.default_text:a)===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(a)},Chosen.prototype.result_deselect=function(a){a=this.results_data[a];return!this.form_field.options[a.options_index].disabled&&(a.selected=!1,this.form_field.options[a.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[a.options_index].value}),this.search_field_scale(),!0)},Chosen.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},Chosen.prototype.get_search_text=function(){return a("<div/>").text(a.trim(this.search_field.val())).html()},Chosen.prototype.winnow_results_set_highlight=function(){var b=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),b=(b.length?b:this.search_results.find(".active-result")).first();return null!=b?this.result_do_highlight(b):void 0},Chosen.prototype.no_results=function(b){var c=a('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');return c.find("span").first().html(b),this.search_results.append(c),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},Chosen.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},Chosen.prototype.keydown_arrow=function(){var a;return this.results_showing&&this.result_highlight?(a=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(a):void 0:this.results_show()},Chosen.prototype.keyup_arrow=function(){var a;return this.results_showing||this.is_multiple?this.result_highlight?(a=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(a.first()):(0<this.choices_count()&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},Chosen.prototype.keydown_backstroke=function(){var a;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(a=this.search_container.siblings("li.search-choice").last()).length&&!a.hasClass("search-choice-disabled")?(this.pending_backstroke=a,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},Chosen.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},Chosen.prototype.keydown_checker=function(a){var c=null!=(c=a.which)?c:a.keyCode;switch(this.search_field_scale(),8!==c&&this.pending_backstroke&&this.clear_backstroke(),c){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(a),this.mouse_on_container=!1;break;case 13:this.results_showing&&a.preventDefault();break;case 32:this.disable_search&&a.preventDefault();break;case 38:a.preventDefault(),this.keyup_arrow();break;case 40:a.preventDefault(),this.keydown_arrow()}},Chosen.prototype.search_field_scale=function(){var b,e,f,g,h,i,j;if(this.is_multiple){for(f="position:absolute; left: -1000px; top: -1000px; display:none;",i=h=0,j=(g=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"]).length;i<j;i++)f+=(e=g[i])+":"+this.search_field.css(e)+";";return(b=a("<div />",{style:f})).text(this.search_field.val()),a("body").append(b),h=b.width()+25,b.remove(),b=this.container.outerWidth(),this.search_field.css({width:(h=b-10<h?b-10:h)+"px"})}},Chosen}()}.call(this),!function(){var __indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++)if(i in this&&this[i]===item)return i;return-1};angular.module("localytics.directives",[]),angular.module("localytics.directives").directive("chosen",["$timeout",function($timeout){var NG_OPTIONS_REGEXP=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/,CHOSEN_OPTION_WHITELIST=["noResultsText","allowSingleDeselect","disableSearchThreshold","disableSearch","enableSplitWordSearch","inheritSelectClasses","maxSelectedOptions","placeholderTextMultiple","placeholderTextSingle","searchContains","singleBackstrokeDelete","displayDisabledOptions","displaySelectedOptions","width"],snakeCase=function(input){return input.replace(/[A-Z]/g,function($1){return"_"+$1.toLowerCase()})},isEmpty=function(value){if(angular.isArray(value))return 0===value.length;if(angular.isObject(value))for(var key in value)if(value.hasOwnProperty(key))return!1;return!0};return{restrict:"A",require:"?ngModel",terminal:!0,link:function(scope,element,attr,ngModel){var chosen,defaultText,disableWithMessage,empty,initOrUpdate,options,origRender,removeEmptyMessage,startLoading,stopLoading;if(element.addClass("localytics-chosen"),options=scope.$eval(attr.chosen)||{},angular.forEach(attr,function(value,key){if(0<=__indexOf.call(CHOSEN_OPTION_WHITELIST,key))return options[snakeCase(key)]=scope.$eval(value)}),startLoading=function(){return element.addClass("loading").attr("disabled",!0).trigger("chosen:updated")},defaultText=chosen=null,empty=!(stopLoading=function(){return element.removeClass("loading").attr("disabled",!1).trigger("chosen:updated")}),initOrUpdate=function(){return chosen?element.trigger("chosen:updated"):(chosen=element.chosen(options).data("chosen"),defaultText=chosen.default_text)},removeEmptyMessage=function(){return empty=!1,element.attr("data-placeholder",defaultText)},disableWithMessage=function(){return empty=!0,element.attr("data-placeholder",chosen.results_none_found).attr("disabled",!0).trigger("chosen:updated")},ngModel?(origRender=ngModel.$render,ngModel.$render=function(){return origRender(),initOrUpdate()},attr.multiple&&scope.$watch(function(){return ngModel.$viewValue},ngModel.$render,!0)):initOrUpdate(),attr.$observe("disabled",function(){return element.trigger("chosen:updated")}),attr.ngOptions&&ngModel)return attr=attr.ngOptions.match(NG_OPTIONS_REGEXP)[7],scope.$watchCollection(attr,function(newVal,oldVal){return $timeout(function(){return angular.isUndefined(newVal)?startLoading():(empty&&removeEmptyMessage(),stopLoading(),isEmpty(newVal)?disableWithMessage():void 0)})}),scope.$on("$destroy",function(event){if("undefined"!=typeof timer&&null!==timer)return $timeout.cancel(timer)})}}}])}.call(this),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj});if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(){"use strict";var version=jQuery.fn.jquery.split(" ")[0].split(".");if(version[0]<2&&version[1]<9||1==version[0]&&9==version[1]&&version[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(),function($){"use strict";$.fn.emulateTransitionEnd=function(duration){var called=!1,$el=this;$(this).one("bsTransitionEnd",function(){called=!0});return setTimeout(function(){called||$($el).trigger($.support.transition.end)},duration),this},$(function(){$.support.transition=function(){var name,el=document.createElement("bootstrap"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(name in transEndEventNames)if(void 0!==el.style[name])return{end:transEndEventNames[name]};return!1}(),$.support.transition&&($.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(e){if($(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function($){"use strict";function Alert(el){$(el).on("click",dismiss,this.close)}var dismiss='[data-dismiss="alert"]';Alert.VERSION="3.3.2",Alert.TRANSITION_DURATION=150,Alert.prototype.close=function(e){var $this=$(this),selector=(selector=$this.attr("data-target"))||(selector=$this.attr("href"))&&selector.replace(/.*(?=#[^\s]*$)/,""),$parent=$(selector);function removeElement(){$parent.detach().trigger("closed.bs.alert").remove()}e&&e.preventDefault(),($parent=$parent.length?$parent:$this.closest(".alert")).trigger(e=$.Event("close.bs.alert")),e.isDefaultPrevented()||($parent.removeClass("in"),$.support.transition&&$parent.hasClass("fade")?$parent.one("bsTransitionEnd",removeElement).emulateTransitionEnd(Alert.TRANSITION_DURATION):removeElement())};var old=$.fn.alert;$.fn.alert=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.alert");data||$this.data("bs.alert",data=new Alert(this)),"string"==typeof option&&data[option].call($this)})},$.fn.alert.Constructor=Alert,$.fn.alert.noConflict=function(){return $.fn.alert=old,this},$(document).on("click.bs.alert.data-api",dismiss,Alert.prototype.close)}(jQuery),function($){"use strict";function Button(element,options){this.$element=$(element),this.options=$.extend({},Button.DEFAULTS,options),this.isLoading=!1}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.button"),options="object"==(void 0===option?"undefined":_typeof(option))&&option;data||$this.data("bs.button",data=new Button(this,options)),"toggle"==option?data.toggle():option&&data.setState(option)})}Button.VERSION="3.3.2",Button.DEFAULTS={loadingText:"loading..."},Button.prototype.setState=function(state){var d="disabled",$el=this.$element,val=$el.is("input")?"val":"html",data=$el.data();state+="Text",null==data.resetText&&$el.data("resetText",$el[val]()),setTimeout($.proxy(function(){$el[val]((null==data[state]?this.options:data)[state]),"loadingText"==state?(this.isLoading=!0,$el.addClass(d).attr(d,d)):this.isLoading&&(this.isLoading=!1,$el.removeClass(d).removeAttr(d))},this),0)},Button.prototype.toggle=function(){var $input,changed=!0,$parent=this.$element.closest('[data-toggle="buttons"]');$parent.length?("radio"==($input=this.$element.find("input")).prop("type")&&($input.prop("checked")&&this.$element.hasClass("active")?changed=!1:$parent.find(".active").removeClass("active")),changed&&$input.prop("checked",!this.$element.hasClass("active")).trigger("change")):this.$element.attr("aria-pressed",!this.$element.hasClass("active")),changed&&this.$element.toggleClass("active")};var old=$.fn.button;$.fn.button=Plugin,$.fn.button.Constructor=Button,$.fn.button.noConflict=function(){return $.fn.button=old,this},$(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var $btn=$(e.target);$btn.hasClass("btn")||($btn=$btn.closest(".btn")),Plugin.call($btn,"toggle"),e.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){$(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function($){"use strict";function Carousel(element,options){this.$element=$(element),this.$indicators=this.$element.find(".carousel-indicators"),this.options=options,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",$.proxy(this.keydown,this)),"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",$.proxy(this.pause,this)).on("mouseleave.bs.carousel",$.proxy(this.cycle,this))}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.carousel"),options=$.extend({},Carousel.DEFAULTS,$this.data(),"object"==(void 0===option?"undefined":_typeof(option))&&option),action="string"==typeof option?option:options.slide;data||$this.data("bs.carousel",data=new Carousel(this,options)),"number"==typeof option?data.to(option):action?data[action]():options.interval&&data.pause().cycle()})}Carousel.VERSION="3.3.2",Carousel.TRANSITION_DURATION=600,Carousel.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},Carousel.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},Carousel.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval)),this},Carousel.prototype.getItemIndex=function(item){return this.$items=item.parent().children(".item"),this.$items.index(item||this.$active)},Carousel.prototype.getItemForDirection=function(direction,active){var activeIndex=this.getItemIndex(active);if(("prev"==direction&&0===activeIndex||"next"==direction&&activeIndex==this.$items.length-1)&&!this.options.wrap)return active;active=(activeIndex+("prev"==direction?-1:1))%this.$items.length;return this.$items.eq(active)},Carousel.prototype.to=function(pos){var that=this,activeIndex=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(pos>this.$items.length-1||pos<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){that.to(pos)}):activeIndex==pos?this.pause().cycle():this.slide(activeIndex<pos?"next":"prev",this.$items.eq(pos))},Carousel.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&$.support.transition&&(this.$element.trigger($.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},Carousel.prototype.next=function(){if(!this.sliding)return this.slide("next")},Carousel.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},Carousel.prototype.slide=function(type,next){var $active=this.$element.find(".item.active"),$next=next||this.getItemForDirection(type,$active),next=this.interval,direction="next"==type?"left":"right",that=this;if($next.hasClass("active"))return this.sliding=!1;var slidEvent,relatedTarget=$next[0],slideEvent=$.Event("slide.bs.carousel",{relatedTarget:relatedTarget,direction:direction});if(this.$element.trigger(slideEvent),!slideEvent.isDefaultPrevented())return this.sliding=!0,next&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),(slideEvent=$(this.$indicators.children()[this.getItemIndex($next)]))&&slideEvent.addClass("active")),slidEvent=$.Event("slid.bs.carousel",{relatedTarget:relatedTarget,direction:direction}),$.support.transition&&this.$element.hasClass("slide")?($next.addClass(type),$next[0].offsetWidth,$active.addClass(direction),$next.addClass(direction),$active.one("bsTransitionEnd",function(){$next.removeClass([type,direction].join(" ")).addClass("active"),$active.removeClass(["active",direction].join(" ")),that.sliding=!1,setTimeout(function(){that.$element.trigger(slidEvent)},0)}).emulateTransitionEnd(Carousel.TRANSITION_DURATION)):($active.removeClass("active"),$next.addClass("active"),this.sliding=!1,this.$element.trigger(slidEvent)),next&&this.cycle(),this};function clickHandler(e){var options,$this=$(this),href=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""));href.hasClass("carousel")&&(options=$.extend({},href.data(),$this.data()),($this=$this.attr("data-slide-to"))&&(options.interval=!1),Plugin.call(href,options),$this&&href.data("bs.carousel").to($this),e.preventDefault())}var old=$.fn.carousel;$.fn.carousel=Plugin,$.fn.carousel.Constructor=Carousel,$.fn.carousel.noConflict=function(){return $.fn.carousel=old,this};$(document).on("click.bs.carousel.data-api","[data-slide]",clickHandler).on("click.bs.carousel.data-api","[data-slide-to]",clickHandler),$(window).on("load",function(){$('[data-ride="carousel"]').each(function(){var $carousel=$(this);Plugin.call($carousel,$carousel.data())})})}(jQuery),function($){"use strict";function Collapse(element,options){this.$element=$(element),this.options=$.extend({},Collapse.DEFAULTS,options),this.$trigger=$(this.options.trigger).filter('[href="#'+element.id+'"], [data-target="#'+element.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()}function getTargetFromTrigger($trigger){$trigger=$trigger.attr("data-target")||($trigger=$trigger.attr("href"))&&$trigger.replace(/.*(?=#[^\s]+$)/,"");return $($trigger)}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.collapse"),options=$.extend({},Collapse.DEFAULTS,$this.data(),"object"==(void 0===option?"undefined":_typeof(option))&&option);!data&&options.toggle&&"show"==option&&(options.toggle=!1),data||$this.data("bs.collapse",data=new Collapse(this,options)),"string"==typeof option&&data[option]()})}Collapse.VERSION="3.3.2",Collapse.TRANSITION_DURATION=350,Collapse.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},Collapse.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},Collapse.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var actives=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(actives&&actives.length&&(activesData=actives.data("bs.collapse"))&&activesData.transitioning)){var startEvent=$.Event("show.bs.collapse");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){actives&&actives.length&&(Plugin.call(actives,"hide"),activesData||actives.data("bs.collapse",null));var dimension=this.dimension(),startEvent=(this.$element.removeClass("collapse").addClass("collapsing")[dimension](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1,function(){this.$element.removeClass("collapsing").addClass("collapse in")[dimension](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")});if(!$.support.transition)return startEvent.call(this);var activesData=$.camelCase(["scroll",dimension].join("-"));this.$element.one("bsTransitionEnd",$.proxy(startEvent,this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][activesData])}}}},Collapse.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var startEvent=$.Event("hide.bs.collapse");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){var startEvent=this.dimension(),complete=(this.$element[startEvent](this.$element[startEvent]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1,function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")});if(!$.support.transition)return complete.call(this);this.$element[startEvent](0).one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)}}},Collapse.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},Collapse.prototype.getParent=function(){return $(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each($.proxy(function(i,element){element=$(element);this.addAriaAndCollapsedClass(getTargetFromTrigger(element),element)},this)).end()},Collapse.prototype.addAriaAndCollapsedClass=function($element,$trigger){var isOpen=$element.hasClass("in");$element.attr("aria-expanded",isOpen),$trigger.toggleClass("collapsed",!isOpen).attr("aria-expanded",isOpen)};var old=$.fn.collapse;$.fn.collapse=Plugin,$.fn.collapse.Constructor=Collapse,$.fn.collapse.noConflict=function(){return $.fn.collapse=old,this},$(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var $this=$(this),e=($this.attr("data-target")||e.preventDefault(),getTargetFromTrigger($this)),$this=e.data("bs.collapse")?"toggle":$.extend({},$this.data(),{trigger:this});Plugin.call(e,$this)})}(jQuery),function($){"use strict";function Dropdown(element){$(element).on("click.bs.dropdown",this.toggle)}var toggle='[data-toggle="dropdown"]';function clearMenus(e){e&&3===e.which||($(".dropdown-backdrop").remove(),$(toggle).each(function(){var $this=$(this),$parent=getParent($this),relatedTarget={relatedTarget:this};$parent.hasClass("open")&&($parent.trigger(e=$.Event("hide.bs.dropdown",relatedTarget)),e.isDefaultPrevented()||($this.attr("aria-expanded","false"),$parent.removeClass("open").trigger("hidden.bs.dropdown",relatedTarget)))}))}function getParent($this){var selector=$this.attr("data-target"),selector=(selector=selector||(selector=$this.attr("href"))&&/#[A-Za-z]/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,""))&&$(selector);return selector&&selector.length?selector:$this.parent()}Dropdown.VERSION="3.3.2",Dropdown.prototype.toggle=function(e){var $this=$(this);if(!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(clearMenus(),!isActive){"ontouchstart"in document.documentElement&&!$parent.closest(".navbar-nav").length&&$('<div class="dropdown-backdrop"/>').insertAfter($(this)).on("click",clearMenus);isActive={relatedTarget:this};if($parent.trigger(e=$.Event("show.bs.dropdown",isActive)),e.isDefaultPrevented())return;$this.trigger("focus").attr("aria-expanded","true"),$parent.toggleClass("open").trigger("shown.bs.dropdown",isActive)}return!1}},Dropdown.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var $this=$(this);if(e.preventDefault(),e.stopPropagation(),!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(!isActive&&27!=e.which||isActive&&27==e.which)return 27==e.which&&$parent.find(toggle).trigger("focus"),$this.trigger("click");isActive=" li:not(.divider):visible a",$this=$parent.find('[role="menu"]'+isActive+', [role="listbox"]'+isActive);$this.length&&($parent=$this.index(e.target),38==e.which&&0<$parent&&$parent--,40==e.which&&$parent<$this.length-1&&$parent++,$this.eq($parent=~$parent?$parent:0).trigger("focus"))}}};var old=$.fn.dropdown;$.fn.dropdown=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.dropdown");data||$this.data("bs.dropdown",data=new Dropdown(this)),"string"==typeof option&&data[option].call($this)})},$.fn.dropdown.Constructor=Dropdown,$.fn.dropdown.noConflict=function(){return $.fn.dropdown=old,this},$(document).on("click.bs.dropdown.data-api",clearMenus).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",toggle,Dropdown.prototype.toggle).on("keydown.bs.dropdown.data-api",toggle,Dropdown.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',Dropdown.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',Dropdown.prototype.keydown)}(jQuery),function($){"use strict";function Modal(element,options){this.options=options,this.$body=$(document.body),this.$element=$(element),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,$.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}function Plugin(option,_relatedTarget){return this.each(function(){var $this=$(this),data=$this.data("bs.modal"),options=$.extend({},Modal.DEFAULTS,$this.data(),"object"==(void 0===option?"undefined":_typeof(option))&&option);data||$this.data("bs.modal",data=new Modal(this,options)),"string"==typeof option?data[option](_relatedTarget):options.show&&data.show(_relatedTarget)})}Modal.VERSION="3.3.2",Modal.TRANSITION_DURATION=300,Modal.BACKDROP_TRANSITION_DURATION=150,Modal.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},Modal.prototype.toggle=function(_relatedTarget){return this.isShown?this.hide():this.show(_relatedTarget)},Modal.prototype.show=function(_relatedTarget){var that=this,e=$.Event("show.bs.modal",{relatedTarget:_relatedTarget});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this)),this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade"),e=(that.$element.parent().length||that.$element.appendTo(that.$body),that.$element.show().scrollTop(0),that.options.backdrop&&that.adjustBackdrop(),that.adjustDialog(),transition&&that.$element[0].offsetWidth,that.$element.addClass("in").attr("aria-hidden",!1),that.enforceFocus(),$.Event("shown.bs.modal",{relatedTarget:_relatedTarget}));transition?that.$element.find(".modal-dialog").one("bsTransitionEnd",function(){that.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(Modal.TRANSITION_DURATION):that.$element.trigger("focus").trigger(e)}))},Modal.prototype.hide=function(e){e&&e.preventDefault(),e=$.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),$(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),$.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",$.proxy(this.hideModal,this)).emulateTransitionEnd(Modal.TRANSITION_DURATION):this.hideModal())},Modal.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},Modal.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",$.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},Modal.prototype.resize=function(){this.isShown?$(window).on("resize.bs.modal",$.proxy(this.handleUpdate,this)):$(window).off("resize.bs.modal")},Modal.prototype.hideModal=function(){var that=this;this.$element.hide(),this.backdrop(function(){that.$body.removeClass("modal-open"),that.resetAdjustments(),that.resetScrollbar(),that.$element.trigger("hidden.bs.modal")})},Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},Modal.prototype.backdrop=function(callback){var doAnimate,that=this,animate=this.$element.hasClass("fade")?"fade":"";this.isShown&&this.options.backdrop?(doAnimate=$.support.transition&&animate,this.$backdrop=$('<div class="modal-backdrop '+animate+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",$.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),doAnimate&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),callback&&(doAnimate?this.$backdrop.one("bsTransitionEnd",callback).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callback())):!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),animate=function(){that.removeBackdrop(),callback&&callback()},$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",animate).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):animate()):callback&&callback()},Modal.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},Modal.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},Modal.prototype.adjustDialog=function(){var modalIsOverflowing=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&modalIsOverflowing?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!modalIsOverflowing?this.scrollbarWidth:""})},Modal.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},Modal.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},Modal.prototype.setScrollbar=function(){var bodyPad=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",bodyPad+this.scrollbarWidth)},Modal.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},Modal.prototype.measureScrollbar=function(){var scrollDiv=document.createElement("div"),scrollbarWidth=(scrollDiv.className="modal-scrollbar-measure",this.$body.append(scrollDiv),scrollDiv.offsetWidth-scrollDiv.clientWidth);return this.$body[0].removeChild(scrollDiv),scrollbarWidth};var old=$.fn.modal;$.fn.modal=Plugin,$.fn.modal.Constructor=Modal,$.fn.modal.noConflict=function(){return $.fn.modal=old,this},$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this),href=$this.attr("href"),$target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,"")),href=$target.data("bs.modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());$this.is("a")&&e.preventDefault(),$target.one("show.bs.modal",function(showEvent){showEvent.isDefaultPrevented()||$target.one("hidden.bs.modal",function(){$this.is(":visible")&&$this.trigger("focus")})}),Plugin.call($target,href,this)})}(jQuery),function($){"use strict";function Tooltip(element,options){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",element,options)}Tooltip.VERSION="3.3.2",Tooltip.TRANSITION_DURATION=150,Tooltip.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},Tooltip.prototype.init=function(type,element,options){this.enabled=!0,this.type=type,this.$element=$(element),this.options=this.getOptions(options),this.$viewport=this.options.viewport&&$(this.options.viewport.selector||this.options.viewport);for(var triggers=this.options.trigger.split(" "),i=triggers.length;i--;){var eventOut,trigger=triggers[i];"click"==trigger?this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this)):"manual"!=trigger&&(eventOut="hover"==trigger?"mouseleave":"focusout",this.$element.on(("hover"==trigger?"mouseenter":"focusin")+"."+this.type,this.options.selector,$.proxy(this.enter,this)),this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this)))}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS},Tooltip.prototype.getOptions=function(options){return(options=$.extend({},this.getDefaults(),this.$element.data(),options)).delay&&"number"==typeof options.delay&&(options.delay={show:options.delay,hide:options.delay}),options},Tooltip.prototype.getDelegateOptions=function(){var options={},defaults=this.getDefaults();return this._options&&$.each(this._options,function(key,value){defaults[key]!=value&&(options[key]=value)}),options},Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);if(self&&self.$tip&&self.$tip.is(":visible"))self.hoverState="in";else{if(self||(self=new this.constructor(obj.currentTarget,this.getDelegateOptions()),$(obj.currentTarget).data("bs."+this.type,self)),clearTimeout(self.timeout),self.hoverState="in",!self.options.delay||!self.options.delay.show)return self.show();self.timeout=setTimeout(function(){"in"==self.hoverState&&self.show()},self.options.delay.show)}},Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);if(self||(self=new this.constructor(obj.currentTarget,this.getDelegateOptions()),$(obj.currentTarget).data("bs."+this.type,self)),clearTimeout(self.timeout),self.hoverState="out",!self.options.delay||!self.options.delay.hide)return self.hide();self.timeout=setTimeout(function(){"out"==self.hoverState&&self.hide()},self.options.delay.hide)},Tooltip.prototype.show=function(){var that,autoToken,actualWidth,actualHeight,inDom,$container,autoPlace,e=$.Event("show.bs."+this.type);this.hasContent()&&this.enabled&&(this.$element.trigger(e),inDom=$.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),!e.isDefaultPrevented()&&inDom&&(e=(that=this).tip(),inDom=this.getUID(this.type),this.setContent(),e.attr("id",inDom),this.$element.attr("aria-describedby",inDom),this.options.animation&&e.addClass("fade"),inDom="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,(autoPlace=(autoToken=/\s?auto?\s?/i).test(inDom))&&(inDom=inDom.replace(autoToken,"")||"top"),e.detach().css({top:0,left:0,display:"block"}).addClass(inDom).data("bs."+this.type,this),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),autoToken=this.getPosition(),actualWidth=e[0].offsetWidth,actualHeight=e[0].offsetHeight,autoPlace&&(autoPlace=inDom,$container=this.options.container?$(this.options.container):this.$element.parent(),$container=this.getPosition($container),inDom="bottom"==inDom&&autoToken.bottom+actualHeight>$container.bottom?"top":"top"==inDom&&autoToken.top-actualHeight<$container.top?"bottom":"right"==inDom&&autoToken.right+actualWidth>$container.width?"left":"left"==inDom&&autoToken.left-actualWidth<$container.left?"right":inDom,e.removeClass(autoPlace).addClass(inDom)),$container=this.getCalculatedOffset(inDom,autoToken,actualWidth,actualHeight),this.applyPlacement($container,inDom),autoPlace=function(){var prevHoverState=that.hoverState;that.$element.trigger("shown.bs."+that.type),that.hoverState=null,"out"==prevHoverState&&that.leave(that)},$.support.transition&&this.$tip.hasClass("fade")?e.one("bsTransitionEnd",autoPlace).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):autoPlace()))},Tooltip.prototype.applyPlacement=function(offset,placement){var $tip=this.tip(),width=$tip[0].offsetWidth,height=$tip[0].offsetHeight,marginTop=parseInt($tip.css("margin-top"),10),marginLeft=parseInt($tip.css("margin-left"),10),marginTop=(isNaN(marginTop)&&(marginTop=0),isNaN(marginLeft)&&(marginLeft=0),offset.top=offset.top+marginTop,offset.left=offset.left+marginLeft,$.offset.setOffset($tip[0],$.extend({using:function(props){$tip.css({top:Math.round(props.top),left:Math.round(props.left)})}},offset),0),$tip.addClass("in"),$tip[0].offsetWidth),marginLeft=$tip[0].offsetHeight,delta=("top"==placement&&marginLeft!=height&&(offset.top=offset.top+height-marginLeft),this.getViewportAdjustedDelta(placement,offset,marginTop,marginLeft)),placement=(delta.left?offset.left+=delta.left:offset.top+=delta.top,/top|bottom/.test(placement)),width=placement?2*delta.left-width+marginTop:2*delta.top-height+marginLeft,marginTop=placement?"offsetWidth":"offsetHeight";$tip.offset(offset),this.replaceArrow(width,$tip[0][marginTop],placement)},Tooltip.prototype.replaceArrow=function(delta,dimension,isHorizontal){this.arrow().css(isHorizontal?"left":"top",50*(1-delta/dimension)+"%").css(isHorizontal?"top":"left","")},Tooltip.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title),$tip.removeClass("fade in top bottom left right")},Tooltip.prototype.hide=function(callback){var that=this,$tip=this.tip(),e=$.Event("hide.bs."+this.type);function complete(){"in"!=that.hoverState&&$tip.detach(),that.$element.removeAttr("aria-describedby").trigger("hidden.bs."+that.type),callback&&callback()}if(this.$element.trigger(e),!e.isDefaultPrevented())return $tip.removeClass("in"),$.support.transition&&this.$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete(),this.hoverState=null,this},Tooltip.prototype.fixTitle=function(){var $e=this.$element;!$e.attr("title")&&"string"==typeof $e.attr("data-original-title")||$e.attr("data-original-title",$e.attr("title")||"").attr("title","")},Tooltip.prototype.hasContent=function(){return this.getTitle()},Tooltip.prototype.getPosition=function($element){var el=($element=$element||this.$element)[0],isBody="BODY"==el.tagName,el=el.getBoundingClientRect(),elOffset=(null==el.width&&(el=$.extend({},el,{width:el.right-el.left,height:el.bottom-el.top})),isBody?{top:0,left:0}:$element.offset()),$element={scroll:isBody?document.documentElement.scrollTop||document.body.scrollTop:$element.scrollTop()},isBody=isBody?{width:$(window).width(),height:$(window).height()}:null;return $.extend({},el,$element,isBody,elOffset)},Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return"bottom"==placement?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:"top"==placement?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:"left"==placement?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}},Tooltip.prototype.getViewportAdjustedDelta=function(placement,pos,actualWidth,actualHeight){var viewportPadding,viewportDimensions,delta={top:0,left:0};return this.$viewport&&(viewportPadding=this.options.viewport&&this.options.viewport.padding||0,viewportDimensions=this.getPosition(this.$viewport),/right|left/.test(placement)?(placement=pos.top-viewportPadding-viewportDimensions.scroll,actualHeight=pos.top+viewportPadding-viewportDimensions.scroll+actualHeight,placement<viewportDimensions.top?delta.top=viewportDimensions.top-placement:actualHeight>viewportDimensions.top+viewportDimensions.height&&(delta.top=viewportDimensions.top+viewportDimensions.height-actualHeight)):(placement=pos.left-viewportPadding,actualHeight=pos.left+viewportPadding+actualWidth,placement<viewportDimensions.left?delta.left=viewportDimensions.left-placement:actualHeight>viewportDimensions.width&&(delta.left=viewportDimensions.left+viewportDimensions.width-actualHeight))),delta},Tooltip.prototype.getTitle=function(){var $e=this.$element,o=this.options;return $e.attr("data-original-title")||("function"==typeof o.title?o.title.call($e[0]):o.title)},Tooltip.prototype.getUID=function(prefix){for(;prefix+=~~(1e6*Math.random()),document.getElementById(prefix););return prefix},Tooltip.prototype.tip=function(){return this.$tip=this.$tip||$(this.options.template)},Tooltip.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},Tooltip.prototype.enable=function(){this.enabled=!0},Tooltip.prototype.disable=function(){this.enabled=!1},Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled},Tooltip.prototype.toggle=function(e){var self=this;e&&!(self=$(e.currentTarget).data("bs."+this.type))&&(self=new this.constructor(e.currentTarget,this.getDelegateOptions()),$(e.currentTarget).data("bs."+this.type,self)),self.tip().hasClass("in")?self.leave(self):self.enter(self)},Tooltip.prototype.destroy=function(){var that=this;clearTimeout(this.timeout),this.hide(function(){that.$element.off("."+that.type).removeData("bs."+that.type)})};var old=$.fn.tooltip;$.fn.tooltip=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tooltip"),options="object"==(void 0===option?"undefined":_typeof(option))&&option;!data&&"destroy"==option||(data||$this.data("bs.tooltip",data=new Tooltip(this,options)),"string"==typeof option&&data[option]())})},$.fn.tooltip.Constructor=Tooltip,$.fn.tooltip.noConflict=function(){return $.fn.tooltip=old,this}}(jQuery),function($){"use strict";function Popover(element,options){this.init("popover",element,options)}if(!$.fn.tooltip)throw new Error("Popover requires tooltip.js");Popover.VERSION="3.3.2",Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype)).constructor=Popover).prototype.getDefaults=function(){return Popover.DEFAULTS},Popover.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle(),content=this.getContent();$tip.find(".popover-title")[this.options.html?"html":"text"](title),$tip.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof content?"html":"append":"text"](content),$tip.removeClass("fade top bottom left right in"),$tip.find(".popover-title").html()||$tip.find(".popover-title").hide()},Popover.prototype.hasContent=function(){return this.getTitle()||this.getContent()},Popover.prototype.getContent=function(){var $e=this.$element,o=this.options;return $e.attr("data-content")||("function"==typeof o.content?o.content.call($e[0]):o.content)},Popover.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},Popover.prototype.tip=function(){return this.$tip||(this.$tip=$(this.options.template)),this.$tip};var old=$.fn.popover;$.fn.popover=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.popover"),options="object"==(void 0===option?"undefined":_typeof(option))&&option;!data&&"destroy"==option||(data||$this.data("bs.popover",data=new Popover(this,options)),"string"==typeof option&&data[option]())})},$.fn.popover.Constructor=Popover,$.fn.popover.noConflict=function(){return $.fn.popover=old,this}}(jQuery),function($){"use strict";function ScrollSpy(element,options){var process=$.proxy(this.process,this);this.$body=$("body"),this.$scrollElement=$(element).is("body")?$(window):$(element),this.options=$.extend({},ScrollSpy.DEFAULTS,options),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",process),this.refresh(),this.process()}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.scrollspy"),options="object"==(void 0===option?"undefined":_typeof(option))&&option;data||$this.data("bs.scrollspy",data=new ScrollSpy(this,options)),"string"==typeof option&&data[option]()})}ScrollSpy.VERSION="3.3.2",ScrollSpy.DEFAULTS={offset:10},ScrollSpy.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},ScrollSpy.prototype.refresh=function(){var offsetMethod="offset",offsetBase=0,self=($.isWindow(this.$scrollElement[0])||(offsetMethod="position",offsetBase=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),this);this.$body.find(this.selector).map(function(){var $el=$(this),$el=$el.data("target")||$el.attr("href"),$href=/^#./.test($el)&&$($el);return $href&&$href.length&&$href.is(":visible")?[[$href[offsetMethod]().top+offsetBase,$el]]:null}).sort(function(a,b){return a[0]-b[0]}).each(function(){self.offsets.push(this[0]),self.targets.push(this[1])})},ScrollSpy.prototype.process=function(){var i,scrollTop=this.$scrollElement.scrollTop()+this.options.offset,scrollHeight=this.getScrollHeight(),maxScroll=this.options.offset+scrollHeight-this.$scrollElement.height(),offsets=this.offsets,targets=this.targets,activeTarget=this.activeTarget;if(this.scrollHeight!=scrollHeight&&this.refresh(),maxScroll<=scrollTop)return activeTarget!=(i=targets[targets.length-1])&&this.activate(i);if(activeTarget&&scrollTop<offsets[0])return this.activeTarget=null,this.clear();for(i=offsets.length;i--;)activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(!offsets[i+1]||scrollTop<=offsets[i+1])&&this.activate(targets[i])},ScrollSpy.prototype.activate=function(target){this.activeTarget=target,this.clear();target=this.selector+'[data-target="'+target+'"],'+this.selector+'[href="'+target+'"]',target=$(target).parents("li").addClass("active");(target=target.parent(".dropdown-menu").length?target.closest("li.dropdown").addClass("active"):target).trigger("activate.bs.scrollspy")},ScrollSpy.prototype.clear=function(){$(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var old=$.fn.scrollspy;$.fn.scrollspy=Plugin,$.fn.scrollspy.Constructor=ScrollSpy,$.fn.scrollspy.noConflict=function(){return $.fn.scrollspy=old,this},$(window).on("load.bs.scrollspy.data-api",function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this);Plugin.call($spy,$spy.data())})})}(jQuery),function($){"use strict";function Tab(element){this.element=$(element)}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tab");data||$this.data("bs.tab",data=new Tab(this)),"string"==typeof option&&data[option]()})}Tab.VERSION="3.3.2",Tab.TRANSITION_DURATION=150,Tab.prototype.show=function(){var $previous,hideEvent,showEvent,$this=this.element,$ul=$this.closest("ul:not(.dropdown-menu)"),selector=(selector=$this.data("target"))||(selector=$this.attr("href"))&&selector.replace(/.*(?=#[^\s]*$)/,"");$this.parent("li").hasClass("active")||($previous=$ul.find(".active:last a"),hideEvent=$.Event("hide.bs.tab",{relatedTarget:$this[0]}),showEvent=$.Event("show.bs.tab",{relatedTarget:$previous[0]}),$previous.trigger(hideEvent),$this.trigger(showEvent),showEvent.isDefaultPrevented()||hideEvent.isDefaultPrevented()||(showEvent=$(selector),this.activate($this.closest("li"),$ul),this.activate(showEvent,showEvent.parent(),function(){$previous.trigger({type:"hidden.bs.tab",relatedTarget:$this[0]}),$this.trigger({type:"shown.bs.tab",relatedTarget:$previous[0]})})))},Tab.prototype.activate=function(element,container,callback){var $active=container.find("> .active"),transition=callback&&$.support.transition&&($active.length&&$active.hasClass("fade")||!!container.find("> .fade").length);function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),element.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),transition?(element[0].offsetWidth,element.addClass("in")):element.removeClass("fade"),element.parent(".dropdown-menu")&&element.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),callback&&callback()}$active.length&&transition?$active.one("bsTransitionEnd",next).emulateTransitionEnd(Tab.TRANSITION_DURATION):next(),$active.removeClass("in")};function clickHandler(e){e.preventDefault(),Plugin.call($(this),"show")}var old=$.fn.tab;$.fn.tab=Plugin,$.fn.tab.Constructor=Tab,$.fn.tab.noConflict=function(){return $.fn.tab=old,this};$(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',clickHandler).on("click.bs.tab.data-api",'[data-toggle="pill"]',clickHandler)}(jQuery),function($){"use strict";function Affix(element,options){this.options=$.extend({},Affix.DEFAULTS,options),this.$target=$(this.options.target).on("scroll.bs.affix.data-api",$.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",$.proxy(this.checkPositionWithEventLoop,this)),this.$element=$(element),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.affix"),options="object"==(void 0===option?"undefined":_typeof(option))&&option;data||$this.data("bs.affix",data=new Affix(this,options)),"string"==typeof option&&data[option]()})}Affix.VERSION="3.3.2",Affix.RESET="affix affix-top affix-bottom",Affix.DEFAULTS={offset:0,target:window},Affix.prototype.getState=function(scrollHeight,height,offsetTop,offsetBottom){var scrollTop=this.$target.scrollTop(),position=this.$element.offset(),targetHeight=this.$target.height();if(null!=offsetTop&&"top"==this.affixed)return scrollTop<offsetTop&&"top";if("bottom"==this.affixed)return null!=offsetTop?!(scrollTop+this.unpin<=position.top)&&"bottom":!(scrollTop+targetHeight<=scrollHeight-offsetBottom)&&"bottom";var initializing=null==this.affixed,position=initializing?scrollTop:position.top;return null!=offsetTop&&scrollTop<=offsetTop?"top":null!=offsetBottom&&scrollHeight-offsetBottom<=position+(initializing?targetHeight:height)&&"bottom"},Affix.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(Affix.RESET).addClass("affix");var scrollTop=this.$target.scrollTop(),position=this.$element.offset();return this.pinnedOffset=position.top-scrollTop},Affix.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)},Affix.prototype.checkPosition=function(){if(this.$element.is(":visible")){var height=this.$element.height(),offset=this.options.offset,offsetTop=offset.top,offsetBottom=offset.bottom,scrollHeight=$("body").height(),offset=("object"!=(void 0===offset?"undefined":_typeof(offset))&&(offsetBottom=offsetTop=offset),"function"==typeof offsetTop&&(offsetTop=offset.top(this.$element)),"function"==typeof offsetBottom&&(offsetBottom=offset.bottom(this.$element)),this.getState(scrollHeight,height,offsetTop,offsetBottom));if(this.affixed!=offset){null!=this.unpin&&this.$element.css("top","");var offsetTop="affix"+(offset?"-"+offset:""),e=$.Event(offsetTop+".bs.affix");if(this.$element.trigger(e),e.isDefaultPrevented())return;this.affixed=offset,this.unpin="bottom"==offset?this.getPinnedOffset():null,this.$element.removeClass(Affix.RESET).addClass(offsetTop).trigger(offsetTop.replace("affix","affixed")+".bs.affix")}"bottom"==offset&&this.$element.offset({top:scrollHeight-height-offsetBottom})}};var old=$.fn.affix;$.fn.affix=Plugin,$.fn.affix.Constructor=Affix,$.fn.affix.noConflict=function(){return $.fn.affix=old,this},$(window).on("load",function(){$('[data-spy="affix"]').each(function(){var $spy=$(this),data=$spy.data();data.offset=data.offset||{},null!=data.offsetBottom&&(data.offset.bottom=data.offsetBottom),null!=data.offsetTop&&(data.offset.top=data.offsetTop),Plugin.call($spy,data)})})}(jQuery);var _bootApp,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof=(!function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?factory(require("jquery")):factory(jQuery)}(function($,undefined){function UTCDate(){return new Date(Date.UTC.apply(Date,arguments))}function UTCToday(){var today=new Date;return UTCDate(today.getFullYear(),today.getMonth(),today.getDate())}function alias(method){return function(){return this[method].apply(this,arguments)}}function Datepicker(element,options){$(element).data("datepicker",this),this._process_options(options),this.dates=new DateArray,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=$(element),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.inputField.length,this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=$(DPGlobal.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.ariaInit(),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(i,val){return parseInt(val)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()}function DateRangePicker(element,options){$(element).data("datepicker",this),this.element=$(element),this.inputs=$.map(options.inputs,function(i){return i.jquery?i[0]:i}),delete options.inputs,datepickerPlugin.call($(this.inputs),options).on("changeDate",$.proxy(this.dateUpdated,this)),this.pickers=$.map(this.inputs,function(i){return $(i).data("datepicker")}),this.updateDates()}extras={get:function(i){return this.slice(i)[0]},contains:function(d){for(var val=d&&d.valueOf(),i=0,l=this.length;i<l;i++)if(this[i].valueOf()===val)return i;return-1},remove:function(i){this.splice(i,1)},replace:function(new_array){new_array&&($.isArray(new_array)||(new_array=[new_array]),this.clear(),this.push.apply(this,new_array))},clear:function(){this.length=0},copy:function(){var a=new DateArray;return a.replace(this),a}};var extras,DateArray=function(){var a=[];return a.push.apply(a,arguments),$.extend(a,extras),a};Datepicker.prototype={constructor:Datepicker,_resolveViewName:function(view,default_value){return 0===view||"days"===view||"month"===view?0:1===view||"months"===view||"year"===view?1:2===view||"years"===view||"decade"===view?2:3===view||"decades"===view||"century"===view?3:4===view||"centuries"===view||"millennium"===view?4:default_value!==undefined&&default_value},_check_template:function(tmp){try{return tmp===undefined||""===tmp?!1:(tmp.match(/[<>]/g)||[]).length<=0||0<$(tmp).length}catch(ex){return!1}},_process_options:function(opts){this._o=$.extend({},this._o,opts);var month,day,o=this.o=$.extend({},this._o),opts=o.language,format=(dates[opts]||(opts=opts.split("-")[0],dates[opts]||(opts=defaults.language)),o.language=opts,o.startView=this._resolveViewName(o.startView,0),o.minViewMode=this._resolveViewName(o.minViewMode,0),o.maxViewMode=this._resolveViewName(o.maxViewMode,4),o.startView=Math.min(o.startView,o.maxViewMode),o.startView=Math.max(o.startView,o.minViewMode),!0!==o.multidate&&(o.multidate=Number(o.multidate)||!1,!1!==o.multidate&&(o.multidate=Math.max(0,o.multidate))),o.multidateSeparator=String(o.multidateSeparator),o.weekStart%=7,o.weekEnd=(o.weekStart+6)%7,DPGlobal.parseFormat(o.format)),plc=(o.startDate!==-1/0&&(o.startDate?o.startDate instanceof Date?o.startDate=this._local_to_utc(this._zero_time(o.startDate)):o.startDate=DPGlobal.parseDate(o.startDate,format,o.language,o.assumeNearbyYear):o.startDate=-1/0),o.endDate!==1/0&&(o.endDate?o.endDate instanceof Date?o.endDate=this._local_to_utc(this._zero_time(o.endDate)):o.endDate=DPGlobal.parseDate(o.endDate,format,o.language,o.assumeNearbyYear):o.endDate=1/0),o.daysOfWeekDisabled=o.daysOfWeekDisabled||[],$.isArray(o.daysOfWeekDisabled)||(o.daysOfWeekDisabled=o.daysOfWeekDisabled.split(/[,\s]*/)),o.daysOfWeekDisabled=$.map(o.daysOfWeekDisabled,function(d){return parseInt(d,10)}),o.daysOfWeekHighlighted=o.daysOfWeekHighlighted||[],$.isArray(o.daysOfWeekHighlighted)||(o.daysOfWeekHighlighted=o.daysOfWeekHighlighted.split(/[,\s]*/)),o.daysOfWeekHighlighted=$.map(o.daysOfWeekHighlighted,function(d){return parseInt(d,10)}),o.datesDisabled=o.datesDisabled||[],$.isArray(o.datesDisabled)||(o.datesDisabled=[o.datesDisabled]),o.datesDisabled=$.map(o.datesDisabled,function(d){return DPGlobal.parseDate(d,format,o.language,o.assumeNearbyYear)}),String(o.orientation).toLowerCase().split(/\s+/g)),opts=o.orientation.toLowerCase(),plc=$.grep(plc,function(word){return/^auto|left|right|top|bottom$/.test(word)});if(o.orientation={x:"auto",y:"auto"},opts&&"auto"!==opts)if(1===plc.length)switch(plc[0]){case"top":case"bottom":o.orientation.y=plc[0];break;case"left":case"right":o.orientation.x=plc[0]}else opts=$.grep(plc,function(word){return/^left|right$/.test(word)}),o.orientation.x=opts[0]||"auto",opts=$.grep(plc,function(word){return/^top|bottom$/.test(word)}),o.orientation.y=opts[0]||"auto";o.defaultViewDate?(opts=o.defaultViewDate.year||(new Date).getFullYear(),month=o.defaultViewDate.month||0,day=o.defaultViewDate.day||1,o.defaultViewDate=UTCDate(opts,month,day)):o.defaultViewDate=UTCToday()},_events:[],_secondaryEvents:[],_applyEvents:function(evs){for(var el,ch,ev,i=0;i<evs.length;i++)el=evs[i][0],2===evs[i].length?(ch=undefined,ev=evs[i][1]):3===evs[i].length&&(ch=evs[i][1],ev=evs[i][2]),el.on(ev,ch)},_unapplyEvents:function(evs){for(var el,ev,ch,i=0;i<evs.length;i++)el=evs[i][0],2===evs[i].length?(ch=undefined,ev=evs[i][1]):3===evs[i].length&&(ch=evs[i][1],ev=evs[i][2]),el.off(ev,ch)},_buildEvents:function(){var events={keyup:$.proxy(function(e){-1===$.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:$.proxy(this.keydown,this),paste:$.proxy(this.paste,this)};!0===this.o.showOnFocus&&(events.focus=$.proxy(this.show,this)),this.isInput?this._events=[[this.element,events]]:this.component&&this.hasInput?this._events=[[this.inputField,events],[this.component,{click:$.proxy(this.show,this)}]]:this._events=[[this.element,{click:$.proxy(this.show,this),keydown:$.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:$.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:$.proxy(function(e){this._focused_from=e.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":$.proxy(function(e){this.update(e.date)},this)}]),this._secondaryEvents=[[this.picker,{click:$.proxy(this.click,this)}],[$(window),{resize:$.proxy(this.place,this)}],[$(document),{mousedown:$.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(event,altdate){altdate=altdate||this.dates.get(-1),altdate=this._utc_to_local(altdate);this.element.trigger({type:event,date:altdate,dates:$.map(this.dates,this._utc_to_local),format:$.proxy(function(ix,format){0===arguments.length?(ix=this.dates.length-1,format=this.o.format):"string"==typeof ix&&(format=ix,ix=this.dates.length-1),format=format||this.o.format;var date=this.dates.get(ix);return DPGlobal.formatDate(date,format,this.o.language)},this)})},ariaInit:function(){var ariaDialogId=this.element.attr("id")+"_dialog";this.element.attr("aria-owns",ariaDialogId).attr("aria-live","polite"),this.picker.attr("role","dialog").attr("aria-modal","true").attr("id",ariaDialogId)},ariaOpened:function(){var ariaDescId=this.element.attr("id")+"_desc";this.element.attr("aria-labelledby",ariaDescId),this.ariaDesc=this.ariaDescElement(ariaDescId),this.ariaDesc.insertAfter(this.element)},ariaClosed:function(){this.element.attr("aria-labelledby",""),this.ariaDesc.remove()},ariaDescElement:function(id){return $('<div style="position:absolute;left:-9999px;top:-9999px;overflow:hidden;width:0;height:0" id="'+id+'" aria-live="polite"></div>')},setAriaDesc:function(value){this.ariaDesc.text(value)},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&$(this.element).blur(),this.ariaOpened(),this},hide:function(){return!this.isInline&&this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this.ariaClosed()),this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(evt){var dateString;if(evt.originalEvent.clipboardData&&evt.originalEvent.clipboardData.types&&-1!==$.inArray("text/plain",evt.originalEvent.clipboardData.types))dateString=evt.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;dateString=window.clipboardData.getData("Text")}this.setDate(dateString),this.update(),evt.preventDefault()},_utc_to_local:function(utc){return utc&&new Date(utc.getTime()+6e4*utc.getTimezoneOffset())},_local_to_utc:function(local){return local&&new Date(local.getTime()-6e4*local.getTimezoneOffset())},_zero_time:function(local){return local&&new Date(local.getFullYear(),local.getMonth(),local.getDate())},_zero_utc_time:function(utc){return utc&&new Date(Date.UTC(utc.getUTCFullYear(),utc.getUTCMonth(),utc.getUTCDate()))},getDates:function(){return $.map(this.dates,this._utc_to_local)},getUTCDates:function(){return $.map(this.dates,function(d){return new Date(d)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var selected_date=this.dates.get(-1);return void 0!==selected_date?new Date(selected_date):null},clearDates:function(){this.inputField&&this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var args=$.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,args),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var args=$.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,$.map(args,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:alias("setDates"),setUTCDate:alias("setUTCDates"),remove:alias("destroy"),setValue:function(){var formatted=this.getFormattedDate();return this.inputField.val(formatted),this},getFormattedDate:function(format){format===undefined&&(format=this.o.format);var lang=this.o.language;return $.map(this.dates,function(d){return DPGlobal.formatDate(d,format,lang)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(startDate){return this._process_options({startDate:startDate}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(endDate){return this._process_options({endDate:endDate}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(daysOfWeekDisabled){return this._process_options({daysOfWeekDisabled:daysOfWeekDisabled}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(daysOfWeekHighlighted){return this._process_options({daysOfWeekHighlighted:daysOfWeekHighlighted}),this.update(),this},setDatesDisabled:function(datesDisabled){this._process_options({datesDisabled:datesDisabled}),this.update(),this.updateNavArrows()},place:function(){var calendarWidth,calendarHeight,windowWidth,scrollTop,parentsZindex,zIndex,height,width,left,container,offset;return this.isInline||(calendarWidth=this.picker.outerWidth(),calendarHeight=this.picker.outerHeight(),windowWidth=(container=$(this.o.container)).width(),scrollTop=("body"===this.o.container?$(document):container).scrollTop(),container=container.offset(),parentsZindex=[],this.element.parents().each(function(){var itemZIndex=$(this).css("z-index");"auto"!==itemZIndex&&0!==itemZIndex&&parentsZindex.push(parseInt(itemZIndex))}),zIndex=Math.max.apply(Math,parentsZindex)+this.o.zIndexOffset,offset=(this.component?this.component.parent():this.element).offset(),height=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),width=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),left=offset.left-container.left,container=offset.top-container.top,"body"!==this.o.container&&(container+=scrollTop),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(left-=calendarWidth-width)):offset.left<0?(this.picker.addClass("datepicker-orient-left"),left-=offset.left-10):windowWidth<left+calendarWidth?(this.picker.addClass("datepicker-orient-right"),left+=width-calendarWidth):this.picker.addClass("datepicker-orient-left"),"auto"===(offset=this.o.orientation.y)&&(offset=-scrollTop+container-calendarHeight<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+offset),"top"===offset?container-=calendarHeight+parseInt(this.picker.css("padding-top")):container+=height,this.o.rtl?this.picker.css({top:container,right:windowWidth-(left+width),zIndex:zIndex}):this.picker.css({top:container,left:left,zIndex:zIndex})),this},_allow_update:!0,update:function(){var oldDates,dates,fromArgs;return this._allow_update&&(oldDates=this.dates.copy(),fromArgs=!(dates=[]),arguments.length?($.each(arguments,$.proxy(function(i,date){date instanceof Date&&(date=this._local_to_utc(date)),dates.push(date)},this)),fromArgs=!0):(dates=(dates=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?dates.split(this.o.multidateSeparator):[dates],delete this.element.data().date),dates=$.map(dates,$.proxy(function(date){return DPGlobal.parseDate(date,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),dates=$.grep(dates,$.proxy(function(date){return!this.dateWithinRange(date)||!date},this),!0),this.dates.replace(dates),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate,fromArgs?this.setValue():dates.length&&String(oldDates)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&oldDates.length&&this._trigger("clearDate"),this.fill(),this.element.change()),this},fillDow:function(){var dowCnt=this.o.weekStart,html="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(i,val){return parseInt(val)+1}),html+='<th class="cw">&#160;</th>');dowCnt<this.o.weekStart+7;)html+='<th class="dow',-1<$.inArray(dowCnt,this.o.daysOfWeekDisabled)&&(html+=" disabled"),html+='">'+dates[this.o.language].daysMin[dowCnt++%7]+"</th>";html+="</tr>",this.picker.find(".datepicker-days thead").append(html)},fillMonths:function(){for(var localDate=this._utc_to_local(this.viewDate),html="",i=0;i<12;)html+='<span class="month'+(localDate&&localDate.getMonth()===i?" focused":"")+'">'+dates[this.o.language].monthsShort[i++]+"</span>";this.picker.find(".datepicker-months td").html(html)},setRange:function(range){range&&range.length?this.range=$.map(range,function(d){return d.valueOf()}):delete this.range,this.fill()},getClassNames:function(date){var cls=[],year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth(),today=new Date;return date.getUTCFullYear()<year||date.getUTCFullYear()===year&&date.getUTCMonth()<month?cls.push("old"):(date.getUTCFullYear()>year||date.getUTCFullYear()===year&&date.getUTCMonth()>month)&&cls.push("new"),this.focusDate&&date.valueOf()===this.focusDate.valueOf()&&cls.push("focused"),this.o.todayHighlight&&date.getUTCFullYear()===today.getFullYear()&&date.getUTCMonth()===today.getMonth()&&date.getUTCDate()===today.getDate()&&cls.push("today"),-1!==this.dates.contains(date)&&cls.push("active"),this.dateWithinRange(date)||cls.push("disabled"),this.dateIsDisabled(date)&&cls.push("disabled","disabled-date"),-1!==$.inArray(date.getUTCDay(),this.o.daysOfWeekHighlighted)&&cls.push("highlighted"),this.range&&(date>this.range[0]&&date<this.range[this.range.length-1]&&cls.push("range"),-1!==$.inArray(date.valueOf(),this.range)&&cls.push("selected"),date.valueOf()===this.range[0]&&cls.push("range-start"),date.valueOf()===this.range[this.range.length-1]&&cls.push("range-end")),cls},_fill_yearsView:function(selector,cssClass,factor,step,currentYear,startYear,endYear,callback){var thisYear,i,classes,tooltip,before,html="",selector=this.picker.find(selector),currentYear=parseInt(currentYear/factor,10)*factor,startStep=parseInt(startYear/step,10)*step,endStep=parseInt(endYear/step,10)*step,steps=$.map(this.dates,function(d){return parseInt(d.getUTCFullYear()/step,10)*step});for(selector.find(".datepicker-switch").text(currentYear+"-"+(currentYear+9*step)),thisYear=currentYear-step,i=-1;i<11;i+=1)classes=[cssClass],tooltip=null,-1===i?classes.push("old"):10===i&&classes.push("new"),-1!==$.inArray(thisYear,steps)&&classes.push("active"),(thisYear<startStep||endStep<thisYear)&&classes.push("disabled"),thisYear===this.viewDate.getFullYear()&&classes.push("focused"),callback!==$.noop&&((before=callback(new Date(thisYear,0,1)))===undefined?before={}:"boolean"==typeof before?before={enabled:before}:"string"==typeof before&&(before={classes:before}),!1===before.enabled&&classes.push("disabled"),before.classes&&(classes=classes.concat(before.classes.split(/\s+/))),before.tooltip&&(tooltip=before.tooltip)),html+='<span class="'+classes.join(" ")+'"'+(tooltip?' title="'+tooltip+'"':"")+">"+thisYear+"</span>",thisYear+=step;selector.find("td").html(html)},fill:function(){var tooltip,d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth(),startYear=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,startMonth=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,endYear=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,endMonth=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,todaytxt=dates[this.o.language].today||dates.en.today||"",cleartxt=dates[this.o.language].clear||dates.en.clear||"",titleFormat=dates[this.o.language].titleFormat||dates.en.titleFormat;if(!isNaN(year)&&!isNaN(month)){this.picker.find(".datepicker-days .datepicker-switch").text(DPGlobal.formatDate(d,titleFormat,this.o.language)),this.picker.find("tfoot .today").text(todaytxt).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot .clear").text(cleartxt).toggle(!1!==this.o.clearBtn),this.picker.find("thead .datepicker-title").text(this.o.title||"&nbsp;").toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();for(var ws,yth,prevMonth=UTCDate(year,month-1,28),d=DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(),prevMonth.getUTCMonth()),nextMonth=(prevMonth.setUTCDate(d),prevMonth.setUTCDate(d-(prevMonth.getUTCDay()-this.o.weekStart+7)%7),new Date(prevMonth)),html=(prevMonth.getUTCFullYear()<100&&nextMonth.setUTCFullYear(prevMonth.getUTCFullYear()),nextMonth.setUTCDate(nextMonth.getUTCDate()+42),nextMonth=nextMonth.valueOf(),[]);prevMonth.valueOf()<nextMonth;)prevMonth.getUTCDay()===this.o.weekStart&&(html.push("<tr>"),this.o.calendarWeeks&&(ws=new Date(+prevMonth+(this.o.weekStart-prevMonth.getUTCDay()-7)%7*864e5),ws=new Date(Number(ws)+(11-ws.getUTCDay())%7*864e5),yth=new Date(Number(yth=UTCDate(ws.getUTCFullYear(),0,1))+(11-yth.getUTCDay())%7*864e5),html.push('<td class="cw">'+((ws-yth)/864e5/7+1)+"</td>"))),(ws=this.getClassNames(prevMonth)).push("day"),this.o.beforeShowDay!==$.noop&&((yth=this.o.beforeShowDay(this._utc_to_local(prevMonth)))===undefined?yth={}:"boolean"==typeof yth?yth={enabled:yth}:"string"==typeof yth&&(yth={classes:yth}),!1===yth.enabled&&ws.push("disabled"),yth.classes&&(ws=ws.concat(yth.classes.split(/\s+/))),yth.tooltip&&(tooltip=yth.tooltip)),ws=$.isFunction($.uniqueSort)?$.uniqueSort(ws):$.unique(ws),html.push('<td class="'+ws.join(" ")+'"'+(tooltip?' title="'+tooltip+'"':"")+">"+prevMonth.getUTCDate()+"</td>"),tooltip=null,prevMonth.getUTCDay()===this.o.weekEnd&&html.push("</tr>"),prevMonth.setUTCDate(prevMonth.getUTCDate()+1);this.picker.find(".datepicker-days tbody").empty().append(html.join(""));var that,titleFormat=dates[this.o.language].monthsTitle||dates.en.monthsTitle||"Months",months=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?titleFormat:year).end().find("span").removeClass("active");$.each(this.dates,function(i,d){d.getUTCFullYear()===year&&months.eq(d.getUTCMonth()).addClass("active")}),(year<startYear||endYear<year)&&months.addClass("disabled"),year===startYear&&months.slice(0,startMonth).addClass("disabled"),year===endYear&&months.slice(endMonth+1).addClass("disabled"),this.o.beforeShowMonth!==$.noop&&(that=this,$.each(months,function(i,month){i=new Date(year,i,1),i=that.o.beforeShowMonth(i);i===undefined?i={}:"boolean"==typeof i?i={enabled:i}:"string"==typeof i&&(i={classes:i}),!1!==i.enabled||$(month).hasClass("disabled")||$(month).addClass("disabled"),i.classes&&$(month).addClass(i.classes),i.tooltip&&$(month).prop("title",i.tooltip)})),this._fill_yearsView(".datepicker-years","year",10,1,year,startYear,endYear,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,10,year,startYear,endYear,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,100,year,startYear,endYear,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&year<=this.o.startDate.getUTCFullYear()&&month<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&year>=this.o.endDate.getUTCFullYear()&&month>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:case 3:case 4:this.o.startDate!==-1/0&&year<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&year>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault(),e.stopPropagation(),(e=$(e.target)).hasClass("datepicker-switch")&&this.showMode(1);var day,year,month,monthChanged,yearChanged,navArrow=e.closest(".prev, .next");0<navArrow.length&&(navArrow=DPGlobal.modes[this.viewMode].navStep*(navArrow.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,navArrow),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,navArrow),1===this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill()),e.hasClass("today")&&!e.hasClass("day")&&(this.showMode(-2),this._setDate(UTCToday(),"linked"===this.o.todayBtn?null:"view")),e.hasClass("clear")&&this.clearDates(),e.hasClass("disabled")||(e.hasClass("day")&&(day=parseInt(e.text(),10)||1,year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth(),e.hasClass("old")&&(0===month?(month=11,year-=1,yearChanged=monthChanged=!0):(month-=1,monthChanged=!0)),e.hasClass("new")&&(11===month?(year+=1,yearChanged=monthChanged=!(month=0)):(month+=1,monthChanged=!0)),this._setDate(UTCDate(year,month,day)),yearChanged&&this._trigger("changeYear",this.viewDate),monthChanged&&this._trigger("changeMonth",this.viewDate)),e.hasClass("month")&&(this.viewDate.setUTCDate(1),day=1,month=e.parent().find("span").index(e),year=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(month),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(UTCDate(year,month,day)),this.showMode()):this.showMode(-1),this.fill()),(e.hasClass("year")||e.hasClass("decade")||e.hasClass("century"))&&(this.viewDate.setUTCDate(1),day=1,month=0,year=parseInt(e.text(),10)||0,this.viewDate.setUTCFullYear(year),e.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(UTCDate(year,month,day))),e.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(UTCDate(year,month,day))),e.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),4===this.o.minViewMode&&this._setDate(UTCDate(year,month,day))),this.showMode(-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&$(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(date){var ix=this.dates.contains(date);if(date||this.dates.clear(),-1!==ix?(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(ix):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(date)),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(date,which){which&&"date"!==which||this._toggle_multidate(date&&new Date(date)),which&&"view"!==which||(this.viewDate=date&&new Date(date)),this.fill(),this.setValue(),which&&"view"===which||this._trigger("changeDate"),this.inputField&&this.inputField.change(),!this.o.autoclose||which&&"date"!==which||this.hide()},moveDay:function(date,dir){var newDate=new Date(date);return newDate.setUTCDate(date.getUTCDate()+dir),newDate},moveWeek:function(date,dir){return this.moveDay(date,7*dir)},moveMonth:function(date,dir){if(!(d=date)||isNaN(d.getTime()))return this.o.defaultViewDate;var d;if(!dir)return date;var new_month,test,new_date=new Date(date.valueOf()),day=new_date.getUTCDate(),month=new_date.getUTCMonth(),mag=Math.abs(dir);if(dir=0<dir?1:-1,1===mag)test=-1===dir?function(){return new_date.getUTCMonth()===month}:function(){return new_date.getUTCMonth()!==new_month},new_month=month+dir,new_date.setUTCMonth(new_month),(new_month<0||11<new_month)&&(new_month=(new_month+12)%12);else{for(var i=0;i<mag;i++)new_date=this.moveMonth(new_date,dir);new_month=new_date.getUTCMonth(),new_date.setUTCDate(day),test=function(){return new_month!==new_date.getUTCMonth()}}for(;test();)new_date.setUTCDate(--day),new_date.setUTCMonth(new_month);return new_date},moveYear:function(date,dir){return this.moveMonth(date,12*dir)},moveAvailableDate:function(date,dir,fn){do{if(date=this[fn](date,dir),!this.dateWithinRange(date))return!1}while(fn="moveDay",this.dateIsDisabled(date));return date&&window.moment&&this.setAriaDesc(window.moment.utc(date).format("Do MMMM, YYYY")),date},weekOfDateIsDisabled:function(date){return-1!==$.inArray(date.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(date){return this.weekOfDateIsDisabled(date)||0<$.grep(this.o.datesDisabled,function(d){return d=d,(date1=date).getUTCFullYear()===d.getUTCFullYear()&&date1.getUTCMonth()===d.getUTCMonth()&&date1.getUTCDate()===d.getUTCDate();var date1}).length},dateWithinRange:function(date){return date>=this.o.startDate&&date<=this.o.endDate},keydown:function(e){if(this.picker.is(":visible")){var dir,newViewDate,dateChanged=!1,focusDate=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault(),e.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;dir=37===e.keyCode||38===e.keyCode?-1:1,0===this.viewMode?e.ctrlKey?(newViewDate=this.moveAvailableDate(focusDate,dir,"moveYear"))&&this._trigger("changeYear",this.viewDate):e.shiftKey?(newViewDate=this.moveAvailableDate(focusDate,dir,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===e.keyCode||39===e.keyCode?newViewDate=this.moveAvailableDate(focusDate,dir,"moveDay"):this.weekOfDateIsDisabled(focusDate)||(newViewDate=this.moveAvailableDate(focusDate,dir,"moveWeek")):1===this.viewMode?(38!==e.keyCode&&40!==e.keyCode||(dir*=4),newViewDate=this.moveAvailableDate(focusDate,dir,"moveMonth")):2===this.viewMode&&(38!==e.keyCode&&40!==e.keyCode||(dir*=4),newViewDate=this.moveAvailableDate(focusDate,dir,"moveYear")),newViewDate&&(this.focusDate=this.viewDate=newViewDate,this.setValue(),this.fill(),e.preventDefault());break;case 13:if(!this.o.forceParse)break;focusDate=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(focusDate),dateChanged=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),e.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}dateChanged&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField&&this.inputField.change())}else 40!==e.keyCode&&27!==e.keyCode||(this.show(),e.stopPropagation())},showMode:function(dir){dir&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+dir))),this.picker.children("div").hide().filter(".datepicker-"+DPGlobal.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};DateRangePicker.prototype={updateDates:function(){this.dates=$.map(this.pickers,function(i){return i.getUTCDate()}),this.updateRanges()},updateRanges:function(){var range=$.map(this.dates,function(d){return d.valueOf()});$.each(this.pickers,function(i,p){p.setRange(range)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var dp=$(e.target).data("datepicker");if(void 0!==dp){var new_date=dp.getUTCDate(),dp=$.inArray(e.target,this.inputs),j=dp-1,k=dp+1,l=this.inputs.length;if(-1!==dp){if($.each(this.pickers,function(i,p){p.getUTCDate()||p.setUTCDate(new_date)}),new_date<this.dates[j])for(;0<=j&&new_date<this.dates[j];)this.pickers[j--].setUTCDate(new_date);else if(new_date>this.dates[k])for(;k<l&&new_date>this.dates[k];)this.pickers[k++].setUTCDate(new_date);this.updateDates(),delete this.updating}}}},remove:function(){$.map(this.pickers,function(p){p.remove()}),delete this.element.data().datepicker}};var old=$.fn.datepicker,datepickerPlugin=function(option){var internal_return,args=Array.apply(null,arguments);if(args.shift(),this.each(function(){var elopts,locopts,$this=$(this),data=$this.data("datepicker"),options="object"===(void 0===option?"undefined":_typeof(option))&&option;data||(elopts=function(el,prefix){var key,data=$(el).data(),out={},replace=new RegExp("^"+prefix.toLowerCase()+"([A-Z])");function re_lower(_,a){return a.toLowerCase()}for(key in prefix=new RegExp("^"+prefix.toLowerCase()),data)prefix.test(key)&&(out[key.replace(replace,re_lower)]=data[key]);return out}(this,"date"),locopts=function(lang){var d,out={};if(dates[lang]||(lang=lang.split("-")[0],dates[lang]))return d=dates[lang],$.each(locale_opts,function(i,k){k in d&&(out[k]=d[k])}),out}($.extend({},defaults,elopts,options).language),locopts=$.extend({},defaults,locopts,elopts,options),data=$this.hasClass("input-daterange")||locopts.inputs?($.extend(locopts,{inputs:locopts.inputs||$this.find("input").toArray()}),new DateRangePicker(this,locopts)):new Datepicker(this,locopts),$this.data("datepicker",data)),"string"==typeof option&&"function"==typeof data[option]&&(internal_return=data[option].apply(data,args))}),internal_return===undefined||internal_return instanceof Datepicker||internal_return instanceof DateRangePicker)return this;if(1<this.length)throw new Error("Using only allowed for the collection of a single element ("+option+" function)");return internal_return},defaults=($.fn.datepicker=datepickerPlugin,$.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:$.noop,beforeShowMonth:$.noop,beforeShowYear:$.noop,beforeShowDecade:$.noop,beforeShowCentury:$.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}}),locale_opts=$.fn.datepicker.locale_opts=["format","rtl","weekStart"],dates=($.fn.datepicker.Constructor=Datepicker,$.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}}),DPGlobal={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(year){return year%4==0&&year%100!=0||year%400==0},getDaysInMonth:function(year,month){return[31,DPGlobal.isLeapYear(year)?29:28,31,30,31,30,31,31,30,31,30,31][month]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(format){if("function"==typeof format.toValue&&"function"==typeof format.toDisplay)return format;var separators=format.replace(this.validParts,"\0").split("\0"),format=format.match(this.validParts);if(separators&&separators.length&&format&&0!==format.length)return{separators:separators,parts:format};throw new Error("Invalid date format.")},parseDate:function(date,format,language,assumeNearby){if(!date)return undefined;if(!(date instanceof Date)){if((format="string"==typeof format?DPGlobal.parseFormat(format):format).toValue)return format.toValue(date,format,language);var part,dir,fn,part_re=/([\-+]\d+)([dmwy])/,parts=date.match(/([\-+]\d+)([dmwy])/g),fn_map={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},dateAliases={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(date)){for(date=new Date,i=0;i<parts.length;i++)part=part_re.exec(parts[i]),dir=parseInt(part[1]),fn=fn_map[part[2]],date=Datepicker.prototype[fn](date,dir);return UTCDate(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate())}if(void 0!==dateAliases[date]&&(parts=(date=dateAliases[date]).match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(date))){for(date=new Date,i=0;i<parts.length;i++)part=part_re.exec(parts[i]),dir=parseInt(part[1]),fn=fn_map[part[2]],date=Datepicker.prototype[fn](date,dir);return UTCDate(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate())}parts=date&&date.match(this.nonpunctuation)||[],date=new Date;var val,filtered,parsed={},setters_order=["yyyy","yy","M","MM","m","mm","d","dd"],setters_map={yyyy:function(d,v){return d.setUTCFullYear(assumeNearby?applyNearbyYear(v,assumeNearby):v)},yy:function(d,v){return d.setUTCFullYear(assumeNearby?applyNearbyYear(v,assumeNearby):v)},m:function(d,v){if(!isNaN(d)){for(--v;v<0;)v+=12;for(d.setUTCMonth(v%=12);d.getUTCMonth()!==v;)d.setUTCDate(d.getUTCDate()-1)}return d},d:function(_d,v){return _d.setUTCDate(v)}},fparts=(setters_map.M=setters_map.MM=setters_map.mm=setters_map.m,setters_map.dd=setters_map.d,date=UTCToday(),format.parts.slice());if(parts.length!==fparts.length&&(fparts=$(fparts).filter(function(i,p){return-1!==$.inArray(p,setters_order)}).toArray()),parts.length===fparts.length){for(var _date,s,i=0,cnt=fparts.length;i<cnt;i++){if(val=parseInt(parts[i],10),part=fparts[i],isNaN(val))switch(part){case"MM":filtered=$(dates[language].months).filter(match_part),val=$.inArray(filtered[0],dates[language].months)+1;break;case"M":filtered=$(dates[language].monthsShort).filter(match_part),val=$.inArray(filtered[0],dates[language].monthsShort)+1}parsed[part]=val}for(i=0;i<setters_order.length;i++)(s=setters_order[i])in parsed&&!isNaN(parsed[s])&&(_date=new Date(date),setters_map[s](_date,parsed[s]),isNaN(_date)||(date=_date))}}return date;function applyNearbyYear(year,threshold){return!0===threshold&&(threshold=10),year<100&&(year+=2e3)>(new Date).getFullYear()+threshold&&(year-=100),year}function match_part(){var m=this.slice(0,parts[i].length),p=parts[i].slice(0,m.length);return m.toLowerCase()===p.toLowerCase()}},formatDate:function(date,format,language){if(!date)return"";if((format="string"==typeof format?DPGlobal.parseFormat(format):format).toDisplay)return format.toDisplay(date,format,language);for(var val={d:date.getUTCDate(),D:dates[language].daysShort[date.getUTCDay()],DD:dates[language].days[date.getUTCDay()],m:date.getUTCMonth()+1,M:dates[language].monthsShort[date.getUTCMonth()],MM:dates[language].months[date.getUTCMonth()],yy:date.getUTCFullYear().toString().substring(2),yyyy:date.getUTCFullYear()},seps=(val.dd=(val.d<10?"0":"")+val.d,val.mm=(val.m<10?"0":"")+val.m,date=[],$.extend([],format.separators)),i=0,cnt=format.parts.length;i<=cnt;i++)seps.length&&date.push(seps.shift()),date.push(val[format.parts[i]]);return date.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};DPGlobal.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+DPGlobal.headTemplate+"<tbody></tbody>"+DPGlobal.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+"</table></div></div>",$.fn.datepicker.DPGlobal=DPGlobal,$.fn.datepicker.noConflict=function(){return $.fn.datepicker=old,this},$.fn.datepicker.version="1.6.4",$(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var $this=$(this);$this.data("datepicker")||(e.preventDefault(),datepickerPlugin.call($this,"show"))}),$(function(){datepickerPlugin.call($('[data-provide="datepicker-inline"]'))})}),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}),_typeof=(!function(a){"function"==typeof define&&define.amd?define(["jquery"],function(b){a(b,window,document)}):a(jQuery,window,document)}(function(a,b,c,d){"use strict";function e(b,c){this.a=b,c&&a.extend(c,c,{a:c.autoFormat,h:c.autoHideDialCode,d:c.defaultCountry,i:c.ipinfoToken,n:c.nationalMode,t:c.numberType,o:c.onlyCountries,p:c.preferredCountries,v:c.preventInvalidNumbers,u:c.utilsScript}),this.b=a.extend({},h,c),this.c=h,this.ns="."+f+g++,this.d=Boolean(b.setSelectionRange),this.e=Boolean(a(b).attr("placeholder")),this.f=f}var f="intlTelInput",g=1,h={allowExtensions:!1,a:!0,h:!0,autoPlaceholder:!0,d:"",geoIpLookup:null,n:!0,t:"MOBILE",o:[],p:["us","gb"],u:""},i_b=38,i_c=40,i_d=13,i_e=27,i_f=43,i_A=65,i_Z=90,i_g=48,i_h=57,i_i=32,i_Bi=8,i_TAB=9,i_k=46,j=!1;a(b).load(function(){j=!0}),e.prototype={_init:function(){return this.b.n&&(this.b.h=!1),navigator.userAgent.match(/IEMobile/i)&&(this.b.a=!1),this.isMobile=/Android.+Mobile|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.autoCountryDeferred=new a.Deferred,this.utilsScriptDeferred=new a.Deferred,this._b(),this._f(),this._h(),this._i(),this._initRequests(),[this.autoCountryDeferred,this.utilsScriptDeferred]},_b:function(){this._d(),this._e()},_c:function(a,b,c){b in this.m||(this.m[b]=[]),this.m[b][c||0]=a},_d:function(){var b;if(this.b.o.length){for(b=0;b<this.b.o.length;b++)this.b.o[b]=this.b.o[b].toLowerCase();for(this.l=[],b=0;b<k.length;b++)-1!=a.inArray(k[b].iso2,this.b.o)&&this.l.push(k[b])}else this.l=k;for(this.m={},b=0;b<this.l.length;b++){var c=this.l[b];if(this._c(c.iso2,c.dialCode,c.priority),c.areaCodes)for(var d=0;d<c.areaCodes.length;d++)this._c(c.iso2,c.dialCode+c.areaCodes[d])}},_e:function(){this.n=[];for(var a=0;a<this.b.p.length;a++){var b=this.b.p[a].toLowerCase(),b=this._y(b,!1,!0);b&&this.n.push(b)}},_f:function(){this.g=a(this.a),this.g.attr("autocomplete","off"),this.g.wrap(a("<div>",{class:"intl-tel-input"})),this.flagsContainer=a("<div>",{class:"flag-dropdown"}).insertBefore(this.g);var b=a("<div>",{tabindex:"0",class:"selected-flag"}).appendTo(this.flagsContainer);this.h=a("<div>",{class:"iti-flag"}).appendTo(b),a("<div>",{class:"arrow"}).appendTo(b),this.isMobile?this.i=a("<select>",{class:"iti-mobile-select"}).appendTo(this.flagsContainer):(this.i=a("<ul>",{class:"country-list v-hide"}).appendTo(this.flagsContainer),this.n.length&&!this.isMobile&&(this._g(this.n,"preferred"),a("<li>",{class:"divider"}).appendTo(this.i))),this._g(this.l,""),this.isMobile||(this.j=this.i.outerHeight(),this.i.removeClass("v-hide").addClass("hide"),this.k=this.i.children(".country"))},_g:function(a,b){for(var c="",d=0;d<a.length;d++){var e=a[d];this.isMobile?c=(c+="<option data-dial-code='"+e.dialCode+"' value='"+e.iso2+"'>")+(e.name+" +"+e.dialCode)+"</option>":c=(c=(c=(c+="<li class='country "+b+"' data-dial-code='"+e.dialCode+"' data-country-code='"+e.iso2+"'>")+("<div class='flag'><div class='iti-flag "+e.iso2+"'></div></div>"))+("<span class='country-name'>"+e.name+"</span>"))+("<span class='dial-code'>+"+e.dialCode+"</span>")+"</li>"}this.i.append(c)},_h:function(){var a=this.g.val();this._af(a)?this._v(a,!0):"auto"!=this.b.d&&(this.b.d=this.b.d?this._y(this.b.d.toLowerCase(),!1,!1):(this.n.length?this.n:this.l)[0],this._z(this.b.d.iso2),a||this._ae(this.b.d.dialCode,!1)),a&&this._u(a)},_i:function(){var c,b=this;this._j(),(this.b.h||this.b.a)&&this._l(),this.isMobile?this.i.on("change"+this.ns,function(){b._ab(a(this).find("option:selected"))}):((c=this.g.closest("label")).length&&c.on("click"+this.ns,function(a){b.i.hasClass("hide")?b.g.focus():a.preventDefault()}),this.h.parent().on("click"+this.ns,function(){!b.i.hasClass("hide")||b.g.prop("disabled")||b.g.prop("readonly")||b._n()})),this.flagsContainer.on("keydown"+b.ns,function(a){!b.i.hasClass("hide")||a.which!=i_b&&a.which!=i_c&&a.which!=i_i&&a.which!=i_d||(a.preventDefault(),a.stopPropagation(),b._n()),a.which==i_TAB&&b._ac()})},_initRequests:function(){var c=this;this.b.u?j?this.loadUtils():a(b).load(function(){c.loadUtils()}):this.utilsScriptDeferred.resolve(),"auto"==this.b.d?this._loadAutoCountry():this.autoCountryDeferred.resolve()},_loadAutoCountry:function(){var b=a.cookie?a.cookie("itiAutoCountry"):"";b&&(a.fn[f].autoCountry=b),a.fn[f].autoCountry?this.autoCountryLoaded():a.fn[f].startedLoadingAutoCountry||(a.fn[f].startedLoadingAutoCountry=!0,"function"==typeof this.b.geoIpLookup&&this.b.geoIpLookup(function(b){a.fn[f].autoCountry=b.toLowerCase(),a.cookie&&a.cookie("itiAutoCountry",a.fn[f].autoCountry,{path:"/"}),setTimeout(function(){a(".intl-tel-input input").intlTelInput("autoCountryLoaded")})}))},_j:function(){var a=this;this.b.a&&this.g.on("keypress"+this.ns,function(c){var d,e,h,g;c.which>=i_i&&!c.ctrlKey&&!c.metaKey&&b.intlTelInputUtils&&!a.g.prop("readonly")&&(c.preventDefault(),d=c.which>=i_g&&c.which<=i_h||c.which==i_f,e=a.g[0],e=a.d&&e.selectionStart==e.selectionEnd,g=a.g.attr("maxlength"),h=a.g.val(),(!g||h.length<g)&&(d||e)&&(g=d?String.fromCharCode(c.which):null,a._k(g,!0,d),h!=a.g.val()&&a.g.trigger("input")),d||a._handleInvalidKey())}),this.g.on("cut"+this.ns+" paste"+this.ns,function(){setTimeout(function(){var c;a.b.a&&b.intlTelInputUtils?(c=a.d&&a.g[0].selectionStart==a.g.val().length,a._k(null,c),a._ensurePlus()):a._v(a.g.val())})}),this.g.on("keyup"+this.ns,function(c){var d;c.which==i_d||a.g.prop("readonly")||(a.b.a&&b.intlTelInputUtils?(d=a.d&&a.g[0].selectionStart==a.g.val().length,a.g.val()?(c.which!=i_k||d)&&c.which!=i_Bi||a._k():a._v(""),a._ensurePlus()):a._v(a.g.val()))})},_ensurePlus:function(){var a,b,c;this.b.n||(a=this.g.val(),b=this.g[0],"+"!=a.charAt(0)&&(c=this.d?b.selectionStart+1:0,this.g.val("+"+a),this.d&&b.setSelectionRange(c,c)))},_handleInvalidKey:function(){var a=this;this.g.trigger("invalidkey").addClass("iti-invalid-key"),setTimeout(function(){a.g.removeClass("iti-invalid-key")},100)},_k:function(a,b,c){var d,h,e=this.g.val(),f=(this._getClean(e),this.g[0]),g=0;this.d?(g=this._getDigitsOnRight(e,f.selectionEnd),a?e=e.substr(0,f.selectionStart)+a+e.substring(f.selectionEnd,e.length):d=e.substr(f.selectionStart-2,2)):a&&(e+=a),this.setNumber(e,null,b,!0,c),this.d&&(e=this.g.val(),g?(h=this._getCursorFromDigitsOnRight(e,g),a||(h=this._getCursorFromLeftChar(e,h,d))):h=e.length,f.setSelectionRange(h,h))},_getCursorFromLeftChar:function(b,c,d){for(var e=c;0<e;e--){var f=b.charAt(e-1);if(a.isNumeric(f)||b.substr(e-2,2)==d)return e}return 0},_getCursorFromDigitsOnRight:function(b,c){for(var d=b.length-1;0<=d;d--)if(a.isNumeric(b.charAt(d))&&0==--c)return d;return 0},_getDigitsOnRight:function(b,c){for(var d=0,e=c;e<b.length;e++)a.isNumeric(b.charAt(e))&&d++;return d},_l:function(){var a=this;this.b.h&&this.g.on("mousedown"+this.ns,function(b){a.g.is(":focus")||a.g.val()||(b.preventDefault(),a.g.focus())}),this.g.on("focus"+this.ns,function(){var c=a.g.val();a.g.data("focusVal",c),a.b.h&&!c&&!a.g.prop("readonly")&&a.o.dialCode&&(a._u("+"+a.o.dialCode,null,!0),a.g.one("keypress.plus"+a.ns,function(c){c.which==i_f&&(c=a.b.a&&b.intlTelInputUtils?"+":"",a.g.val(c))}),setTimeout(function(){var c,b=a.g[0];a.d&&(c=a.g.val().length,b.setSelectionRange(c,c))}))}),this.g.on("blur"+this.ns,function(){var c;a.b.h&&("+"!=(c=a.g.val()).charAt(0)||(c=a._m(c))&&a.o.dialCode!=c||a.g.val(""),a.g.off("keypress.plus"+a.ns)),a.b.a&&b.intlTelInputUtils&&a.g.val()!=a.g.data("focusVal")&&a.g.trigger("change")})},_m:function(a){return a.replace(/\D/g,"")},_getClean:function(a){return("+"==a.charAt(0)?"+":"")+this._m(a)},_n:function(){this._o();var a=this.i.children(".active");a.length&&this._x(a),this.i.removeClass("hide"),a.length&&this._ad(a),this._p(),this.h.children(".arrow").addClass("up")},_o:function(){var c=this.g.offset().top,d=a(b).scrollTop(),e=c+this.g.outerHeight()+this.j<d+a(b).height(),c=c-this.j>d,d=!e&&c?"-"+(this.j-1)+"px":"";this.i.css("top",d)},_p:function(){var b=this,d=(this.i.on("mouseover"+this.ns,".country",function(){b._x(a(this))}),this.i.on("click"+this.ns,".country",function(){b._ab(a(this))}),!0),e=(a("html").on("click"+this.ns,function(){d||b._ac(),d=!1}),""),f=null;a(c).on("keydown"+this.ns,function(a){a.preventDefault(),a.which==i_b||a.which==i_c?b._q(a.which):a.which==i_d?b._r():a.which==i_e?b._ac():(a.which>=i_A&&a.which<=i_Z||a.which==i_i)&&(f&&clearTimeout(f),e+=String.fromCharCode(a.which),b._s(e),f=setTimeout(function(){e=""},1e3))})},_q:function(a){var b=this.i.children(".highlight").first(),b=a==i_b?b.prev():b.next();b.length&&(b.hasClass("divider")&&(b=a==i_b?b.prev():b.next()),this._x(b),this._ad(b))},_r:function(){var a=this.i.children(".highlight").first();a.length&&this._ab(a)},_s:function(a){for(var b=0;b<this.l.length;b++)if(this._t(this.l[b].name,a)){var c=this.i.children("[data-country-code="+this.l[b].iso2+"]").not(".preferred");this._x(c),this._ad(c,!0);break}},_t:function(a,b){return a.substr(0,b.length).toUpperCase()==b},_u:function(a,c,d,e,f){var g;this.b.a&&b.intlTelInputUtils&&this.o?(g="number"==typeof c&&intlTelInputUtils.isValidNumber(a,this.o.iso2)?intlTelInputUtils.formatNumberByType(a,this.o.iso2,c):!e&&this.b.n&&"+"==a.charAt(0)&&intlTelInputUtils.isValidNumber(a,this.o.iso2)?intlTelInputUtils.formatNumberByType(a,this.o.iso2,intlTelInputUtils.numberFormat.NATIONAL):intlTelInputUtils.formatNumber(a,this.o.iso2,d,this.b.allowExtensions,f),(c=this.g.attr("maxlength"))&&g.length>c&&(g=g.substr(0,c))):g=a,this.g.val(g)},_v:function(b,c){b&&this.b.n&&this.o&&"1"==this.o.dialCode&&"+"!=b.charAt(0)&&(b="+"+(b="1"!=b.charAt(0)?"1"+b:b));var d=this._af(b),e=null;if(d){var f=this.m[this._m(d)];if(!(this.o&&-1!=a.inArray(this.o.iso2,f))||this._w(b,d))for(var h=0;h<f.length;h++)if(f[h]){e=f[h];break}}else"+"==b.charAt(0)&&this._m(b).length?e="":b&&"+"!=b||(e=this.b.d.iso2);null!==e&&this._z(e,c)},_w:function(a,b){return"+1"==b&&4<=this._m(a).length},_x:function(a){this.k.removeClass("highlight"),a.addClass("highlight")},_y:function(a,b,c){for(var d=b?k:this.l,e=0;e<d.length;e++)if(d[e].iso2==a)return d[e];if(c)return null;throw new Error("No country data for '"+a+"'")},_z:function(a,b){this.o=a?this._y(a,!1,!1):{},b&&this.o.iso2&&(this.b.d={iso2:this.o.iso2}),this.h.attr("class","iti-flag "+a);b=a?this.o.name+": +"+this.o.dialCode:"Unknown";this.h.parent().attr("title",b),this._aa(),this.isMobile?this.i.val(a):(this.k.removeClass("active"),a&&this.k.find(".iti-flag."+a).first().closest(".country").addClass("active"))},_aa:function(){var c,a;b.intlTelInputUtils&&!this.e&&this.b.autoPlaceholder&&this.o&&(a=this.o.iso2,c=intlTelInputUtils.numberType[this.b.t||"FIXED_LINE"],a=a?intlTelInputUtils.getExampleNumber(a,this.b.n,c):"",this.g.attr("placeholder",a))},_ab:function(a){var b=this.isMobile?"value":"data-country-code";this._z(a.attr(b),!0),this.isMobile||this._ac(),this._ae(a.attr("data-dial-code"),!0),this.g.trigger("change"),this.g.focus(),this.d&&(b=this.g.val().length,this.g[0].setSelectionRange(b,b))},_ac:function(){this.i.addClass("hide"),this.h.children(".arrow").removeClass("up"),a(c).off(this.ns),a("html").off(this.ns),this.i.off(this.ns)},_ad:function(a,b){var c=this.i,d=c.height(),e=c.offset().top,f=e+d,g=a.outerHeight(),a=a.offset().top,i=a+g,j=a-e+c.scrollTop(),k=d/2-g/2;a<e?(b&&(j-=k),c.scrollTop(j)):f<i&&(b&&(j+=k),c.scrollTop(j-(d-g)))},_ae:function(b,c){var f,e=this.g.val();b="+"+b,f=this.b.n&&"+"!=e.charAt(0)?e:e?1<(f=this._af(e)).length?e.replace(f,b):b+("+"!=e.charAt(0)?a.trim(e):""):!this.b.h||c?b:"",this._u(f,null,c)},_af:function(b){var c="";if("+"==b.charAt(0))for(var d="",e=0;e<b.length;e++){var f=b.charAt(e);if(a.isNumeric(f)&&(d+=f,this.m[d]&&(c=b.substr(0,e+1)),4==d.length))break}return c},autoCountryLoaded:function(){"auto"==this.b.d&&(this.b.d=a.fn[f].autoCountry,this._h(),this.autoCountryDeferred.resolve())},destroy:function(){this.isMobile||this._ac(),this.g.off(this.ns),this.isMobile?this.i.off(this.ns):(this.h.parent().off(this.ns),this.g.closest("label").off(this.ns)),this.g.parent().before(this.g).remove()},getExtension:function(){return this.g.val().split(" ext. ")[1]||""},getNumber:function(a){return b.intlTelInputUtils?intlTelInputUtils.formatNumberByType(this.g.val(),this.o.iso2,a):""},getNumberType:function(){return b.intlTelInputUtils?intlTelInputUtils.getNumberType(this.g.val(),this.o.iso2):-99},getSelectedCountryData:function(){return this.o||{}},getValidationError:function(){return b.intlTelInputUtils?intlTelInputUtils.getValidationError(this.g.val(),this.o.iso2):-99},isValidNumber:function(){var c=a.trim(this.g.val()),d=this.b.n?this.o.iso2:"";return!!b.intlTelInputUtils&&intlTelInputUtils.isValidNumber(c,d)},loadUtils:function(b){var c=this,b=b||this.b.u;!a.fn[f].loadedUtilsScript&&b?(a.fn[f].loadedUtilsScript=!0,a.ajax({url:b,success:function(){a(".intl-tel-input input").intlTelInput("utilsLoaded")},complete:function(){c.utilsScriptDeferred.resolve()},dataType:"script",cache:!0})):this.utilsScriptDeferred.resolve()},selectCountry:function(a){a=a.toLowerCase(),this.h.hasClass(a)||(this._z(a,!0),this._ae(this.o.dialCode,!1))},setNumber:function(a,b,c,d,e){this.b.n||"+"==a.charAt(0)||(a="+"+a),this._v(a),this._u(a,b,c,d,e)},utilsLoaded:function(){this.b.a&&this.g.val()&&this._u(this.g.val()),this._aa()}},a.fn[f]=function(b){var g,h,c=arguments;return b===d||"object"==(void 0===b?"undefined":_typeof(b))?(g=[],this.each(function(){var c,d;a.data(this,"plugin_"+f)||(d=(c=new e(this,b))._init(),g.push(d[0]),g.push(d[1]),a.data(this,"plugin_"+f,c))}),a.when.apply(null,g)):"string"==typeof b&&"_"!==b[0]?(this.each(function(){var d=a.data(this,"plugin_"+f);d instanceof e&&"function"==typeof d[b]&&(h=d[b].apply(d,Array.prototype.slice.call(c,1))),"destroy"===b&&a.data(this,"plugin_"+f,null)}),h!==d?h:this):void 0},a.fn[f].getCountryData=function(){return k},a.fn[f].version="6.0.6";for(var k=[["","none",""],["Afghanistan (â«Ø§ÙØºØ§ÙØ³ØªØ§Ùâ¬â)","af","93"],["Albania (ShqipÃ«ri)","al","355"],["Algeria (â«Ø§ÙØ¬Ø²Ø§Ø¦Ø±â¬â)","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia (ÕÕ¡ÕµÕ¡Õ½Õ¿Õ¡Õ¶)","am","374"],["Aruba","aw","297"],["Australia","au","61"],["Austria (Ãsterreich)","at","43"],["Azerbaijan (AzÉrbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain (â«Ø§ÙØ¨Ø­Ø±ÙÙâ¬â)","bh","973"],["Bangladesh (à¦¬à¦¾à¦à¦²à¦¾à¦¦à§à¦¶)","bd","880"],["Barbados","bb","1246"],["Belarus (ÐÐµÐ»Ð°ÑÑÑÑ)","by","375"],["Belgium (BelgiÃ«)","be","32"],["Belize","bz","501"],["Benin (BÃ©nin)","bj","229"],["Bermuda","bm","1441"],["Bhutan (à½ à½à¾²à½´à½)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (ÐÐ¾ÑÐ½Ð° Ð¸ Ð¥ÐµÑÑÐµÐ³Ð¾Ð²Ð¸Ð½Ð°)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria (ÐÑÐ»Ð³Ð°ÑÐ¸Ñ)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (ááááá»áá¶)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1],["Cayman Islands","ky","1345"],["Central African Republic (RÃ©publique centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (ä¸­å½)","cn","86"],["Colombia","co","57"],["Comoros (â«Ø¬Ø²Ø± Ø§ÙÙÙØ±â¬â)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["CÃ´te dâIvoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["CuraÃ§ao","cw","599",0],["Cyprus (ÎÏÏÏÎ¿Ï)","cy","357"],["Czech Republic (ÄeskÃ¡ republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (RepÃºblica Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (â«ÙØµØ±â¬â)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (FÃ¸royar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358"],["France","fr","33"],["French Guiana (Guyane franÃ§aise)","gf","594"],["French Polynesia (PolynÃ©sie franÃ§aise)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (á¡áá¥áá ááááá)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (ÎÎ»Î»Î¬Î´Î±)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590",0],["Guam","gu","1671"],["Guatemala","gt","502"],["Guinea (GuinÃ©e)","gn","224"],["Guinea-Bissau (GuinÃ© Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (é¦æ¸¯)","hk","852"],["Hungary (MagyarorszÃ¡g)","hu","36"],["Iceland (Ãsland)","is","354"],["India (à¤­à¤¾à¤°à¤¤)","in","91"],["Indonesia","id","62"],["Iran (â«Ø§ÛØ±Ø§Ùâ¬â)","ir","98"],["Iraq (â«Ø§ÙØ¹Ø±Ø§Ùâ¬â)","iq","964"],["Ireland","ie","353"],["Israel (â«××©×¨××â¬â)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1876"],["Japan (æ¥æ¬)","jp","81"],["Jordan (â«Ø§ÙØ£Ø±Ø¯Ùâ¬â)","jo","962"],["Kazakhstan (ÐÐ°Ð·Ð°ÑÑÑÐ°Ð½)","kz","7",1],["Kenya","ke","254"],["Kiribati","ki","686"],["Kuwait (â«Ø§ÙÙÙÙØªâ¬â)","kw","965"],["Kyrgyzstan (ÐÑÑÐ³ÑÐ·ÑÑÐ°Ð½)","kg","996"],["Laos (àº¥àº²àº§)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (â«ÙØ¨ÙØ§Ùâ¬â)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (â«ÙÙØ¨ÙØ§â¬â)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (æ¾³é)","mo","853"],["Macedonia (FYROM) (ÐÐ°ÐºÐµÐ´Ð¾Ð½Ð¸ÑÐ°)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (â«ÙÙØ±ÙØªØ§ÙÙØ§â¬â)","mr","222"],["Mauritius (Moris)","mu","230"],["Mexico (MÃ©xico)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (ÐÐ¾Ð½Ð³Ð¾Ð»)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco (â«Ø§ÙÙØºØ±Ø¨â¬â)","ma","212"],["Mozambique (MoÃ§ambique)","mz","258"],["Myanmar (Burma) (áá¼ááºáá¬)","mm","95"],["Namibia (NamibiÃ«)","na","264"],["Nauru","nr","674"],["Nepal (à¤¨à¥à¤ªà¤¾à¤²)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-CalÃ©donie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (ì¡°ì  ë¯¼ì£¼ì£¼ì ì¸ë¯¼ ê³µíêµ­)","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47"],["Oman (â«Ø¹ÙÙØ§Ùâ¬â)","om","968"],["Pakistan (â«Ù¾Ø§Ú©Ø³ØªØ§Ùâ¬â)","pk","92"],["Palau","pw","680"],["Palestine (â«ÙÙØ³Ø·ÙÙâ¬â)","ps","970"],["Panama (PanamÃ¡)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (PerÃº)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (â«ÙØ·Ø±â¬â)","qa","974"],["RÃ©union (La RÃ©union)","re","262"],["Romania (RomÃ¢nia)","ro","40"],["Russia (Ð Ð¾ÑÑÐ¸Ñ)","ru","7",0],["Rwanda","rw","250"],["Saint BarthÃ©lemy (Saint-BarthÃ©lemy)","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie franÃ§aise))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["SÃ£o TomÃ© and PrÃ­ncipe (SÃ£o TomÃ© e PrÃ­ncipe)","st","239"],["Saudi Arabia (â«Ø§ÙÙÙÙÙØ© Ø§ÙØ¹Ø±Ø¨ÙØ© Ø§ÙØ³Ø¹ÙØ¯ÙØ©â¬â)","sa","966"],["Senegal (SÃ©nÃ©gal)","sn","221"],["Serbia (Ð¡ÑÐ±Ð¸ÑÐ°)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (ëíë¯¼êµ­)","kr","82"],["South Sudan (â«Ø¬ÙÙØ¨ Ø§ÙØ³ÙØ¯Ø§Ùâ¬â)","ss","211"],["Spain (EspaÃ±a)","es","34"],["Sri Lanka (à·à·âà¶»à· à¶½à¶à¶à·à·)","lk","94"],["Sudan (â«Ø§ÙØ³ÙØ¯Ø§Ùâ¬â)","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (â«Ø³ÙØ±ÙØ§â¬â)","sy","963"],["Taiwan (å°ç£)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (à¹à¸à¸¢)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia (â«ØªÙÙØ³â¬â)","tn","216"],["Turkey (TÃ¼rkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine (Ð£ÐºÑÐ°ÑÐ½Ð°)","ua","380"],["United Arab Emirates (â«Ø§ÙØ¥ÙØ§Ø±Ø§Øª Ø§ÙØ¹Ø±Ø¨ÙØ© Ø§ÙÙØªØ­Ø¯Ø©â¬â)","ae","971"],["United Kingdom","gb","44"],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (OÊ»zbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (CittÃ  del Vaticano)","va","39",1],["Venezuela","ve","58"],["Vietnam (Viá»t Nam)","vn","84"],["Wallis and Futuna","wf","681"],["Yemen (â«Ø§ÙÙÙÙâ¬â)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],l=0;l<k.length;l++){var m=k[l];k[l]={name:m[0],iso2:m[1],dialCode:m[2],priority:m[3]||0,areaCodes:m[4]||null}}}),!function(){"use strict";angular.module("internationalPhoneNumber",[]).directive("internationalPhoneNumber",function($timeout,$rootScope){return{restrict:"A",require:"^ngModel",scope:{ngModel:"=",defaultCountry:"=",countries:"="},link:function(scope,element,attrs,ctrl){var handleWhatsSupposedToBeAnArray,options,read,watchOnce,defaultAccountCountry=Gecko&&Gecko.account?Gecko.account.default_country:"";$rootScope.defaultCountry=Gecko&&Gecko.geo&&(Gecko.geo||{}).country_code?Gecko.geo.country_code:defaultAccountCountry,$timeout(function(){scope.ngModel&&null!=scope.ngModel.cleaned?element.intlTelInput("setNumber",scope.ngModel.cleaned):scope.ngModel&&null!=scope.ngModel.number?element.intlTelInput("setNumber",scope.ngModel.number):"string"==typeof scope.ngMode?element.intlTelInput("setNumber",scope.ngModel):element.intlTelInput("setNumber","")}),ctrl&&""!==element.val()&&$timeout(function(){return element.intlTelInput("setNumber",element.val()),ctrl.$setViewValue(element.val())},0),read=function(){var _config=$(element).intlTelInput("getSelectedCountryData"),_config={number:element.val(),cleaned:$(element).intlTelInput("getNumber"),original:element.val().replace(" ",""),country_code:_config.iso2,dial_code:_config.dialCode};scope.ngModel=_config},handleWhatsSupposedToBeAnArray=function(value){return value instanceof Array?value:value.toString().replace(/[ ]/g,"").split(",")},options={autoPlaceholder:!0,autoFormat:!0,autoHideDialCode:!0,defaultCountry:"",nationalMode:!0,numberType:"",onlyCountries:scope.countries&&scope.countries.length?scope.countries:void 0,preferredCountries:$rootScope.defaultCountry?[$rootScope.defaultCountry.toLowerCase()]:["gb","us"],responsiveDropdown:!1,utilsScript:""},angular.forEach(options,function(value,key){var option;if(attrs.hasOwnProperty(key)&&angular.isDefined(attrs[key]))return option=attrs[key],"preferredCountries"===key?options.preferredCountries=handleWhatsSupposedToBeAnArray(option):"onlyCountries"===key?options.onlyCountries=handleWhatsSupposedToBeAnArray(option):options[key]="boolean"==typeof value?"true"===option:option}),watchOnce=scope.$watch("ngModel",function(newValue){return scope.$$postDigest(function(){return null==scope.ngModel||scope.ngModel&&(!scope.ngModel.number||scope.ngModel.country_code)?(options.defaultCountry=$rootScope.defaultCountry,null!=newValue&&""!==newValue&&element.val(newValue),element.intlTelInput(options),void 0!==attrs.skipUtilScriptDownload||options.utilsScript||element.intlTelInput("loadUtils","/bower_components/international-phone-number/js/utils.a2716a3b.js"),$(element).parent(".intl-tel-input").find("[data-country-code=none]").remove(),scope.$apply()):(newValue&&null!=newValue.number?(options.preferredCountries=[],element.val(newValue.number)):element.val(""),element.intlTelInput(options)),watchOnce()})}),ctrl.$formatters.push(function(value){return value&&($timeout(function(){return null!=value.number?element.intlTelInput("setNumber",value.number):"string"==typeof value?element.intlTelInput("setNumber",value):element.intlTelInput("setNumber","")}),element.val())}),ctrl.$parsers.push(function(value){return value&&value.replace(/[^\d]/g,"")}),ctrl.$validators&&(ctrl.$validators.internationalPhoneNumber=function(value){return element.attr("required")?!!value&&element.intlTelInput("isValidNumber"):element.intlTelInput("getSelectedCountryData").dialCode===value||(!value||element.intlTelInput("isValidNumber"))}),element.on("blur focus keyup change",function(event){if(-1===["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Meta","Backspace"].indexOf(event.key))return scope.$apply(read)}),element.on("$destroy",function(){return element.intlTelInput("destroy"),element.off("blur focus keyup change")})}}})}.call(this),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}),_typeof=(!function(a){function b(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function c(a,b){return Bb.call(a,b)}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function e(a){!1===vb.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function f(a,b){var c=!0;return o(function(){return c&&(e(a),c=!1),b.apply(this,arguments)},b)}function g(a,b){sc[a]||(e(b),sc[a]=!0)}function h(a,b){return function(c){return r(a.call(this,c),b)}}function l(){}function m(a,b){!1!==b&&H(a),p(this,a),this._d=new Date(+a._d),!1===uc&&(uc=!0,vb.updateOffset(this),uc=!1)}function n(a){var a=A(a),c=a.year||0,d=a.quarter||0,e=a.month||0,f=a.week||0,g=a.day||0,h=a.hour||0,i=a.minute||0,j=a.second||0,a=a.millisecond||0;this._milliseconds=+a+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=vb.localeData(),this._bubble()}function o(a,b){for(var d in b)c(b,d)&&(a[d]=b[d]);return c(b,"toString")&&(a.toString=b.toString),c(b,"valueOf")&&(a.valueOf=b.valueOf),a}function p(a,b){var c,d,e;if(void 0!==b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),void 0!==b._i&&(a._i=b._i),void 0!==b._f&&(a._f=b._f),void 0!==b._l&&(a._l=b._l),void 0!==b._strict&&(a._strict=b._strict),void 0!==b._tzm&&(a._tzm=b._tzm),void 0!==b._isUTC&&(a._isUTC=b._isUTC),void 0!==b._offset&&(a._offset=b._offset),void 0!==b._pf&&(a._pf=b._pf),void 0!==b._locale&&(a._locale=b._locale),0<Kb.length)for(c in Kb)void 0!==(e=b[d=Kb[c]])&&(a[d]=e);return a}function q(a){return a<0?Math.ceil(a):Math.floor(a)}function r(a,b,c){for(var d=""+Math.abs(a),a=0<=a;d.length<b;)d="0"+d;return(a?c?"+":"":"-")+d}function s(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function u(a,b){return function(c,d){var f;return null===d||isNaN(+d)||(g(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),v(this,vb.duration(c="string"==typeof c?+c:c,d),a),this}}function v(a,b,c,d){var e=b._milliseconds,f=b._days,b=b._months;d=null==d||d,e&&a._d.setTime(+a._d+e*c),f&&pb(a,"Date",ob(a,"Date")+f*c),b&&nb(a,ob(a,"Month")+b*c),d&&vb.updateOffset(a,f||b)}function w(a){return"[object Array]"===Object.prototype.toString.call(a)}function x(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function y(a,b,c){for(var e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0,d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&C(a[d])!==C(b[d]))&&g++;return g+f}function z(a){var b;return a&&(b=a.toLowerCase().replace(/(.)s$/,"$1"),a=lc[a]||mc[b]||b),a}function A(a){var b,d,e={};for(d in a)c(a,d)&&((b=z(d))&&(e[b]=a[d]));return e}function C(a){var a=+a,c=0;return c=0!=a&&isFinite(a)?0<=a?Math.floor(a):Math.ceil(a):c}function D(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function E(a,b,c){return jb(vb([a,11,31+b-c]),b,c).week}function F(a){return G(a)?366:365}function G(a){return a%4==0&&a%100!=0||a%400==0}function H(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[Db]<0||11<a._a[Db]?Db:a._a[Eb]<1||a._a[Eb]>D(a._a[Cb],a._a[Db])?Eb:a._a[Fb]<0||24<a._a[Fb]||24===a._a[Fb]&&(0!==a._a[Gb]||0!==a._a[Hb]||0!==a._a[Ib])?Fb:a._a[Gb]<0||59<a._a[Gb]?Gb:a._a[Hb]<0||59<a._a[Hb]?Hb:a._a[Ib]<0||999<a._a[Ib]?Ib:-1,a._pf._overflowDayOfYear&&(b<Cb||Eb<b)&&(b=Eb),a._pf.overflow=b)}function I(b){return null==b._isValid&&(b._isValid=!isNaN(b._d.getTime())&&b._pf.overflow<0&&!b._pf.empty&&!b._pf.invalidMonth&&!b._pf.nullInput&&!b._pf.invalidFormat&&!b._pf.userInvalidated,b._strict&&(b._isValid=b._isValid&&0===b._pf.charsLeftOver&&0===b._pf.unusedTokens.length&&b._pf.bigHour===a)),b._isValid}function J(a){return a&&a.toLowerCase().replace("_","-")}function L(a){var b;if(!Jb[a]&&Lb)try{b=vb.locale(),require("./locale/"+a),vb.locale(b)}catch(c){}return Jb[a]}function M(a,b){var d;return b._isUTC?(b=b.clone(),d=(vb.isMoment(a)||x(a)?+a:+vb(a))-+b,b._d.setTime(+b._d+d),vb.updateOffset(b,!1),b):vb(a).local()}function P(a,b){return a.isValid()?(b=Q(b,a.localeData()),nc[b]||(nc[b]=function(a){for(var d=a.match(Pb),b=0,c=d.length;b<c;b++)d[b]=rc[d[b]]||function(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}(d[b]);return function(e){var f="";for(b=0;b<c;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}(b)),nc[b](a)):a.localeData().invalidDate()}function Q(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Qb.lastIndex=0;0<=d&&Qb.test(a);)a=a.replace(Qb,c),Qb.lastIndex=0,--d;return a}function S(a){var a=(a=a||"").match(Xb)||[],a=((a[a.length-1]||[])+"").match(jc)||["-",0,0],e=60*a[1]+C(a[2]);return"+"===a[0]?e:-e}function U(a){var d,e,f,g,h,c=a._w;null!=c.GG||null!=c.W||null!=c.E?(g=1,h=4,d=b(c.GG,a._a[Cb],jb(vb(),1,4).year),e=b(c.W,1),f=b(c.E,1)):(g=a._locale._week.dow,h=a._locale._week.doy,d=b(c.gg,a._a[Cb],jb(vb(),g,h).year),e=b(c.w,1),null!=c.d?(f=c.d)<g&&++e:f=null!=c.e?c.e+g:g),c=function(a,b,c,d,e){var h=fb(a,0,1).getUTCDay();return{year:0<(b=7*(b-1)+((c=null!=c?c:e)-e)+(e-(h=0===h?7:h)+(d<h?7:0)-(h<e?7:0))+1)?a:a-1,dayOfYear:0<b?b:F(a-1)+b}}(d,e,f,h,g),a._a[Cb]=c.year,a._dayOfYear=c.dayOfYear}function V(a){var c,e,f,g=[];if(!a._d){for(e=function(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}(a),a._w&&null==a._a[Eb]&&null==a._a[Db]&&U(a),a._dayOfYear&&(f=b(a._a[Cb],e[Cb]),a._dayOfYear>F(f)&&(a._pf._overflowDayOfYear=!0),f=fb(f,0,a._dayOfYear),a._a[Db]=f.getUTCMonth(),a._a[Eb]=f.getUTCDate()),c=0;c<3&&null==a._a[c];++c)a._a[c]=g[c]=e[c];for(;c<7;c++)a._a[c]=g[c]=null==a._a[c]?2===c?1:0:a._a[c];24===a._a[Fb]&&0===a._a[Gb]&&0===a._a[Hb]&&0===a._a[Ib]&&(a._nextDay=!0,a._a[Fb]=0),a._d=(a._useUTC?fb:eb).apply(null,g),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[Fb]=24)}}function Y(b){if(b._f===vb.ISO_8601)return ab(b);b._a=[],b._pf.empty=!0;for(var d,f,g,h=""+b._i,i=h.length,j=0,e=Q(b._f,b._locale).match(Pb)||[],c=0;c<e.length;c++)f=e[c],(d=(h.match(function(a,b){var d=b._strict;switch(a){case"Q":return _b;case"DDDD":return bc;case"YYYY":case"GGGG":case"gggg":return d?cc:Tb;case"Y":case"G":case"g":return ec;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?dc:Ub;case"S":if(d)return _b;case"SS":if(d)return ac;case"SSS":if(d)return bc;case"DDD":return Sb;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Wb;case"a":case"A":return b._locale._meridiemParse;case"x":return Zb;case"X":return $b;case"Z":case"ZZ":return Xb;case"T":return Yb;case"SSSS":return Vb;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?ac:Rb;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Rb;case"Do":return d?b._locale._ordinalParse:b._locale._ordinalParseLenient;default:return new RegExp(function(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}(a.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))}}(f,b))||[])[0])&&(0<(g=h.substr(0,h.indexOf(d))).length&&b._pf.unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),rc[f]?(d?b._pf.empty=!1:b._pf.unusedTokens.push(f),function(a,b,c){var d,e=c._a;switch(a){case"Q":null!=b&&(e[Db]=3*(C(b)-1));break;case"M":case"MM":null!=b&&(e[Db]=C(b)-1);break;case"MMM":case"MMMM":null!=(d=c._locale.monthsParse(b,a,c._strict))?e[Db]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[Eb]=C(b));break;case"Do":null!=b&&(e[Eb]=C(parseInt(b.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=C(b));break;case"YY":e[Cb]=vb.parseTwoDigitYear(b);break;case"YYYY":case"YYYYY":case"YYYYYY":e[Cb]=C(b);break;case"a":case"A":c._meridiem=b;break;case"h":case"hh":c._pf.bigHour=!0;case"H":case"HH":e[Fb]=C(b);break;case"m":case"mm":e[Gb]=C(b);break;case"s":case"ss":e[Hb]=C(b);break;case"S":case"SS":case"SSS":case"SSSS":e[Ib]=C(1e3*("0."+b));break;case"x":c._d=new Date(C(b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=S(b);break;case"dd":case"ddd":case"dddd":null!=(d=c._locale.weekdaysParse(b))?(c._w=c._w||{},c._w.d=d):c._pf.invalidWeekday=b;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":a=a.substr(0,1);case"gggg":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=C(b));break;case"gg":case"GG":c._w=c._w||{},c._w[a]=vb.parseTwoDigitYear(b)}}(f,d,b)):b._strict&&!d&&b._pf.unusedTokens.push(f);b._pf.charsLeftOver=i-j,0<h.length&&b._pf.unusedInput.push(h),!0===b._pf.bigHour&&b._a[Fb]<=12&&(b._pf.bigHour=a),b._a[Fb]=function(a,b,c){return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):(null!=a.isPM&&((a=a.isPM(c))&&b<12&&(b+=12),a||12!==b||(b=0)),b)}(b._locale,b._a[Fb],b._meridiem),V(b),H(b)}function _(a){var b,c,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,a._d=new Date(NaN);for(f=0;f<a._f.length;f++)g=0,b=p({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._pf=d(),b._f=a._f[f],Y(b),I(b)&&(g=(g+=b._pf.charsLeftOver)+10*b._pf.unusedTokens.length,b._pf.score=g,(null==e||g<e)&&(e=g,c=b));o(a,c||b)}function ab(a){var b,c,d=a._i,e=fc.exec(d);if(e){for(a._pf.iso=!0,b=0,c=hc.length;b<c;b++)if(hc[b][1].exec(d)){a._f=hc[b][0]+(e[6]||" ");break}for(b=0,c=ic.length;b<c;b++)if(ic[b][1].exec(d)){a._f+=ic[b][0];break}d.match(Xb)&&(a._f+="Z"),Y(a)}else a._isValid=!1}function db(b){var c,d=b._i;d===a?b._d=new Date:x(d)?b._d=new Date(+d):null!==(c=Mb.exec(d))?b._d=new Date(+c[1]):"string"==typeof d?function(a){ab(a),!1===a._isValid&&(delete a._isValid,vb.createFromInputFallback(a))}(b):w(d)?(b._a=function(a,b){for(var d=[],c=0;c<a.length;++c)d.push(b(a[c],c));return d}(d.slice(0),function(a){return parseInt(a,10)}),V(b)):"object"==(void 0===d?"undefined":_typeof(d))?function(a){var b;a._d||(b=A(a._i),a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],V(a))}(b):"number"==typeof d?b._d=new Date(d):vb.createFromInputFallback(b)}function eb(a,b,c,d,e,f,g){b=new Date(a,b,c,d,e,f,g);return a<1970&&b.setFullYear(a),b}function fb(a){var b=new Date(Date.UTC.apply(null,arguments));return a<1970&&b.setUTCFullYear(a),b}function jb(a,b,c){var b=c-b,c=c-a.day();return b<c&&(c-=7),c<b-7&&(c+=7),b=vb(a).add(c,"d"),{week:Math.ceil(b.dayOfYear()/7),year:b.year()}}function lb(b){var d=b._i,e=b._f;return b._locale=b._locale||vb.localeData(b._l),null===d||e===a&&""===d?vb.invalid({nullInput:!0}):("string"==typeof d&&(b._i=d=b._locale.preparse(d)),vb.isMoment(d)?new m(d,!0):((e?w(e)?_:Y:db)(b),(d=new m(b))._nextDay&&(d.add(1,"d"),d._nextDay=a),d))}function mb(a,b){var c,d;if(!(b=1===b.length&&w(b[0])?b[0]:b).length)return vb();for(c=b[0],d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function nb(a,b){var c;return"string"==typeof b&&"number"!=typeof(b=a.localeData().monthsParse(b))||(c=Math.min(a.date(),D(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c)),a}function ob(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function pb(a,b,c){"Month"===b?nb(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function qb(a,b){return function(c){return null!=c?(pb(this,a,c),vb.updateOffset(this,b),this):ob(this,a)}}function rb(a){return 400*a/146097}function sb(a){return 146097*a/400}function ub(a){"undefined"==typeof ender&&(wb=zb.moment,zb.moment=a?f("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",vb):vb)}for(var vb,wb,xb,zb="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,Ab=Math.round,Bb=Object.prototype.hasOwnProperty,Cb=0,Db=1,Eb=2,Fb=3,Gb=4,Hb=5,Ib=6,Jb={},Kb=[],Lb="undefined"!=typeof module&&module&&module.exports,Mb=/^\/?Date\((\-?\d+)/i,Nb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ob=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Pb=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Qb=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Rb=/\d\d?/,Sb=/\d{1,3}/,Tb=/\d{1,4}/,Ub=/[+\-]?\d{1,6}/,Vb=/\d+/,Wb=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xb=/Z|[\+\-]\d\d:?\d\d/gi,Yb=/T/i,Zb=/[\+\-]?\d+/,$b=/[\+\-]?\d+(\.\d{1,3})?/,_b=/\d/,ac=/\d\d/,bc=/\d{3}/,cc=/\d{4}/,dc=/[+-]?\d{6}/,ec=/[+-]?\d+/,fc=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ic=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],jc=/([\+\-]|\d\d)/gi,kc=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),lc={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},mc={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},nc={},oc={s:45,m:45,h:22,d:26,M:11},pc="DDD w W M D d".split(" "),qc="M D H h m s w W".split(" "),rc={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return r(this.year()%100,2)},YYYY:function(){return r(this.year(),4)},YYYYY:function(){return r(this.year(),5)},YYYYYY:function(){var a=this.year();return(0<=a?"+":"-")+r(Math.abs(a),6)},gg:function(){return r(this.weekYear()%100,2)},gggg:function(){return r(this.weekYear(),4)},ggggg:function(){return r(this.weekYear(),5)},GG:function(){return r(this.isoWeekYear()%100,2)},GGGG:function(){return r(this.isoWeekYear(),4)},GGGGG:function(){return r(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return C(this.milliseconds()/100)},SS:function(){return r(C(this.milliseconds()/10),2)},SSS:function(){return r(this.milliseconds(),3)},SSSS:function(){return r(this.milliseconds(),3)},Z:function(){var a=this.utcOffset(),b="+";return a<0&&(a=-a,b="-"),b+r(C(a/60),2)+":"+r(C(a)%60,2)},ZZ:function(){var a=this.utcOffset(),b="+";return a<0&&(a=-a,b="-"),b+r(C(a/60),2)+r(C(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},sc={},tc=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],uc=!1;pc.length;)xb=pc.pop(),rc[xb+"o"]=function(a,b){return function(c){return this.localeData().ordinal(a.call(this,c),b)}}(rc[xb],xb);for(;qc.length;)xb=qc.pop(),rc[xb+xb]=h(rc[xb],2);for(rc.DDDD=h(rc.DDD,3),o(l.prototype,{set:function(a){var b,c;for(c in a)"function"==typeof(b=a[c])?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a,b,c){var d,e;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(e=vb.utc([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(e="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(e.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;b<7;b++)if(this._weekdaysParse[b]||(c=vb([2e3,1]).day(b),c="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(c.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b,c){a=this._calendar[a];return"function"==typeof a?a.apply(b,[c]):a},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){a=this._relativeTime[0<a?"future":"past"];return"function"==typeof a?a(b):a.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(a){return a},postformat:function(a){return a},week:function(a){return jb(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),(vb=function(b,c,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),(g={_isAMomentObject:!0})._i=b,g._f=c,g._l=e,g._strict=f,g._isUTC=!1,g._pf=d(),lb(g)}).suppressDeprecationWarnings=!1,vb.createFromInputFallback=f("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),vb.min=function(){return mb("isBefore",[].slice.call(arguments,0))},vb.max=function(){return mb("isAfter",[].slice.call(arguments,0))},vb.utc=function(b,c,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),(g={_isAMomentObject:!0,_useUTC:!0,_isUTC:!0})._l=e,g._i=b,g._f=c,g._strict=f,g._pf=d(),lb(g).utc()},vb.unix=function(a){return vb(1e3*a)},vb.duration=function(a,b){var d,h=a,i=null;return vb.isDuration(a)?h={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(h={},b?h[b]=a:h.milliseconds=a):(i=Nb.exec(a))?(d="-"===i[1]?-1:1,h={y:0,d:C(i[Eb])*d,h:C(i[Fb])*d,m:C(i[Gb])*d,s:C(i[Hb])*d,ms:C(i[Ib])*d}):(i=Ob.exec(a))?(d="-"===i[1]?-1:1,h={y:(b=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*d})(i[2]),M:b(i[3]),d:b(i[4]),h:b(i[5]),m:b(i[6]),s:b(i[7]),w:b(i[8])}):null==h?h={}:"object"==(void 0===h?"undefined":_typeof(h))&&("from"in h||"to"in h)&&(b=function(a,b){var c;return b=M(b,a),a.isBefore(b)?c=s(a,b):((c=s(b,a)).milliseconds=-c.milliseconds,c.months=-c.months),c}(vb(h.from),vb(h.to)),(h={}).ms=b.milliseconds,h.M=b.months),i=new n(h),vb.isDuration(a)&&c(a,"_locale")&&(i._locale=a._locale),i},vb.version="2.9.0",vb.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",vb.ISO_8601=function(){},vb.momentProperties=Kb,vb.updateOffset=function(){},vb.relativeTimeThreshold=function(b,c){return oc[b]!==a&&(c===a?oc[b]:(oc[b]=c,!0))},vb.lang=f("moment.lang is deprecated. Use moment.locale instead.",function(a,b){return vb.locale(a,b)}),vb.locale=function(a,b){return a&&((b=void 0!==b?vb.defineLocale(a,b):vb.localeData(a))&&(vb.duration._locale=vb._locale=b)),vb._locale._abbr},vb.defineLocale=function(a,b){return null!==b?(b.abbr=a,Jb[a]||(Jb[a]=new l),Jb[a].set(b),vb.locale(a),Jb[a]):(delete Jb[a],null)},vb.langData=f("moment.langData is deprecated. Use moment.localeData instead.",function(a){return vb.localeData(a)}),vb.localeData=function(a){var b;if(!(a=a&&a._locale&&a._locale._abbr?a._locale._abbr:a))return vb._locale;if(!w(a)){if(b=L(a))return b;a=[a]}return function(a){for(var b,c,d,e,f=0;f<a.length;){for(b=(e=J(a[f]).split("-")).length,c=(c=J(a[f+1]))?c.split("-"):null;0<b;){if(d=L(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&y(e,c,!0)>=b-1)break;b--}f++}return null}(a)},vb.isMoment=function(a){return a instanceof m||null!=a&&c(a,"_isAMomentObject")},vb.isDuration=function(a){return a instanceof n},xb=tc.length-1;0<=xb;--xb)!function(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12,d="month"}vb[b]=function(e,f){var g,h,i=vb._locale[b],j=[];if("number"==typeof e&&(f=e,e=a),h=function(a){a=vb().utc().set(d,a);return i.call(vb._locale,a,e||"")},null!=f)return h(f);for(g=0;g<c;g++)j.push(h(g));return j}}(tc[xb]);for(xb in vb.normalizeUnits=z,vb.invalid=function(a){var b=vb.utc(NaN);return null!=a?o(b._pf,a):b._pf.userInvalidated=!0,b},vb.parseZone=function(){return vb.apply(null,arguments).parseZone()},vb.parseTwoDigitYear=function(a){return C(a)+(68<C(a)?1900:2e3)},vb.isDate=x,o(vb.fn=m.prototype,{clone:function(){return vb(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=vb(this).utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():P(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):P(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return I(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&0<y(this._a,(this._isUTC?vb.utc(this._a):vb(this._a)).toArray()))},parsingFlags:function(){return o({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.utcOffset(0,a)},local:function(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(a){a=P(this,a||vb.defaultFormat);return this.localeData().postformat(a)},add:u(1,"add"),subtract:u(-1,"subtract"),diff:function(a,b,c){var e,a=M(a,this),g=6e4*(a.utcOffset()-this.utcOffset());return"year"===(b=z(b))||"month"===b||"quarter"===b?(e=function(a,b){var e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months"),b=b-f<0?(b-f)/(f-a.clone().add(e-1,"months")):(b-f)/(a.clone().add(1+e,"months")-f);return-(e+b)}(this,a),"quarter"===b?e/=3:"year"===b&&(e/=12)):(a=this-a,e="second"===b?a/1e3:"minute"===b?a/6e4:"hour"===b?a/36e5:"day"===b?(a-g)/864e5:"week"===b?(a-g)/6048e5:a),c?e:q(e)},from:function(a,b){return vb.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},fromNow:function(a){return this.from(vb(),a)},calendar:function(a){var a=a||vb(),c=M(a,this).startOf("day"),c=this.diff(c,"days",!0),c=c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(c,this,vb(a)))},isLeapYear:function(){return G(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=function(a,b){if("string"==typeof a)if(isNaN(a)){if("number"!=typeof(a=b.weekdaysParse(a)))return null}else a=parseInt(a,10);return a}(a,this.localeData()),this.add(a-b,"d")):b},month:qb("Month",!0),startOf:function(a){switch(a=z(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(b){return(b=z(b))===a||"millisecond"===b?this:this.startOf(b).add(1,"isoWeek"===b?"week":b).subtract(1,"ms")},isAfter:function(a,b){return"millisecond"===(b=z(void 0!==b?b:"millisecond"))?+(a=vb.isMoment(a)?a:vb(a))<+this:(vb.isMoment(a)?+a:+vb(a))<+this.clone().startOf(b)},isBefore:function(a,b){return"millisecond"===(b=z(void 0!==b?b:"millisecond"))?+this<+(a=vb.isMoment(a)?a:vb(a)):(a=vb.isMoment(a)?+a:+vb(a),+this.clone().endOf(b)<a)},isBetween:function(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)},isSame:function(a,b){return"millisecond"===(b=z(b||"millisecond"))?+this==+(a=vb.isMoment(a)?a:vb(a)):(a=+vb(a),+this.clone().startOf(b)<=a&&a<=+this.clone().endOf(b))},min:f("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){return(a=vb.apply(null,arguments))<this?this:a}),max:f("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){return this<(a=vb.apply(null,arguments))?this:a}),zone:f("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(a,b){return null!=a?(this.utcOffset(a="string"!=typeof a?-a:a,b),this):-this.utcOffset()}),utcOffset:function(a,b){var c,d=this._offset||0;return null!=a?("string"==typeof a&&(a=S(a)),Math.abs(a)<16&&(a*=60),!this._isUTC&&b&&(c=this._dateUtcOffset()),this._offset=a,this._isUTC=!0,null!=c&&this.add(c,"m"),d!==a&&(!b||this._changeInProgress?v(this,vb.duration(a-d,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,vb.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?d:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(S(this._i)),this},hasAlignedHourOffset:function(a){return a=a?vb(a).utcOffset():0,(this.utcOffset()-a)%60==0},daysInMonth:function(){return D(this.year(),this.month())},dayOfYear:function(a){var b=Ab((vb(this).startOf("day")-vb(this).startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=jb(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=jb(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=jb(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return E(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return E(this.year(),a.dow,a.doy)},get:function(a){return this[a=z(a)]()},set:function(a,b){if("object"==(void 0===a?"undefined":_typeof(a)))for(var c in a)this.set(c,a[c]);else"function"==typeof this[a=z(a)]&&this[a](b);return this},locale:function(b){return b===a?this._locale._abbr:(null!=(b=vb.localeData(b))&&(this._locale=b),this)},lang:f("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(b){return b===a?this.localeData():this.locale(b)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),vb.fn.millisecond=vb.fn.milliseconds=qb("Milliseconds",!1),vb.fn.second=vb.fn.seconds=qb("Seconds",!1),vb.fn.minute=vb.fn.minutes=qb("Minutes",!1),vb.fn.hour=vb.fn.hours=qb("Hours",!0),vb.fn.date=qb("Date",!0),vb.fn.dates=f("dates accessor is deprecated. Use date instead.",qb("Date",!0)),vb.fn.year=qb("FullYear",!0),vb.fn.years=f("years accessor is deprecated. Use year instead.",qb("FullYear",!0)),vb.fn.days=vb.fn.day,vb.fn.months=vb.fn.month,vb.fn.weeks=vb.fn.week,vb.fn.isoWeeks=vb.fn.isoWeek,vb.fn.quarters=vb.fn.quarter,vb.fn.toJSON=vb.fn.toISOString,vb.fn.isUTC=vb.fn.isUtc,o(vb.duration.fn=n.prototype,{_bubble:function(){var d=this._milliseconds,e=this._days,f=this._months,g=this._data;g.milliseconds=d%1e3,d=q(d/1e3),g.seconds=d%60,d=q(d/60),g.minutes=d%60,d=q(d/60),g.hours=d%24,e+=q(d/24),d=q(rb(e)),e-=q(sb(d)),f+=q(e/30),e%=30,d+=q(f/12),f%=12,g.days=e,g.months=f,g.years=d},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return q(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12)},humanize:function(a){var b=function(a,b,c){var d=vb.duration(a).abs(),e=Ab(d.as("s")),f=Ab(d.as("m")),g=Ab(d.as("h")),h=Ab(d.as("d")),i=Ab(d.as("M")),d=Ab(d.as("y"));return(e=(e<oc.s?["s",e]:1===f&&["m"])||f<oc.m&&["mm",f]||1===g&&["h"]||g<oc.h&&["hh",g]||1===h&&["d"]||h<oc.d&&["dd",h]||1===i&&["M"]||i<oc.M&&["MM",i]||1===d&&["y"]||["yy",d])[2]=b,e[3]=0<+a,e[4]=c,function(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}.apply({},e)}(this,!a,this.localeData());return a&&(b=this.localeData().pastFuture(+this,b)),this.localeData().postformat(b)},add:function(a,b){a=vb.duration(a,b);return this._milliseconds+=a._milliseconds,this._days+=a._days,this._months+=a._months,this._bubble(),this},subtract:function(a,b){a=vb.duration(a,b);return this._milliseconds-=a._milliseconds,this._days-=a._days,this._months-=a._months,this._bubble(),this},get:function(a){return this[(a=z(a)).toLowerCase()+"s"]()},as:function(a){var b,c;if("month"===(a=z(a))||"year"===a)return b=this._days+this._milliseconds/864e5,c=this._months+12*rb(b),"month"===a?c:c/12;switch(b=this._days+Math.round(sb(this._months/12)),a){case"week":return b/7+this._milliseconds/6048e5;case"day":return b+this._milliseconds/864e5;case"hour":return 24*b+this._milliseconds/36e5;case"minute":return 24*b*60+this._milliseconds/6e4;case"second":return 24*b*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*b*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+a)}},lang:vb.fn.lang,locale:vb.fn.locale,toIsoString:f("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),vb.duration.fn.toString=vb.duration.fn.toISOString,kc)c(kc,xb)&&function(a){vb.duration.fn[a]=function(){return this._data[a]}}(xb.toLowerCase());vb.duration.fn.asMilliseconds=function(){return this.as("ms")},vb.duration.fn.asSeconds=function(){return this.as("s")},vb.duration.fn.asMinutes=function(){return this.as("m")},vb.duration.fn.asHours=function(){return this.as("h")},vb.duration.fn.asDays=function(){return this.as("d")},vb.duration.fn.asWeeks=function(){return this.as("weeks")},vb.duration.fn.asMonths=function(){return this.as("M")},vb.duration.fn.asYears=function(){return this.as("y")},vb.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10;return a+(1===C(a%100/10)?"th":1==b?"st":2==b?"nd":3==b?"rd":"th")}}),Lb?module.exports=vb:"function"==typeof define&&define.amd?(define(function(a,b,c){return c.config&&c.config()&&!0===c.config().noGlobal&&(zb.moment=wb),vb}),ub(!0)):ub()}.call(this),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}),_typeof=(function(){var t=window.Messenger,e=window.Messenger=function(){return e._call.apply(this,arguments)};window.Messenger.noConflict=function(){return window.Messenger=t,e}}(),window.Messenger._=function(){if(window._)return window._;var e=Array.prototype,t=Object.prototype,n=Function.prototype,s=(e.push,e.slice),r=(e.concat,t.toString),o=(t.hasOwnProperty,e.forEach),i=(e.map,e.reduce,e.reduceRight,e.filter),t=(e.every,e.some,e.indexOf,e.lastIndexOf,Array.isArray,Object.keys),l=n.bind,u={},c={},h=u.each=u.forEach=function(e,t,n){if(null!=e)if(o&&e.forEach===o)e.forEach(t,n);else if(e.length===+e.length){for(var s=0,r=e.length;s<r;s++)if(t.call(n,e[s],s,e)===c)return}else for(var i in e)if(u.has(e,i)&&t.call(n,e[i],i,e)===c)return},p=(u.result=function(e,t){if(null==e)return null;t=e[t];return u.isFunction(t)?t.call(e):t},u.once=function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(this,arguments),e=null),t}},0);return u.uniqueId=function(e){var t=++p+"";return e?e+t:t},u.filter=u.select=function(e,t,n){var s=[];return null==e?s:i&&e.filter===i?e.filter(t,n):(h(e,function(e,r,o){t.call(n,e,r,o)&&(s[s.length]=e)}),s)},h(["Arguments","Function","String","Number","Date","RegExp"],function(e){u["is"+e]=function(t){return r.call(t)=="[object "+e+"]"}}),u.defaults=function(e){return h(s.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},u.extend=function(e){return h(s.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},u.keys=t||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var n,t=[];for(n in e)u.has(e,n)&&(t[t.length]=n);return t},u.bind=function(e,t){if(e.bind===l&&l)return l.apply(e,s.call(arguments,1));var n=s.call(arguments,2);return function(){return e.apply(t,n.concat(s.call(arguments)))}},u.isObject=function(e){return e===Object(e)},u}(),window.Messenger.Events=function(){if(window.Backbone&&Backbone.Events)return Backbone.Events;return function(){function t(_t,n,s,r){if(!s)return 1;if("object"==(void 0===s?"undefined":_typeof(s)))for(var o in s)_t[n].apply(_t,[o,s[o]].concat(r));else{if(!e.test(s))return 1;for(var i=s.split(e),a=0,l=i.length;a<l;a++)_t[n].apply(_t,[i[a]].concat(r))}}function n(e,t){var n,s=-1,r=e.length;switch(t.length){case 0:for(;r>++s;)(n=e[s]).callback.call(n.ctx);return;case 1:for(;r>++s;)(n=e[s]).callback.call(n.ctx,t[0]);return;case 2:for(;r>++s;)(n=e[s]).callback.call(n.ctx,t[0],t[1]);return;case 3:for(;r>++s;)(n=e[s]).callback.call(n.ctx,t[0],t[1],t[2]);return;default:for(;r>++s;)(n=e[s]).callback.apply(n.ctx,t)}}var e=/\s+/,s={on:function(e,n,s){return t(this,"on",e,[n,s])&&n&&(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:n,context:s,ctx:s||this})),this},once:function(e,n,s){if(!t(this,"once",e,[n,s])||!n)return this;var r=this,o=_.once(function(){r.off(e,o),n.apply(this,arguments)});return o._callback=n,this.on(e,o,s),this},off:function(e,n,s){var r,o,i,a,l,u,c,h;if(this._events&&t(this,"off",e,[n,s])){if(!e&&!n&&!s)return this._events={},this;for(l=0,u=(a=e?[e]:_.keys(this._events)).length;l<u;l++)if(e=a[l],r=this._events[e]){if(i=[],n||s)for(c=0,h=r.length;c<h;c++)o=r[c],(n&&n!==o.callback&&n!==o.callback._callback||s&&s!==o.context)&&i.push(o);this._events[e]=i}}return this},trigger:function(e){if(!this._events)return this;var s=Array.prototype.slice.call(arguments,1);if(!t(this,"trigger",e,s))return this;var r=this._events[e],o=this._events.all;return r&&n(r,s),o&&n(o,arguments),this},listenTo:function(e,t,n){return((this._listeners||(this._listeners={}))[e._listenerId||(e._listenerId=_.uniqueId("l"))]=e).on(t,"object"==(void 0===t?"undefined":_typeof(t))?this:n,this),this},stopListening:function(e,t,n){var s=this._listeners;if(s){if(e)e.off(t,"object"==(void 0===t?"undefined":_typeof(t))?this:n,this),t||n||delete s[e._listenerId];else{for(var r in"object"==(void 0===t?"undefined":_typeof(t))&&(n=this),s)s[r].off(t,n,this);this._listeners={}}return this}}};return s.bind=s.on,s.unbind=s.off,s}()}(),function(){function p(e,t){function n(){this.constructor=e}for(var s in t)h.call(t,s)&&(e[s]=t[s]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}var h={}.hasOwnProperty,d=[].slice,f=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},e=jQuery,o=null!=(l=window._)?l:window.Messenger._,s=null!=(l="undefined"!=typeof Backbone&&null!==Backbone?Backbone.Events:void 0)?l:window.Messenger.Events,l=function(){function t(t){e.extend(this,s),o.isObject(t)&&(t.el&&this.setElement(t.el),this.model=t.model),this.initialize.apply(this,arguments)}return t.prototype.setElement=function(t){return this.$el=e(t),this.el=this.$el[0]},t.prototype.delegateEvents=function(e){var t,n,s,i,r,l;if(e=e||o.result(this,"events")){for(s in this.undelegateEvents(),t=/^(\S+)\s*(.*)$/,l=[],e){if(i=e[s],!(i=o.isFunction(i)?i:this[e[s]]))throw Error('Method "'+e[s]+'" does not exist');n=(r=s.match(t))[1],r=r[2],i=o.bind(i,this),n+=".delegateEvents"+this.cid,""===r?l.push(this.jqon(n,i)):l.push(this.jqon(n,r,i))}return l}},t.prototype.jqon=function(e,t,n){var s;return null!=this.$el.on?(s=this.$el).on.apply(s,arguments):(null==n&&(n=t,t=void 0),null!=t?this.$el.delegate(t,e,n):this.$el.bind(e,n))},t.prototype.jqoff=function(e){var t;return null!=this.$el.off?(t=this.$el).off.apply(t,arguments):(this.$el.undelegate(),this.$el.unbind(e))},t.prototype.undelegateEvents=function(){return this.jqoff(".delegateEvents"+this.cid)},t.prototype.remove=function(){return this.undelegateEvents(),this.$el.remove()},t}(),i=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return p(n,t),n.prototype.defaults={hideAfter:10,scroll:!0,closeButtonText:"&times;"},n.prototype.initialize=function(t){return null==t&&(t={}),this.shown=!1,this.rendered=!1,this.messenger=t.messenger,this.options=e.extend({},this.options,t,this.defaults)},n.prototype.show=function(){var e;return this.rendered||this.render(),this.$message.removeClass("messenger-hidden"),e=this.shown,this.shown=!0,e?void 0:this.trigger("show")},n.prototype.hide=function(){var e;if(this.rendered)return this.$message.addClass("messenger-hidden"),e=this.shown,this.shown=!1,e?this.trigger("hide"):void 0},n.prototype.cancel=function(){return this.hide()},n.prototype.update=function(t){var s=this;return o.isString(t)&&(t={message:t}),e.extend(this.options,t),this.lastUpdate=new Date,this.rendered=!1,this.events=null!=(t=this.options.events)?t:{},this.render(),this.actionsToEvents(),this.delegateEvents(),this.checkClickable(),this.options.hideAfter?(this.$message.addClass("messenger-will-hide-after"),null!=this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout(function(){return s.hide()},1e3*this.options.hideAfter)):this.$message.removeClass("messenger-will-hide-after"),this.options.hideOnNavigate?(this.$message.addClass("messenger-will-hide-on-navigate"),null!=("undefined"!=typeof Backbone&&null!==Backbone?Backbone.history:void 0)&&Backbone.history.on("route",function(){return s.hide()})):this.$message.removeClass("messenger-will-hide-on-navigate"),this.trigger("update",this)},n.prototype.scrollTo=function(){return this.options.scroll?e.scrollTo(this.$el,{duration:400,offset:{left:0,top:-20}}):void 0},n.prototype.timeSinceUpdate=function(){return this.lastUpdate?new Date-this.lastUpdate:null},n.prototype.actionsToEvents=function(){var e,t,r=this,n=this.options.actions,s=[];for(t in n)e=n[t],s.push(this.events['click [data-action="'+t+'"] a']=function(e){return function(n){return n.preventDefault(),n.stopPropagation(),r.trigger("action:"+t,e,n),e.action.call(r,n,r)}}(e));return s},n.prototype.checkClickable=function(){var t,n=this.events,s=[];for(t in n)n[t],"click"===t?s.push(this.$message.addClass("messenger-clickable")):s.push(void 0);return s},n.prototype.undelegateEvents=function(){var e;return n.__super__.undelegateEvents.apply(this,arguments),null!=(e=this.$message)?e.removeClass("messenger-clickable"):void 0},n.prototype.parseActions=function(){var t,r,n=[],o=this.options.actions;for(r in o)t=o[r],(t=e.extend({},t)).name=r,null==t.label&&(t.label=r),n.push(t);return n},n.prototype.template=function(t){var n,s,o,r,l,u,c,h,p=this,i=e("<div class='messenger-message message alert "+t.type+" message-"+t.type+" alert-"+t.type+"'>");for(t.showCloseButton&&((r=e('<button type="button" class="messenger-close" data-dismiss="alert">')).html(t.closeButtonText),r.click(function(){return p.cancel(),!0}),i.append(r)),r=e('<div class="messenger-message-inner">'+t.message+"</div>"),i.append(r),t.actions.length&&(s=e('<div class="messenger-actions">')),u=0,c=(h=t.actions).length;u<c;u++)l=h[u],(n=e("<span>")).attr("data-action",""+l.name),(o=e("<a>")).html(l.label),n.append(e('<span class="messenger-phrase">')),n.append(o),s.append(n);return i.append(s),i},n.prototype.render=function(){var t;if(!this.rendered)return this._hasSlot||(this.setElement(this.messenger._reserveMessageSlot(this)),this._hasSlot=!0),t=e.extend({},this.options,{actions:this.parseActions()}),this.$message=e(this.template(t)),this.$el.html(this.$message),this.shown=!0,this.rendered=!0,this.trigger("render")},n}(l),r=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,i),t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this._timers={}},t.prototype.cancel=function(){return this.clearTimers(),this.hide(),null!=this._actionInstance&&null!=this._actionInstance.abort?this._actionInstance.abort():void 0},t.prototype.clearTimers=function(){var e,t,s,n=this._timers;for(e in n)t=n[e],clearTimeout(t);return this._timers={},null!=(s=this.$message)?s.removeClass("messenger-retry-soon messenger-retry-later"):void 0},t.prototype.render=function(){var e,n,s,r;for(n in t.__super__.render.apply(this,arguments),this.clearTimers(),r=[],s=this.options.actions)(e=s[n]).auto?r.push(this.startCountdown(n,e)):r.push(void 0);return r},t.prototype.renderPhrase=function(e,t){return e.phrase.replace("TIME",this.formatTime(t))},t.prototype.formatTime=function(e){var t=function(e,_t2){return 1!==(e=Math.floor(e))&&(_t2+="s"),"in "+e+" "+_t2};return 0===Math.floor(e)?"now...":e<60?t(e,"second"):(e/=60)<60?t(e,"minute"):t(e/=60,"hour")},t.prototype.startCountdown=function(e,t){var n,s,_r,o,i=this;if(null==this._timers[e])return n=this.$message.find("[data-action='"+e+"'] .messenger-phrase"),(s=null!=(o=t.delay)?o:3)<=10?(this.$message.removeClass("messenger-retry-later"),this.$message.addClass("messenger-retry-soon")):(this.$message.removeClass("messenger-retry-soon"),this.$message.addClass("messenger-retry-later")),(_r=function(){var o;return n.text(i.renderPhrase(t,s)),0<s?(o=Math.min(s,1),s-=o,i._timers[e]=setTimeout(_r,1e3*o)):(i.$message.removeClass("messenger-retry-soon messenger-retry-later"),delete i._timers[e],t.action())})()},t}(),a=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return p(n,t),n.prototype.tagName="ul",n.prototype.className="messenger",n.prototype.messageDefaults={type:"info"},n.prototype.initialize=function(t){return this.options=null!=t?t:{},this.history=[],this.messageDefaults=e.extend({},this.messageDefaults,this.options.messageDefaults)},n.prototype.render=function(){return this.updateMessageSlotClasses()},n.prototype.findById=function(e){return o.filter(this.history,function(t){return t.msg.options.id===e})},n.prototype._reserveMessageSlot=function(t){var s,r=this,n=e("<li>");for(n.addClass("messenger-message-slot"),this.$el.prepend(n),this.history.push({msg:t,$slot:n}),this._enforceIdConstraint(t),t.on("update",function(){return r._enforceIdConstraint(t)});this.options.maxMessages&&this.history.length>this.options.maxMessages;)(s=this.history.shift()).msg.remove(),s.$slot.remove();return n},n.prototype._enforceIdConstraint=function(e){var n,s,r,o;if(null!=e.options.id)for(n=0,s=(o=this.history).length;n<s;n++)if(null!=(r=o[n].msg).options.id&&r.options.id===e.options.id&&e!==r){if(e.options.singleton)return void e.hide();r.hide()}},n.prototype.newMessage=function(e){var t,o,a=this;return(e=null==e?{}:e).messenger=this,i=null!=(o=null!=(o=Messenger.themes[null!=(o=e.theme)?o:this.options.theme])?o.Message:void 0)?o:r,(t=new i(e)).on("show",function(){return e.scrollTo&&"fixed"!==a.$el.css("position")?t.scrollTo():void 0}),t.on("hide show render",this.updateMessageSlotClasses,this),t},n.prototype.updateMessageSlotClasses=function(){for(var n,s=!0,t=null,e=!1,i=this.history,r=0,o=i.length;r<o;r++)(n=i[r]).$slot.removeClass("messenger-first messenger-last messenger-shown"),n.msg.shown&&n.msg.rendered&&(n.$slot.addClass("messenger-shown"),e=!0,t=n,s&&(s=!1,n.$slot.addClass("messenger-first")));return null!=t&&t.$slot.addClass("messenger-last"),this.$el[(e?"remove":"add")+"Class"]("messenger-empty")},n.prototype.hideAll=function(){for(var e,s=this.history,r=[],t=0,n=s.length;t<n;t++)e=s[t],r.push(e.msg.hide());return r},n.prototype.post=function(t){var n;return o.isString(t)&&(t={message:t}),t=e.extend(!0,{},this.messageDefaults,t),(n=this.newMessage(t)).update(t),n},n}(l),t=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return p(n,a),n.prototype.doDefaults={progressMessage:null,successMessage:null,errorMessage:"Error connecting to the server.",showSuccessWithoutError:!0,retry:{auto:!0,allow:!0},action:e.ajax},n.prototype.hookBackboneAjax=function(t){var n,s=this;if(null==t&&(t={}),null==window.Backbone)throw"Expected Backbone to be defined";return t=o.defaults(t,{id:"BACKBONE_ACTION",errorMessage:!1,successMessage:"Request completed successfully.",showSuccessWithoutError:!1}),n=function(e){var n;return n=o.extend({},t,e.messenger),s.do(n,e)},null!=Backbone.ajax?(Backbone.ajax._withoutMessenger&&(Backbone.ajax=Backbone.ajax._withoutMessenger),null!=t.action&&t.action!==this.doDefaults.action||(t.action=Backbone.ajax),n._withoutMessenger=Backbone.ajax,Backbone.ajax=n):Backbone.sync=o.wrap(Backbone.sync,function(){var r=arguments[0],t=2<=arguments.length?d.call(arguments,1):[],s=e.ajax;return e.ajax=n,r.call.apply(r,[this].concat(d.call(t))),e.ajax=s})},n.prototype._getHandlerResponse=function(e){return!1!==e&&(!0===e||null==e||e)},n.prototype._parseEvents=function(e){var n,s,r,i,o={};for(r in e=null==e?{}:e)s=e[r],n=r.indexOf(" "),i=r.substring(0,n),n=r.substring(n+1),null==o[i]&&(o[i]={}),o[i][n]=s;return o},n.prototype._normalizeResponse=function(){for(var t,n=1<=arguments.length?d.call(arguments,0):[],s=null,r=null,e=null,i=0,a=n.length;i<a;i++)"success"===(t=n[i])||"timeout"===t||"abort"===t?s=t:null!=(null!=t?t.readyState:void 0)&&null!=(null!=t?t.responseText:void 0)?r=t:o.isObject(t)&&(e=t);return[s,e,r]},n.prototype.do=n.prototype.run=function(){var n,s,r,i,l,h,p,g=this,a=arguments[0],c=arguments[1],t=3<=arguments.length?d.call(arguments,2):[];if(null==c&&(c={}),a=e.extend(!0,{},this.messageDefaults,this.doDefaults,null!=a?a:{}),n=this._parseEvents(a.events),s=function(e,t){var n=a[e+"Message"];return o.isFunction(n)?n.call(g,e,t):n},l=null!=(p=a.messageInstance)?p:this.newMessage(a),null!=a.id&&(l.options.id=a.id),null!=a.progressMessage&&l.update(e.extend({},a,{message:s("progress",null),type:"info"})),i={},o.each(["error","success"],function(r){var u=c[r];return i[r]=function(){var m,v=1<=arguments.length?d.call(arguments,0):[],b=g._normalizeResponse.apply(g,v),y=b[0],b=(b[1],b[2]);return"success"===r&&null==l.errorCount&&!1===a.showSuccessWithoutError&&(a.successMessage=null),"error"===r&&(null==a.errorCount&&(a.errorCount=0),a.errorCount+=1),v=a.returnsPromise?v[0]:"function"==typeof u?u.apply(null,v):void 0,v=g._getHandlerResponse(v),o.isString(v)&&(v={message:v}),"error"===r&&(0===(null!=b?b.status:void 0)||"abort"===y)||"error"===r&&null!=a.ignoredErrorCodes&&(y=null!=b?b.status:void 0,0<=f.call(a.ignoredErrorCodes,y))?void l.hide():(y={message:s(r,b),type:r,events:null!=(y=n[r])?y:{},hideOnNavigate:"success"===r},"number"==typeof(null!=(y=(m=e.extend({},a,y,v)).retry)?y.allow:void 0)&&m.retry.allow--,"error"===r&&500<=(null!=b?b.status:void 0)&&null!=(y=m.retry)&&y.allow?(null==m.retry.delay&&(m.retry.delay=m.errorCount<4?10:300),m.hideAfter&&(null==m._hideAfter&&(m._hideAfter=m.hideAfter),m.hideAfter=m._hideAfter+m.retry.delay),m._retryActions=!0,m.actions={retry:{label:"retry now",phrase:"Retrying TIME",auto:m.retry.auto,delay:m.retry.delay,action:function(){return m.messageInstance=l,setTimeout(function(){return g.do.apply(g,[m,c].concat(d.call(t)))},0)}},cancel:{action:function(){return l.cancel()}}}):m._retryActions&&(delete m.actions.retry,delete m.actions.cancel,delete a._retryActions),l.update(m),v&&m.message?(Messenger(o.extend({},g.options,{instance:g})),l.show()):l.hide())}}),!a.returnsPromise)for(h in i)r=i[h],c[h],c[h]=r;return l._actionInstance=a.action.apply(a,[c].concat(d.call(t))),a.returnsPromise&&l._actionInstance.then(i.success,i.error),l},n.prototype.ajax=function(){var n=arguments[0],t=2<=arguments.length?d.call(arguments,1):[];return n.action=e.ajax,this.run.apply(this,[n].concat(d.call(t)))},n.prototype.expectPromise=function(e,t){return t=o.extend({},t,{action:e,returnsPromise:!0}),this.run(t)},n.prototype.error=function(e){return(e="string"==typeof(e=null==e?{}:e)?{message:e}:e).type="error",this.post(e)},n.prototype.info=function(e){return(e="string"==typeof(e=null==e?{}:e)?{message:e}:e).type="info",this.post(e)},n.prototype.success=function(e){return(e="string"==typeof(e=null==e?{}:e)?{message:e}:e).type="success",this.post(e)},n}();e.fn.messenger=function(){var h,r=arguments[0],s=2<=arguments.length?d.call(arguments,1):[],n=this;return null!=(r=null==r?{}:r)&&o.isString(r)?(h=n.data("messenger"))[r].apply(h,s):(h=r,null==n.data("messenger")&&(a=null!=(r=null!=(s=Messenger.themes[h.theme])?s.Messenger:void 0)?r:t,n.data("messenger",s=new a(e.extend({el:n},h))),s.render()),n.data("messenger"))},window.Messenger._call=function(t){var s,o,n,l,u,c,h,p;if(null!=(t=e.extend({extraClasses:"messenger-fixed messenger-on-bottom messenger-on-right",theme:"future",maxMessages:9,parentLocations:["body"]},e._messengerDefaults,Messenger.options,t)).theme&&(t.extraClasses+=" messenger-theme-"+t.theme),l=t.instance||Messenger.instance,null==t.instance){for(s=null,h=0,p=(c=t.parentLocations).length;h<p;h++)if(u=c[h],(s=e(u)).length){o=u;break}l?e(l._location).is(e(o))||(l.$el.detach(),s.prepend(l.$el)):(n=e("<ul>"),s.prepend(n),(l=n.messenger(t))._location=o,Messenger.instance=l)}return null!=l._addedClasses&&l.$el.removeClass(l._addedClasses),l.$el.addClass(n=l.className+" "+t.extraClasses),l._addedClasses=n,l},e.extend(Messenger,{Message:r,Messenger:t,themes:null!=(l=Messenger.themes)?l:{}}),e.globalMessenger=window.Messenger=Messenger}.call(this),!function(){var __hasProp={}.hasOwnProperty,$=jQuery,FlatMessage=function(){function FlatMessage(){return FlatMessage.__super__.constructor.apply(this,arguments)}return function(child,parent){for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype}(FlatMessage,window.Messenger.Message),FlatMessage.prototype.template=function(opts){var $message=FlatMessage.__super__.template.apply(this,arguments);return $message.append($('<div class="messenger-spinner">\n    <span class="messenger-spinner-side messenger-spinner-side-left">\n        <span class="messenger-spinner-fill"></span>\n    </span>\n    <span class="messenger-spinner-side messenger-spinner-side-right">\n        <span class="messenger-spinner-fill"></span>\n    </span>\n</div>')),$message},FlatMessage}();window.Messenger.themes.flat={Message:FlatMessage}}.call(this),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}),_typeof=(!function(root,factory){"function"==typeof define&&define.amd?define(factory):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=factory():root.MicroPlugin=factory()}(this,function(){var MicroPlugin={mixin:function(Interface){Interface.plugins={},Interface.prototype.initializePlugins=function(plugins){var i,n,key,queue=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},utils.isArray(plugins))for(i=0,n=plugins.length;i<n;i++)"string"==typeof plugins[i]?queue.push(plugins[i]):(this.plugins.settings[plugins[i].name]=plugins[i].options,queue.push(plugins[i].name));else if(plugins)for(key in plugins)plugins.hasOwnProperty(key)&&(this.plugins.settings[key]=plugins[key],queue.push(key));for(;queue.length;)this.require(queue.shift())},Interface.prototype.loadPlugin=function(name){var plugins=this.plugins,plugin=Interface.plugins[name];if(!Interface.plugins.hasOwnProperty(name))throw new Error('Unable to find "'+name+'" plugin');plugins.requested[name]=!0,plugins.loaded[name]=plugin.fn.apply(this,[this.plugins.settings[name]||{}]),plugins.names.push(name)},Interface.prototype.require=function(name){var plugins=this.plugins;if(!this.plugins.loaded.hasOwnProperty(name)){if(plugins.requested[name])throw new Error('Plugin has circular dependency ("'+name+'")');this.loadPlugin(name)}return plugins.loaded[name]},Interface.define=function(name,fn){Interface.plugins[name]={name:name,fn:fn}}}},utils={isArray:Array.isArray||function(vArg){return"[object Array]"===Object.prototype.toString.call(vArg)}};return MicroPlugin}),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}),_typeof=(!function(r,t){"function"==typeof define&&define.amd?define(t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t():r.Sifter=t()}(this,function(){function r(_r,t){this.items=_r,this.settings=t||{diacritics:!0}}r.prototype.tokenize=function(r){if(!(r=n(String(r||"").toLowerCase()))||!r.length)return[];for(var o,s,u=[],a=r.split(/ +/),t=0,e=a.length;t<e;t++){if(o=i(a[t]),this.settings.diacritics)for(s in f)f.hasOwnProperty(s)&&(o=o.replace(new RegExp(s,"g"),f[s]));u.push({string:a[t],regex:new RegExp(o,"i")})}return u},r.prototype.iterator=function(r,t){var e=o(r)?Array.prototype.forEach||function(r){for(var t=0,e=this.length;t<e;t++)r(this[t],t,this)}:function(r){for(var t in this)this.hasOwnProperty(t)&&r(this[t],t,this)};e.apply(r,[t])},r.prototype.getScoreFunction=function(r,t){function f(r,t){var n;return!r||-1===(n=(r=String(r||"")).search(t.regex))?0:(t=t.string.length/r.length,0===n&&(t+=.5),t)}var i=(r=this.prepareSearch(r,t)).tokens,n=r.options.fields,o=i.length,s=function(){var r=n.length;return r?1===r?function(r,t){return f(t[n[0]],r)}:function(t,e){for(var i=0,o=0;i<r;i++)o+=f(e[n[i]],t);return o/r}:function(){return 0}}();return o?1===o?function(r){return s(i[0],r)}:"and"===r.options.conjunction?function(r){for(var t,e=0,n=0;e<o;e++){if((t=s(i[e],r))<=0)return 0;n+=t}return n/o}:function(r){for(var t=0,e=0;t<o;t++)e+=s(i[t],r);return e/o}:function(){return 0}},r.prototype.getSortFunction=function(r,e){var n,i,f,u,a,c,l,o=this,h=!(r=o.prepareSearch(r,e)).query&&e.sort_empty||e.sort,p=function(r,t){return"$score"===r?t.score:o.items[t.id][r]},s=[];if(h)for(n=0,i=h.length;n<i;n++)!r.query&&"$score"===h[n].field||s.push(h[n]);if(r.query){for(l=!0,n=0,i=s.length;n<i;n++)if("$score"===s[n].field){l=!1;break}l&&s.unshift({field:"$score",direction:"desc"})}else for(n=0,i=s.length;n<i;n++)if("$score"===s[n].field){s.splice(n,1);break}for(c=[],n=0,i=s.length;n<i;n++)c.push("desc"===s[n].direction?-1:1);return(u=s.length)?1===u?(f=s[0].field,a=c[0],function(r,e){return a*t(p(f,r),p(f,e))}):function(r,e){for(var a,n=0;n<u;n++)if(a=s[n].field,a=c[n]*t(p(a,r),p(a,e)))return a;return 0}:null},r.prototype.prepareSearch=function(r,t){if("object"===(void 0===r?"undefined":_typeof(r)))return r;var n=(t=e({},t)).fields,i=t.sort,f=t.sort_empty;return n&&!o(n)&&(t.fields=[n]),i&&!o(i)&&(t.sort=[i]),f&&!o(f)&&(t.sort_empty=[f]),{options:t,query:String(r||"").toLowerCase(),tokens:this.tokenize(r),total:0,items:[]}},r.prototype.search=function(r,t){var i,u,e=this,o=this.prepareSearch(r,t);return t=o.options,r=o.query,u=t.score||e.getScoreFunction(o),r.length?e.iterator(e.items,function(r,e){i=u(r),(!1===t.filter||0<i)&&o.items.push({score:i,id:e})}):e.iterator(e.items,function(r,t){o.items.push({score:1,id:t})}),(r=e.getSortFunction(o,t))&&o.items.sort(r),o.total=o.items.length,"number"==typeof t.limit&&(o.items=o.items.slice(0,t.limit)),o};var t=function(r,_t){return"number"==typeof r&&"number"==typeof _t?_t<r?1:r<_t?-1:0:(r=String(r||"").toLowerCase(),(_t=String(_t||"").toLowerCase())<r?1:r<_t?-1:0)},e=function(r,t){var e,n,i,o;for(e=1,n=arguments.length;e<n;e++)if(o=arguments[e])for(i in o)o.hasOwnProperty(i)&&(r[i]=o[i]);return r},n=function(r){return(r+"").replace(/^\s+|\s+$|/g,"")},i=function(r){return(r+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},o=Array.isArray||$&&$.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)},f={a:"[aÃÃÃÃÃÃÃ Ã¡Ã¢Ã£Ã¤Ã¥ÄÄ]",c:"[cÃÃ§ÄÄÄÄ]",d:"[dÄÄÄÄ]",e:"[eÃÃÃÃÃ¨Ã©ÃªÃ«ÄÄÄÄ]",i:"[iÃÃÃÃÃ¬Ã­Ã®Ã¯ÄªÄ«]",n:"[nÃÃ±ÅÅ]",o:"[oÃÃÃÃÃÃÃÃ²Ã³Ã´ÃµÃ¶Ã¸ÅÅ]",r:"[rÅÅ]",s:"[sÅ Å¡]",t:"[tÅ¥Å¤]",u:"[uÃÃÃÃÃ¹ÃºÃ»Ã¼Å¯Å®ÅªÅ«]",y:"[yÅ¸Ã¿Ã½Ã]",z:"[zÅ½Å¾]"};return r}),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}),_typeof=(!function(root,factory){"function"==typeof define&&define.amd?define(["jquery","sifter","microplugin"],factory):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=factory(require("jquery"),require("sifter"),require("microplugin")):root.Selectize=factory(root.jQuery,root.Sifter,root.MicroPlugin)}(this,function($,Sifter,MicroPlugin){"use strict";function MicroEvent(){}function isset(object){return void 0!==object}function hash_key(value){return null==value?null:"boolean"==typeof value?value?"1":"0":value+""}function escape_html(str){return(str+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function escape_replace(str){return(str+"").replace(/\$/g,"$$$$")}function build_hash_table(key,objects){if(!$.isArray(objects))return objects;for(var table={},i=0,n=objects.length;i<n;i++)objects[i].hasOwnProperty(key)&&(table[objects[i][key]]=objects[i]);return table}function debounce_events(self,types,fn){var type,trigger=self.trigger,event_args={};for(type in self.trigger=function(){var type=arguments[0];if(-1===types.indexOf(type))return trigger.apply(self,arguments);event_args[type]=arguments},fn.apply(self,[]),self.trigger=trigger,event_args)event_args.hasOwnProperty(type)&&trigger.apply(self,event_args[type])}function getSelection(input){var sel,selLen,result={};return"selectionStart"in input?(result.start=input.selectionStart,result.length=input.selectionEnd-result.start):document.selection&&(input.focus(),sel=document.selection.createRange(),selLen=document.selection.createRange().text.length,sel.moveStart("character",-input.value.length),result.start=sel.text.length-selLen,result.length=selLen),result}function autoGrow($input){function update(e,options){var printable,keyCode,selection;options=options||{},(e=e||window.event||{}).metaKey||e.altKey||!options.force&&!1===$input.data("grow")||(options=$input.val(),e.type&&"keydown"===e.type.toLowerCase()&&(printable=97<=(keyCode=e.keyCode)&&keyCode<=122||65<=keyCode&&keyCode<=90||48<=keyCode&&keyCode<=57||32===keyCode,46===keyCode||8===keyCode?(selection=getSelection($input[0])).length?options=options.substring(0,selection.start)+options.substring(selection.start+selection.length):8===keyCode&&selection.start?options=options.substring(0,selection.start-1)+options.substring(selection.start+1):46===keyCode&&void 0!==selection.start&&(options=options.substring(0,selection.start)+options.substring(selection.start+1)):printable&&(keyCode=e.shiftKey,selection=String.fromCharCode(e.keyCode),options+=selection=keyCode?selection.toUpperCase():selection.toLowerCase())),printable=$input.attr("placeholder"),(e=function(str,$parent){if(!str)return 0;str=$("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(str).appendTo("body"),transferStyles($parent,str,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),$parent=str.width();return str.remove(),$parent}(options=!options&&printable?printable:options,$input)+4)!==currentWidth&&(currentWidth=e,$input.width(e),$input.triggerHandler("resize")))}var currentWidth=null;$input.on("keydown keyup update blur",update),update()}function Selectize($input,settings){var fn,delay,timeout,input=$input[0],computedStyle=(input.selectize=this,window.getComputedStyle&&window.getComputedStyle(input,null));computedStyle=(computedStyle?computedStyle.getPropertyValue("direction"):input.currentStyle&&input.currentStyle.direction)||$input.parents("[dir]:first").attr("dir")||"",$.extend(this,{settings:settings,$input:$input,tagType:"select"===input.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(computedStyle),eventNS:".selectize"+ ++Selectize.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:$input.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===settings.loadThrottle?this.onSearchChange:(fn=this.onSearchChange,delay=settings.loadThrottle,function(){var self=this,args=arguments;window.clearTimeout(timeout),timeout=window.setTimeout(function(){fn.apply(self,args)},delay)})}),this.sifter=new Sifter(this.options,{diacritics:settings.diacritics}),$.extend(this.options,build_hash_table(settings.valueField,settings.options)),delete this.settings.options,$.extend(this.optgroups,build_hash_table(settings.optgroupValueField,settings.optgroups)),delete this.settings.optgroups,this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),"boolean"!=typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode),this.initializePlugins(this.settings.plugins),this.setupCallbacks(),this.setupTemplates(),this.setup()}MicroEvent.prototype={on:function(event,fct){this._events=this._events||{},this._events[event]=this._events[event]||[],this._events[event].push(fct)},off:function(event,fct){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[event]:(this._events=this._events||{},void(event in this._events!=!1&&this._events[event].splice(this._events[event].indexOf(fct),1)))},trigger:function(event){if(this._events=this._events||{},event in this._events!=!1)for(var i=0;i<this._events[event].length;i++)this._events[event][i].apply(this,Array.prototype.slice.call(arguments,1))}},MicroEvent.mixin=function(destObject){for(var props=["on","off","trigger"],i=0;i<props.length;i++)destObject.prototype[props[i]]=MicroEvent.prototype[props[i]]};var IS_MAC=/Mac/.test(navigator.userAgent),KEY_CMD=IS_MAC?91:17,KEY_CTRL=IS_MAC?18:17,hook={before:function(self,method,fn){var original=self[method];self[method]=function(){return fn.apply(self,arguments),original.apply(self,arguments)}},after:function(self,method,fn){var original=self[method];self[method]=function(){var result=original.apply(self,arguments);return fn.apply(self,arguments),result}}},transferStyles=function($from,$to,properties){var i,n,styles={};if(properties)for(i=0,n=properties.length;i<n;i++)styles[properties[i]]=$from.css(properties[i]);else styles=$from.css();$to.css(styles)};return MicroEvent.mixin(Selectize),MicroPlugin.mixin(Selectize),$.extend(Selectize.prototype,{setup:function(){var $parent,fn,self=this,settings=self.settings,eventNS=self.eventNS,$window=$(window),$document=$(document),$input=self.$input,inputMode=self.settings.mode,tab_index=$input.attr("tabindex")||"",classes=$input.attr("class")||"",$wrapper=$("<div>").addClass(settings.wrapperClass).addClass(classes).addClass(inputMode),$control=$("<div>").addClass(settings.inputClass).addClass("items").appendTo($wrapper),tab_index=$('<input type="text" autocomplete="off" />').appendTo($control).attr("tabindex",tab_index),$dropdown_parent=$(settings.dropdownParent||$wrapper),inputMode=$("<div>").addClass(settings.dropdownClass).addClass(inputMode).hide().appendTo($dropdown_parent),$dropdown_parent=$("<div>").addClass(settings.dropdownContentClass).appendTo(inputMode);self.settings.copyClassesToDropdown&&inputMode.addClass(classes),$wrapper.css({width:$input[0].style.width}),self.plugins.names.length&&(classes="plugin-"+self.plugins.names.join(" plugin-"),$wrapper.addClass(classes),inputMode.addClass(classes)),(null===settings.maxItems||1<settings.maxItems)&&1===self.tagType&&$input.attr("multiple","multiple"),self.settings.placeholder&&tab_index.attr("placeholder",settings.placeholder),$input.attr("autocorrect")&&tab_index.attr("autocorrect",$input.attr("autocorrect")),$input.attr("autocapitalize")&&tab_index.attr("autocapitalize",$input.attr("autocapitalize")),self.$wrapper=$wrapper,self.$control=$control,self.$control_input=tab_index,self.$dropdown=inputMode,self.$dropdown_content=$dropdown_parent,inputMode.on("mouseenter","[data-selectable]",function(){return self.onOptionHover.apply(self,arguments)}),inputMode.on("mousedown","[data-selectable]",function(){return self.onOptionSelect.apply(self,arguments)}),classes="mousedown",$wrapper="*:not(input)",fn=function(){return self.onItemSelect.apply(self,arguments)},($parent=$control).on(classes,$wrapper,function(e){for(var child=e.target;child&&child.parentNode!==$parent[0];)child=child.parentNode;return e.currentTarget=child,fn.apply(this,[e])}),autoGrow(tab_index),$control.on({mousedown:function(){return self.onMouseDown.apply(self,arguments)},click:function(){return self.onClick.apply(self,arguments)}}),tab_index.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return self.onKeyDown.apply(self,arguments)},keyup:function(){return self.onKeyUp.apply(self,arguments)},keypress:function(){return self.onKeyPress.apply(self,arguments)},resize:function(){self.positionDropdown.apply(self,[])},blur:function(){return self.onBlur.apply(self,arguments)},focus:function(){return self.ignoreBlur=!1,self.onFocus.apply(self,arguments)},paste:function(){return self.onPaste.apply(self,arguments)}}),$document.on("keydown"+eventNS,function(e){self.isCmdDown=e[IS_MAC?"metaKey":"ctrlKey"],self.isCtrlDown=e[IS_MAC?"altKey":"ctrlKey"],self.isShiftDown=e.shiftKey}),$document.on("keyup"+eventNS,function(e){e.keyCode===KEY_CTRL&&(self.isCtrlDown=!1),16===e.keyCode&&(self.isShiftDown=!1),e.keyCode===KEY_CMD&&(self.isCmdDown=!1)}),$document.on("mousedown"+eventNS,function(e){if(self.isFocused){if(e.target===self.$dropdown[0]||e.target.parentNode===self.$dropdown[0])return!1;self.$control.has(e.target).length||e.target===self.$control[0]||self.blur()}}),$window.on(["scroll"+eventNS,"resize"+eventNS].join(" "),function(){self.isOpen&&self.positionDropdown.apply(self,arguments)}),$window.on("mousemove"+eventNS,function(){self.ignoreHover=!1}),this.revertSettings={$children:$input.children().detach(),tabindex:$input.attr("tabindex")},$input.attr("tabindex",-1).hide().after(self.$wrapper),$.isArray(settings.items)&&(self.setValue(settings.items),delete settings.items),$input[0].validity&&$input.on("invalid"+eventNS,function(e){e.preventDefault(),self.isInvalid=!0,self.refreshState()}),self.updateOriginalInput(),self.refreshItems(),self.refreshState(),self.updatePlaceholder(),self.isSetup=!0,$input.is(":disabled")&&self.disable(),self.on("change",this.onChange),$input.data("selectize",self),$input.addClass("selectized"),self.trigger("initialize"),!0===settings.preload&&self.onSearchChange("")},setupTemplates:function(){var field_label=this.settings.labelField,field_optgroup=this.settings.optgroupLabelField;this.settings.render=$.extend({},{optgroup:function(data){return'<div class="optgroup">'+data.html+"</div>"},optgroup_header:function(data,escape){return'<div class="optgroup-header">'+escape(data[field_optgroup])+"</div>"},option:function(data,escape){return'<div class="option">'+escape(data[field_label])+"</div>"},item:function(data,escape){return'<div class="item">'+escape(data[field_label])+"</div>"},option_create:function(data,escape){return'<div class="create">Add <strong>'+escape(data.input)+"</strong>&hellip;</div>"}},this.settings.render)},setupCallbacks:function(){var key,fn,callbacks={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad"};for(key in callbacks)callbacks.hasOwnProperty(key)&&(fn=this.settings[callbacks[key]])&&this.on(key,fn)},onClick:function(e){this.isFocused||(this.focus(),e.preventDefault())},onMouseDown:function(e){var self=this,defaultPrevented=e.isDefaultPrevented();$(e.target);if(self.isFocused){if(e.target!==self.$control_input[0])return"single"===self.settings.mode?self.isOpen?self.close():self.open():defaultPrevented||self.setActiveItem(null),!1}else defaultPrevented||window.setTimeout(function(){self.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){(this.isFull()||this.isInputHidden||this.isLocked)&&e.preventDefault()},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var character=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&character===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var $next;e.target,this.$control_input[0];if(this.isLocked)9!==e.keyCode&&e.preventDefault();else{switch(e.keyCode){case 65:if(this.isCmdDown)return void this.selectAll();break;case 27:return void this.close();case 78:if(!e.ctrlKey||e.altKey)break;case 40:return!this.isOpen&&this.hasOptions?this.open():this.$activeOption&&(this.ignoreHover=!0,($next=this.getAdjacentOption(this.$activeOption,1)).length&&this.setActiveOption($next,!0,!0)),void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:return this.$activeOption&&(this.ignoreHover=!0,($next=this.getAdjacentOption(this.$activeOption,-1)).length&&this.setActiveOption($next,!0,!0)),void e.preventDefault();case 13:return this.isOpen&&this.$activeOption&&this.onOptionSelect({currentTarget:this.$activeOption}),void e.preventDefault();case 37:return void this.advanceSelection(-1,e);case 39:return void this.advanceSelection(1,e);case 9:return this.settings.selectOnTab&&this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),e.preventDefault()),void(this.settings.create&&this.createItem()&&e.preventDefault());case 8:case 46:return void this.deleteSelection(e)}!this.isFull()&&!this.isInputHidden||(IS_MAC?e.metaKey:e.ctrlKey)||e.preventDefault()}},onKeyUp:function(e){if(this.isLocked)return e&&e.preventDefault();e=this.$control_input.val()||"";this.lastValue!==e&&(this.lastValue=e,this.onSearchChange(e),this.refreshOptions(),this.trigger("type",e))},onSearchChange:function(value){var self=this,fn=self.settings.load;fn&&!self.loadedSearches.hasOwnProperty(value)&&(self.loadedSearches[value]=!0,self.load(function(callback){fn.apply(self,[value,callback])}))},onFocus:function(e){if(this.isFocused=!0,this.isDisabled)return this.blur(),e&&e.preventDefault(),!1;this.ignoreFocus||("focus"===this.settings.preload&&this.onSearchChange(""),this.$activeItems.length||(this.showInput(),this.setActiveItem(null),this.refreshOptions(!!this.settings.openOnFocus)),this.refreshState())},onBlur:function(e){if(this.isFocused=!1,!this.ignoreFocus){if(!this.ignoreBlur&&document.activeElement===this.$dropdown_content[0])return this.ignoreBlur=!0,void this.onFocus(e);this.settings.create&&this.settings.createOnBlur&&this.createItem(!1),this.close(),this.setTextboxValue(""),this.setActiveItem(null),this.setActiveOption(null),this.setCaret(this.items.length),this.refreshState()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(e){var $target;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),($target=$(e.currentTarget)).hasClass("create")?this.createItem():void 0!==($target=$target.attr("data-value"))&&(this.lastQuery=null,this.setTextboxValue(""),this.addItem($target),!this.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&this.setActiveOption(this.getOption($target)))},onItemSelect:function(e){this.isLocked||"multi"===this.settings.mode&&(e.preventDefault(),this.setActiveItem(e.currentTarget,e))},load:function(fn){var self=this,$wrapper=self.$wrapper.addClass("loading");self.loading++,fn.apply(self,[function(results){self.loading=Math.max(self.loading-1,0),results&&results.length&&(self.addOption(results),self.refreshOptions(self.isFocused&&!self.isInputHidden)),self.loading||$wrapper.removeClass("loading"),self.trigger("load",results)}])},setTextboxValue:function(value){var $input=this.$control_input;$input.val()!==value&&($input.val(value).triggerHandler("update"),this.lastValue=value)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(value){debounce_events(this,["change"],function(){this.clear(),this.addItems(value)})},setActiveItem:function($item,e){var eventName,i,end,item,swap,$last;if("single"!==this.settings.mode){if(!($item=$($item)).length)return $(this.$activeItems).removeClass("active"),this.$activeItems=[],void(this.isFocused&&this.showInput());if("mousedown"===(eventName=e&&e.type.toLowerCase())&&this.isShiftDown&&this.$activeItems.length){for($last=this.$control.children(".active:last"),$last=Array.prototype.indexOf.apply(this.$control[0].childNodes,[$last[0]]),(end=Array.prototype.indexOf.apply(this.$control[0].childNodes,[$item[0]]))<$last&&(swap=$last,$last=end,end=swap),i=$last;i<=end;i++)item=this.$control[0].childNodes[i],-1===this.$activeItems.indexOf(item)&&($(item).addClass("active"),this.$activeItems.push(item));e.preventDefault()}else"mousedown"===eventName&&this.isCtrlDown||"keydown"===eventName&&this.isShiftDown?$item.hasClass("active")?(swap=this.$activeItems.indexOf($item[0]),this.$activeItems.splice(swap,1),$item.removeClass("active")):this.$activeItems.push($item.addClass("active")[0]):($(this.$activeItems).removeClass("active"),this.$activeItems=[$item.addClass("active")[0]]);this.hideInput(),this.isFocused||this.focus()}},setActiveOption:function($option,scroll,animate){var height_item,y,scroll_top,scroll_bottom;this.$activeOption&&this.$activeOption.removeClass("active"),this.$activeOption=null,($option=$($option)).length&&(this.$activeOption=$option.addClass("active"),!scroll&&isset(scroll)||($option=this.$dropdown_content.height(),height_item=this.$activeOption.outerHeight(!0),scroll=this.$dropdown_content.scrollTop()||0,scroll_bottom=(scroll_top=y=this.$activeOption.offset().top-this.$dropdown_content.offset().top+scroll)-$option+height_item,$option+scroll<y+height_item?this.$dropdown_content.stop().animate({scrollTop:scroll_bottom},animate?this.settings.scrollDuration:0):y<scroll&&this.$dropdown_content.stop().animate({scrollTop:scroll_top},animate?this.settings.scrollDuration:0)))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var self=this;self.isDisabled||(self.ignoreFocus=!0,self.$control_input[0].focus(),window.setTimeout(function(){self.ignoreFocus=!1,self.onFocus()},0))},blur:function(){this.$control_input.trigger("blur")},getScoreFunction:function(query){return this.sifter.getScoreFunction(query,this.getSearchOptions())},getSearchOptions:function(){var settings=this.settings,sort=settings.sortField;return{fields:settings.searchField,conjunction:settings.searchConjunction,sort:sort="string"==typeof sort?{field:sort}:sort}},search:function(query){var i,result,calculateScore,settings=this.settings,options=this.getSearchOptions();if(settings.score&&"function"!=typeof(calculateScore=this.settings.score.apply(this,[query])))throw new Error('Selectize "score" setting must be a function that returns a function');if(query!==this.lastQuery?(this.lastQuery=query,result=this.sifter.search(query,$.extend(options,{score:calculateScore})),this.currentResults=result):result=$.extend(!0,{},this.currentResults),settings.hideSelected)for(i=result.items.length-1;0<=i;i--)-1!==this.items.indexOf(hash_key(result.items[i].id))&&result.items.splice(i,1);return result},refreshOptions:function(triggerDropdown){void 0===triggerDropdown&&(triggerDropdown=!0);var i,j,k,groups,groups_order,option,option_html,optgroup,optgroups,html,html_children,has_create_option,$active,$create,query=$.trim(this.$control_input.val()),results=this.search(query),$dropdown_content=this.$dropdown_content,active_before=this.$activeOption&&hash_key(this.$activeOption.attr("data-value")),n=results.items.length;if("number"==typeof this.settings.maxOptions&&(n=Math.min(n,this.settings.maxOptions)),groups={},this.settings.optgroupOrder)for(groups_order=this.settings.optgroupOrder,i=0;i<groups_order.length;i++)groups[groups_order[i]]=[];else groups_order=[];for(i=0;i<n;i++)for(option=this.options[results.items[i].id],option_html=this.render("option",option),optgroup=option[this.settings.optgroupField]||"",j=0,k=(optgroups=$.isArray(optgroup)?optgroup:[optgroup])&&optgroups.length;j<k;j++)optgroup=optgroups[j],this.optgroups.hasOwnProperty(optgroup)||(optgroup=""),groups.hasOwnProperty(optgroup)||(groups[optgroup]=[],groups_order.push(optgroup)),groups[optgroup].push(option_html);for(html=[],i=0,n=groups_order.length;i<n;i++)optgroup=groups_order[i],this.optgroups.hasOwnProperty(optgroup)&&groups[optgroup].length?(html_children=this.render("optgroup_header",this.optgroups[optgroup])||"",html_children+=groups[optgroup].join(""),html.push(this.render("optgroup",$.extend({},this.optgroups[optgroup],{html:html_children})))):html.push(groups[optgroup].join(""));if($dropdown_content.html(html.join("")),this.settings.highlight&&results.query.length&&results.tokens.length)for(i=0,n=results.tokens.length;i<n;i++)!function($element,pattern){var regex,highlight;if("string"!=typeof pattern||pattern.length)regex="string"==typeof pattern?new RegExp(pattern,"i"):pattern,highlight=function highlight(node){var skip=0;if(3===node.nodeType){var spannode,match,pos=node.data.search(regex);0<=pos&&0<node.data.length&&(match=node.data.match(regex),(spannode=document.createElement("span")).className="highlight",(pos=node.splitText(pos)).splitText(match[0].length),match=pos.cloneNode(!0),spannode.appendChild(match),pos.parentNode.replaceChild(spannode,pos),skip=1)}else if(1===node.nodeType&&node.childNodes&&!/(script|style)/i.test(node.tagName))for(var i=0;i<node.childNodes.length;++i)i+=highlight(node.childNodes[i]);return skip},$element.each(function(){highlight(this)})}($dropdown_content,results.tokens[i].regex);if(!this.settings.hideSelected)for(i=0,n=this.items.length;i<n;i++)this.getOption(this.items[i]).addClass("selected");(has_create_option=this.canCreate(query))&&($dropdown_content.prepend(this.render("option_create",{input:query})),$create=$($dropdown_content[0].childNodes[0])),this.hasOptions=0<results.items.length||has_create_option,this.hasOptions?(0<results.items.length?((query=active_before&&this.getOption(active_before))&&query.length?$active=query:"single"===this.settings.mode&&this.items.length&&($active=this.getOption(this.items[0])),$active&&$active.length||($active=$create&&!this.settings.addPrecedence?this.getAdjacentOption($create,1):$dropdown_content.find("[data-selectable]:first"))):$active=$create,this.setActiveOption($active),triggerDropdown&&!this.isOpen&&this.open()):(this.setActiveOption(null),triggerDropdown&&this.isOpen&&this.close())},addOption:function(data){var i,n,value;if($.isArray(data))for(i=0,n=data.length;i<n;i++)this.addOption(data[i]);else"string"!=typeof(value=hash_key(data[this.settings.valueField]))||this.options.hasOwnProperty(value)||(this.userOptions[value]=!0,this.options[value]=data,this.lastQuery=null,this.trigger("option_add",value,data))},addOptionGroup:function(id,data){this.optgroups[id]=data,this.trigger("optgroup_add",id,data)},updateOption:function(value,data){var value_new,index_item,cache_options;if(value=hash_key(value),value_new=hash_key(data[this.settings.valueField]),null!==value&&this.options.hasOwnProperty(value)){if("string"!=typeof value_new)throw new Error("Value must be set in option data");value_new!==value&&(delete this.options[value],-1!==(index_item=this.items.indexOf(value))&&this.items.splice(index_item,1,value_new)),this.options[value_new]=data,index_item=this.renderCache.item,cache_options=this.renderCache.option,index_item&&(delete index_item[value],delete index_item[value_new]),cache_options&&(delete cache_options[value],delete cache_options[value_new]),-1!==this.items.indexOf(value_new)&&(index_item=this.getItem(value),cache_options=$(this.render("item",data)),index_item.hasClass("active")&&cache_options.addClass("active"),index_item.replaceWith(cache_options)),this.lastQuery=null,this.isOpen&&this.refreshOptions(!1)}},removeOption:function(value){value=hash_key(value);var cache_items=this.renderCache.item,cache_options=this.renderCache.option;cache_items&&delete cache_items[value],cache_options&&delete cache_options[value],delete this.userOptions[value],delete this.options[value],this.lastQuery=null,this.trigger("option_remove",value),this.removeItem(value)},clearOptions:function(){this.loadedSearches={},this.userOptions={},this.renderCache={},this.options=this.sifter.items={},this.lastQuery=null,this.trigger("option_clear"),this.clear()},getOption:function(value){return this.getElementWithValue(value,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function($option,direction){var $options=this.$dropdown.find("[data-selectable]"),$option=$options.index($option)+direction;return 0<=$option&&$option<$options.length?$options.eq($option):$()},getElementWithValue:function(value,$els){if(null!=(value=hash_key(value)))for(var i=0,n=$els.length;i<n;i++)if($els[i].getAttribute("data-value")===value)return $($els[i]);return $()},getItem:function(value){return this.getElementWithValue(value,this.$control.children())},addItems:function(values){for(var items=$.isArray(values)?values:[values],i=0,n=items.length;i<n;i++)this.isPending=i<n-1,this.addItem(items[i])},addItem:function(value){debounce_events(this,["change"],function(){var $item,$option,wasFull,inputMode=this.settings.mode;value=hash_key(value),-1!==this.items.indexOf(value)?"single"===inputMode&&this.close():this.options.hasOwnProperty(value)&&("single"===inputMode&&this.clear(),"multi"===inputMode&&this.isFull()||($item=$(this.render("item",this.options[value])),wasFull=this.isFull(),this.items.splice(this.caretPos,0,value),this.insertAtCaret($item),this.isPending&&(wasFull||!this.isFull())||this.refreshState(),this.isSetup&&(wasFull=this.$dropdown_content.find("[data-selectable]"),this.isPending||($option=this.getOption(value),$option=this.getAdjacentOption($option,1).attr("data-value"),this.refreshOptions(this.isFocused&&"single"!==inputMode),$option&&this.setActiveOption(this.getOption($option))),!wasFull.length||this.isFull()?this.close():this.positionDropdown(),this.updatePlaceholder(),this.trigger("item_add",value,$item),this.updateOriginalInput())))})},removeItem:function(value){var i,$item="object"===(void 0===value?"undefined":_typeof(value))?value:this.getItem(value);value=hash_key($item.attr("data-value")),-1!==(i=this.items.indexOf(value))&&($item.remove(),$item.hasClass("active")&&($item=this.$activeItems.indexOf($item[0]),this.$activeItems.splice($item,1)),this.items.splice(i,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(value)&&this.removeOption(value),i<this.caretPos&&this.setCaret(this.caretPos-1),this.refreshState(),this.updatePlaceholder(),this.updateOriginalInput(),this.positionDropdown(),this.trigger("item_remove",value))},createItem:function(triggerDropdown){var self=this,input=$.trim(self.$control_input.val()||""),caret=self.caretPos;if(!self.canCreate(input))return!1;self.lock(),void 0===triggerDropdown&&(triggerDropdown=!0);var fn,called,setup="function"==typeof self.settings.create?this.settings.create:function(input){var data={};return data[self.settings.labelField]=input,data[self.settings.valueField]=input,data},create=(called=!(fn=function(data){var value;self.unlock(),!data||"object"!==(void 0===data?"undefined":_typeof(data))||"string"==typeof(value=hash_key(data[self.settings.valueField]))&&(self.setTextboxValue(""),self.addOption(data),self.setCaret(caret),self.addItem(value),self.refreshOptions(triggerDropdown&&"single"!==self.settings.mode))}),function(){called||(called=!0,fn.apply(this,arguments))}),setup=setup.apply(this,[input,create]);return void 0!==setup&&create(setup),!0},refreshItems:function(){if(this.lastQuery=null,this.isSetup)for(var i=0;i<this.items.length;i++)this.addItem(this.items);this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.isRequired&&(this.items.length&&(this.isInvalid=!1),this.$control_input.prop("required",void 0)),this.refreshClasses()},refreshClasses:function(){var isFull=this.isFull(),isLocked=this.isLocked;this.$wrapper.toggleClass("rtl",this.rtl),this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",isLocked).toggleClass("full",isFull).toggleClass("not-full",!isFull).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",this.isOpen).toggleClass("has-options",!$.isEmptyObject(this.options)).toggleClass("has-items",0<this.items.length),this.$control_input.data("grow",!isFull&&!isLocked)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(){var i,n,options;if(1===this.tagType){for(options=[],i=0,n=this.items.length;i<n;i++)options.push('<option value="'+escape_html(this.items[i])+'" selected="selected"></option>');options.length||this.$input.attr("multiple")||options.push('<option value="" selected="selected"></option>'),this.$input.html(options.join(""))}else this.$input.val(this.getValue()),this.$input.attr("value",this.$input.val());this.isSetup&&this.trigger("change",this.$input.val())},updatePlaceholder:function(){var $input;this.settings.placeholder&&($input=this.$control_input,this.items.length?$input.removeAttr("placeholder"):$input.attr("placeholder",this.settings.placeholder),$input.triggerHandler("update",{force:!0}))},open:function(){this.isLocked||this.isOpen||"multi"===this.settings.mode&&this.isFull()||(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}),this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown))},close:function(){var trigger=this.isOpen;"single"===this.settings.mode&&this.items.length&&this.hideInput(),this.isOpen=!1,this.$dropdown.hide(),this.setActiveOption(null),this.refreshState(),trigger&&this.trigger("dropdown_close",this.$dropdown)},positionDropdown:function(){var $control=this.$control,offset="body"===this.settings.dropdownParent?$control.offset():$control.position();offset.top+=$control.outerHeight(!0),this.$dropdown.css({width:$control.outerWidth(),top:offset.top,left:offset.left})},clear:function(){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput(),this.refreshState(),this.showInput(),this.trigger("clear"))},insertAtCaret:function($el){var caret=Math.min(this.caretPos,this.items.length);0===caret?this.$control.prepend($el):$(this.$control[0].childNodes[caret]).before($el),this.setCaret(caret+1)},deleteSelection:function(e){var i,n,values,option_select,$tail,direction=e&&8===e.keyCode?-1:1,selection=getSelection(this.$control_input[0]);if(this.$activeOption&&!this.settings.hideSelected&&(option_select=this.getAdjacentOption(this.$activeOption,-1).attr("data-value")),values=[],this.$activeItems.length){for($tail=this.$control.children(".active:"+(0<direction?"last":"first")),$tail=this.$control.children(":not(input)").index($tail),0<direction&&$tail++,i=0,n=this.$activeItems.length;i<n;i++)values.push($(this.$activeItems[i]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&&this.items.length&&(direction<0&&0===selection.start&&0===selection.length?values.push(this.items[this.caretPos-1]):0<direction&&selection.start===this.$control_input.val().length&&values.push(this.items[this.caretPos]));if(!values.length||"function"==typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[values]))return!1;for(void 0!==$tail&&this.setCaret($tail);values.length;)this.removeItem(values.pop());return this.showInput(),this.positionDropdown(),this.refreshOptions(!0),option_select&&(e=this.getOption(option_select)).length&&this.setActiveOption(e),!0},advanceSelection:function(direction,e){var tail,valueLength,selection;0!==direction&&(this.rtl&&(direction*=-1),tail=0<direction?"last":"first",selection=getSelection(this.$control_input[0]),this.isFocused&&!this.isInputHidden?(valueLength=this.$control_input.val().length,(direction<0?0!==selection.start||0!==selection.length:selection.start!==valueLength)||valueLength||this.advanceCaret(direction,e)):(selection=this.$control.children(".active:"+tail)).length&&(valueLength=this.$control.children(":not(input)").index(selection),this.setActiveItem(null),this.setCaret(0<direction?valueLength+1:valueLength)))},advanceCaret:function(direction,e){var $adj;0!==direction&&(this.isShiftDown?($adj=this.$control_input[0<direction?"next":"prev"]()).length&&(this.hideInput(),this.setActiveItem($adj),e&&e.preventDefault()):this.setCaret(this.caretPos+direction))},setCaret:function(i){if(i="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,i)),!this.isPending)for(var $child,$children=this.$control.children(":not(input)"),j=0,n=$children.length;j<n;j++)$child=$($children[j]).detach(),j<i?this.$control_input.before($child):this.$control.append($child);this.caretPos=i},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.isDisabled=!0,this.lock()},enable:function(){this.$input.prop("disabled",!1),this.isDisabled=!1,this.unlock()},destroy:function(){var eventNS=this.eventNS,revertSettings=this.revertSettings;this.trigger("destroy"),this.off(),this.$wrapper.remove(),this.$dropdown.remove(),this.$input.html("").append(revertSettings.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:revertSettings.tabindex}).show(),this.$control_input.removeData("grow"),this.$input.removeData("selectize"),$(window).off(eventNS),$(document).off(eventNS),$(document.body).off(eventNS),delete this.$input[0].selectize},render:function(templateName,data){var value,html="",cache=!1,regex_tag=/^[\t ]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return(cache="option"!==templateName&&"item"!==templateName?cache:!!(value=hash_key(data[this.settings.valueField])))&&(isset(this.renderCache[templateName])||(this.renderCache[templateName]={}),this.renderCache[templateName].hasOwnProperty(value))?this.renderCache[templateName][value]:(html=this.settings.render[templateName].apply(this,[data,escape_html]),"option"!==templateName&&"option_create"!==templateName||(html=html.replace(regex_tag,"<$1 data-selectable")),"optgroup"===templateName&&(data=data[this.settings.optgroupValueField]||"",html=html.replace(regex_tag,'<$1 data-group="'+escape_replace(escape_html(data))+'"')),"option"!==templateName&&"item"!==templateName||(html=html.replace(regex_tag,'<$1 data-value="'+escape_replace(escape_html(value||""))+'"')),cache&&(this.renderCache[templateName][value]=html),html)},clearCache:function(templateName){void 0===templateName?this.renderCache={}:delete this.renderCache[templateName]},canCreate:function(input){if(!this.settings.create)return!1;var filter=this.settings.createFilter;return input.length&&("function"!=typeof filter||filter.apply(this,[input]))&&("string"!=typeof filter||new RegExp(filter).test(input))&&(!(filter instanceof RegExp)||filter.test(input))}}),Selectize.count=0,Selectize.defaults={plugins:[],delimiter:",",persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,scrollDuration:60,loadThrottle:300,dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",optgroupOrder:null,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},$.fn.selectize=function(settings_user){function init_select($input,settings_element){function addOption($option,group){var value,option;((value=($option=$($option)).attr("value")||"").length||settings.allowEmptyOption)&&(options.hasOwnProperty(value)?group&&(options[value].optgroup?$.isArray(options[value].optgroup)?options[value].optgroup.push(group):options[value].optgroup=[options[value].optgroup,group]:options[value].optgroup=group):((option=readData($option)||{})[field_label]=option[field_label]||$option.text(),option[field_value]=option[field_value]||value,option[field_optgroup]=option[field_optgroup]||group,option.$order=++order,options[value]=option,$option.is(":selected")&&settings_element.items.push(value)))}var i,n,tagName,$children,order=0,options=settings_element.options,readData=function($el){$el=attr_data&&$el.attr(attr_data);return"string"==typeof $el&&$el.length?JSON.parse($el):null};for(settings_element.maxItems=$input.attr("multiple")?null:1,i=0,n=($children=$input.children()).length;i<n;i++)"optgroup"===(tagName=$children[i].tagName.toLowerCase())?function($optgroup){var i,n,id,optgroup,$options;for((id=($optgroup=$($optgroup)).attr("label"))&&((optgroup=readData($optgroup)||{})[field_optgroup_label]=id,optgroup[field_optgroup_value]=id,settings_element.optgroups[id]=optgroup),i=0,n=($options=$("option",$optgroup)).length;i<n;i++)addOption($options[i],id)}($children[i]):"option"===tagName&&addOption($children[i])}var defaults=$.fn.selectize.defaults,settings=$.extend({},defaults,settings_user),attr_data=settings.dataAttr,field_label=settings.labelField,field_value=settings.valueField,field_optgroup=settings.optgroupField,field_optgroup_label=settings.optgroupLabelField,field_optgroup_value=settings.optgroupValueField;return this.each(function(){var $input,tag_name,placeholder;this.selectize||($input=$(this),tag_name=this.tagName.toLowerCase(),placeholder={placeholder:placeholder=(placeholder=$input.attr("placeholder")||$input.attr("data-placeholder"))||settings.allowEmptyOption?placeholder:$input.children('option[value=""]').text(),options:{},optgroups:{},items:[]},("select"===tag_name?init_select:function($input,settings_element){var i,n,values,option,$input=$.trim($input.val()||"");if(settings.allowEmptyOption||$input.length){for(i=0,n=(values=$input.split(settings.delimiter)).length;i<n;i++)(option={})[field_label]=values[i],option[field_value]=values[i],settings_element.options[values[i]]=option;settings_element.items=values}})($input,placeholder),new Selectize($input,$.extend(!0,{},defaults,placeholder,settings_user)))})},$.fn.selectize.defaults=Selectize.defaults,Selectize.define("drag_drop",function(options){if(!$.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');var self,original;"multi"===this.settings.mode&&((self=this).lock=(original=self.lock,function(){var sortable=self.$control.data("sortable");return sortable&&sortable.disable(),original.apply(self,arguments)}),self.unlock=function(){var original=self.unlock;return function(){var sortable=self.$control.data("sortable");return sortable&&sortable.enable(),original.apply(self,arguments)}}(),self.setup=function(){var original=self.setup;return function(){original.apply(this,arguments);var $control=self.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:self.isLocked,start:function(e,ui){ui.placeholder.css("width",ui.helper.css("width")),$control.css({overflow:"visible"})},stop:function(){$control.css({overflow:"hidden"});var active=self.$activeItems?self.$activeItems.slice():null,values=[];$control.children("[data-value]").each(function(){values.push($(this).attr("data-value"))}),self.setValue(values),self.setActiveItem(active)}})}}())}),Selectize.define("dropdown_header",function(options){var original,self=this;options=$.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(data){return'<div class="'+data.headerClass+'"><div class="'+data.titleRowClass+'"><span class="'+data.labelClass+'">'+data.title+'</span><a href="javascript:void(0)" class="'+data.closeClass+'">&times;</a></div></div>'}},options),self.setup=(original=self.setup,function(){original.apply(self,arguments),self.$dropdown_header=$(options.html(options)),self.$dropdown.prepend(self.$dropdown_header)})}),Selectize.define("optgroup_columns",function(options){function equalizeSizes(){var i,height_max,width,width_parent,$optgroups=$("[data-group]",self.$dropdown_content),n=$optgroups.length;if(n&&self.$dropdown_content.width()){if(options.equalizeHeight){for(i=height_max=0;i<n;i++)height_max=Math.max(height_max,$optgroups.eq(i).height());$optgroups.css({height:height_max})}options.equalizeWidth&&(width_parent=self.$dropdown_content.innerWidth()-getScrollbarWidth(),width=Math.round(width_parent/n),$optgroups.css({width:width}),1<n&&(width_parent=width_parent-width*(n-1),$optgroups.eq(n-1).css({width:width_parent})))}}var original,self=this,getScrollbarWidth=(options=$.extend({equalizeWidth:!0,equalizeHeight:!0},options),this.getAdjacentOption=function($option,direction){var $options=$option.closest("[data-group]").find("[data-selectable]"),$option=$options.index($option)+direction;return 0<=$option&&$option<$options.length?$options.eq($option):$()},this.onKeyDown=(original=self.onKeyDown,function(e){var index,$optgroup;if(!this.isOpen||37!==e.keyCode&&39!==e.keyCode)return original.apply(this,arguments);self.ignoreHover=!0,index=($optgroup=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),($optgroup=(e=($optgroup=37===e.keyCode?$optgroup.prev("[data-group]"):$optgroup.next("[data-group]")).find("[data-selectable]")).eq(Math.min(e.length-1,index))).length&&this.setActiveOption($optgroup)}),function getScrollbarWidth(){var div,width=getScrollbarWidth.width,doc=document;return void 0===width&&((div=doc.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',div=div.firstChild,doc.body.appendChild(div),width=getScrollbarWidth.width=div.offsetWidth-div.clientWidth,doc.body.removeChild(div)),width});(options.equalizeHeight||options.equalizeWidth)&&(hook.after(this,"positionDropdown",equalizeSizes),hook.after(this,"refreshOptions",equalizeSizes))}),Selectize.define("remove_button",function(options){var self,html,original;"single"!==this.settings.mode&&(options=$.extend({label:"&times;",title:"Remove",className:"remove",append:!0},options),self=this,html='<a href="javascript:void(0)" class="'+options.className+'" tabindex="-1" title="'+escape_html(options.title)+'">'+options.label+"</a>",this.setup=(original=self.setup,function(){var render_item;options.append&&(render_item=self.settings.render.item,self.settings.render.item=function(data){return html_container=render_item.apply(this,arguments),html_element=html,pos=html_container.search(/(<\/[^>]+>\s*)$/),html_container.substring(0,pos)+html_element+html_container.substring(pos);var html_container,html_element,pos}),original.apply(this,arguments),this.$control.on("click","."+options.className,function(e){e.preventDefault(),self.isLocked||(e=$(e.currentTarget).parent(),self.setActiveItem(e),self.deleteSelection()&&self.setCaret(self.items.length))})}))}),Selectize.define("restore_on_backspace",function(options){var original,self=this;options.text=options.text||function(option){return option[this.settings.labelField]},this.onKeyDown=(original=self.onKeyDown,function(e){var index;return 8===e.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&0<=(index=this.caretPos-1)&&index<this.items.length?(index=this.options[this.items[index]],this.deleteSelection(e)&&(this.setTextboxValue(options.text.apply(this,[index])),this.refreshOptions(!0)),void e.preventDefault()):original.apply(this,arguments)})}),Selectize}),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}),GeckoUI=(angular.module("selectize",[]).value("selectizeConfig",{}).directive("selectize",["selectizeConfig",function(selectizeConfig){return{restrict:"EA",require:"^ngModel",scope:{ngModel:"=",config:"=?",options:"=?",ngDisabled:"=",ngRequired:"&"},link:function(scope,element,attrs,modelCtrl){modelCtrl.$formatters.push(function(value){if(value instanceof Array)return value.map(function(item){return String(item)})}),Selectize.defaults.maxItems=null;var selectize,config=angular.extend({},Selectize.defaults,selectizeConfig,scope.config);function toggle(disabled){disabled?selectize.disable():selectize.enable()}modelCtrl.$isEmpty=function(val){return null==val||!val.length};function generateOptions(data){return data?(data=angular.isArray(data)?data:[data],$.map(data,function(opt){return"object"!==(void 0===opt?"undefined":_typeof(opt))?(input=opt,(data={})[config.labelField]=input,data[config.valueField]=input,data):opt;var input,data})):[]}function updateSelectize(){var isInvalid;isInvalid=(scope.ngRequired()||attrs.required||config.required)&&modelCtrl.$isEmpty(modelCtrl.$viewValue),modelCtrl.$setValidity("required",!isInvalid),selectize.$control.toggleClass("ng-valid",modelCtrl.$valid),selectize.$control.toggleClass("ng-invalid",modelCtrl.$invalid),selectize.$control.toggleClass("ng-dirty",modelCtrl.$dirty),selectize.$control.toggleClass("ng-pristine",modelCtrl.$pristine),angular.equals(selectize.items,modelCtrl.$viewValue)||(selectize.addOption(generateOptions(modelCtrl.$viewValue)),selectize.setValue(modelCtrl.$viewValue))}config.onChange=function(){angular.equals(selectize.items,modelCtrl.$viewValue)||scope.$evalAsync(function(){var value=angular.copy(selectize.items);1==config.maxItems&&(value=value[0]),modelCtrl.$setViewValue(value)})},config.onOptionAdd=function(value,data){-1===scope.options.indexOf(data)&&scope.options.push(data)},scope.options=generateOptions(angular.copy(scope.options||config.options||scope.ngModel)),scope.optgroups=function(data){if(!data)return[];var groups={};return data.forEach(function(value){value[config.optgroupField]&&(groups[value[config.optgroupField]]=!0)}),$.map(Object.keys(groups),function(group){return"string"==typeof group?(input=group,(data={})[config.optgroupLabelField]=input,data[config.optgroupValueField]=input,data):group;var input,data})}(scope.options);var angularCallback=config.onInitialize;config.onInitialize=function(){(selectize=element[0].selectize).addOption(scope.options),scope.optgroups.forEach(function(group){selectize.addOptionGroup(group[config.optgroupValueField],group)}),angularCallback&&angularCallback(selectize),modelCtrl.$render=function(){selectize.setValue(modelCtrl.$viewValue)},scope.$watchCollection("options",selectize.addOption.bind(selectize)),modelCtrl.$viewChangeListeners.push(updateSelectize),scope.$watch("ngDisabled",toggle)},element.selectize(config),element.on("$destroy",function(){selectize&&(selectize.destroy(),element=null)})}}}]),$(document).ready(function(){Selectize.define("no_results",function(t){var e,s=this;t=$.extend({message:"No results found.",html:function(t){return'<div class="selectize-dropdown '+t.classNames+'"><div class="selectize-dropdown-content"><div class="no-results">'+t.message+"</div></div></div>"}},t),s.displayEmptyResultsMessage=function(){this.$empty_results_container.css("top",this.$control.outerHeight()),this.$empty_results_container.css("width",this.$control.outerWidth()),this.$empty_results_container.show(),this.$control.addClass("dropdown-active")},s.refreshOptions=(e=s.refreshOptions,function(){e.apply(s,arguments),this.hasOptions||!this.lastQuery?this.$empty_results_container.hide():this.displayEmptyResultsMessage()}),s.onKeyDown=function(){var t=s.onKeyDown;return function(e){t.apply(s,arguments),27===e.keyCode&&this.$empty_results_container.hide()}}(),s.onBlur=function(){var t=s.onBlur;return function(){t.apply(s,arguments),this.$empty_results_container.hide(),this.$control.removeClass("dropdown-active")}}(),s.setup=function(){var e=s.setup;return function(){e.apply(s,arguments),s.$empty_results_container=$(t.html($.extend({classNames:s.$input.attr("class")},t))),s.$empty_results_container.insertBefore(s.$dropdown),s.$empty_results_container.hide()}}()}),Selectize.define("accessibility",function(e){var i,t=this;void 0===this.accessibility&&(this.accessibility={}),this.accessibility.helpers={randomId:function(e){var i="",t={base62:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",base36:"abcdefghijklmnopqrstuvwxyz0123456789",base10:"0123456789"};(e=e||{}).length=e.length||10,e.strBase=t[e.base]||t.base36,e.baseLength=e.strBase.length;for(var s=0;s<e.length;s++)i+=e.strBase[Math.floor(e.baseLength*Math.random())];return i}},this.accessibility.liveRegion={$region:"",announce:function(e,i){e=$("<div>"+e+"</div>");t.accessibility.liveRegion.$region.append(e),setTimeout(function(){t.accessibility.liveRegion.$region.empty()},i||3e3)},setAttributes:function(){t.accessibility.liveRegion.$region.attr({"aria-live":"assertive",role:"log","aria-relevant":"additions","aria-atomic":"false"})},setStyle:function(){t.accessibility.liveRegion.$region.css({position:"absolute",width:"1px",height:"1px","margin-top":"-1px",clip:"rect(1px, 1px, 1px, 1px)",overflow:"hidden"})},eventsHandler:function(){new MutationObserver(function(e){e.forEach(function(e){var i=$(e.target);i.hasClass("active")&&t.accessibility.liveRegion.announce(i.text(),500),i.hasClass("selected")&&!e.oldValue.match("selected")&&(t.$dropdown_content.find("[aria-selected]").attr("aria-selected","false"),setTimeout(function(){i.attr("aria-selected",!0)},0))})}).observe(t.$dropdown[0],{attributeFilter:["class"],subtree:!0,attributeOldValue:!0})},init:function(e){t.accessibility.liveRegion.$region=$("<div>"),t.accessibility.liveRegion.setAttributes(),t.accessibility.liveRegion.setStyle(),t.accessibility.liveRegion.eventsHandler(),$("body").append(t.accessibility.liveRegion.$region)}},this.setup=(i=t.setup,function(){i.apply(this,arguments);var e=t.accessibility.helpers.randomId();t.$control_input.attr({role:"combobox","aria-owns":e,"aria-autocomplete":"list","aria-expanded":"false"}),t.$dropdown_content.attr({role:"listbox",id:e}),t.accessibility.liveRegion.init()})}),Selectize.define("accessibility-2",function(options){var original,self=this;void 0===self.accessibility&&(self.accessibility={}),self.accessibility.helpers={randomId:function(len){for(var str="",strLength=len||10,base="abcdefghijklmnopqrstuvwxyz0123456789",baseLength=base.length,i=0;i<strLength;i++)str+=base[Math.floor(baseLength*Math.random())];return str}},self.accessibility.listeners=function(){var observer=new MutationObserver(function(mutations){mutations.forEach(function(mutation){var options,activeOption,activeDescendant,mutation=$(mutation.target);mutation.hasClass("items")?mutation.hasClass("dropdown-active")?(self.$wrapper.attr("aria-expanded",!0),options=self.$dropdown_content.find("> div"),(activeOption=self.$dropdown_content.find("> div.active")).length?activeDescendant=activeOption:options.length&&(activeDescendant=options.first()),activeDescendant&&self.$control_input.attr({"aria-activedescendant":activeDescendant.attr("id")})):(self.$wrapper.attr("aria-expanded",!1),self.$control_input.removeAttr("aria-activedescendant"),self.getValue()||self.$dropdown_content.find("> div").removeAttr("aria-selected")):mutation.hasClass("active")&&mutation.attr("data-value")&&(self.$control_input.attr({"aria-activedescendant":mutation.attr("id")}),self.$dropdown_content.find("> div").removeAttr("aria-selected"),mutation.attr("aria-selected",!0))})});observer.observe(self.$dropdown[0],{attributes:!0,attributeFilter:["class"],subtree:!0,attributeOldValue:!0}),observer.observe(self.$control[0],{attributes:!0,attributeFilter:["class"]}),observer.observe(self.$control_input[0],{attributes:!0,attributeFilter:["value"]})},this.setup=(original=self.setup,function(){original.apply(this,arguments);var inputId=self.accessibility.helpers.randomId(),listboxId=self.accessibility.helpers.randomId();self.$control.on("keydown",function(e){13===e.keyCode&&$(this).click()}),self.$wrapper.attr({role:"combobox","aria-haspopup":"listbox","aria-expanded":!1,"aria-owns":listboxId}),setTimeout(function(){var labelledby=self.$wrapper.prev("selectize").attr("aria-labelledby");labelledby&&(self.$wrapper.attr("aria-labelledby",labelledby),self.$control_input.attr("aria-labelledby",labelledby),self.$dropdown_content.attr("aria-labelledby",labelledby))}),self.$control_input.attr({id:inputId,role:"searchbox","aria-controls":listboxId,"aria-autocomplete":"both"}),self.$dropdown_content.attr({role:"listbox",id:listboxId}),self.accessibility.listeners()}),this.destroy=function(){var original=self.destroy;return function(){return original.apply(this,arguments)}}()})}),angular.module("GeckoEngageTemplatesPublic",[]).run(["$templateCache",function($templateCache){$templateCache.put("/public/views/default.a4b2b8c6.html",'<div class="alert alert-danger" style="margin-left: 40px; margin-right: 40px;" ng-show="form_errors">\n    <p>\n        <strong>Sorry, there was a problem loading this form:</strong>\n    </p>\n    <br />\n    <ul>\n        <li ng-repeat="error in form_errors track by $index">{{error}}</li>\n    </ul>\n</div>\n\n<link href="/css/iframe.9b9bf8fe.css" rel="stylesheet" type="text/css" />\n'),$templateCache.put("/public/views/form.587b4a93.html",'<div ng-show="form">\n    <div role="main" class="row">\n        <div class="col-md-offset-2 col-md-8 public-form-holder">\n            <img ng-show="form.logo" ng-src="{{form.logo}}" style="max-width: 100%;" />\n            <hr ng-show="form.logo" />\n            <h2 class="page-title">{{form.name}}</h2>\n            <p class="form-description" gecko-bind-html="form.description | linkify"></p>\n\n            <hr />\n\n            <div gecko-form />\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-md-offset-2 col-md-8 public-form-footer" ng-style="{\'background-color\': form.related_account.color}">\n            <img ng-src="{{form.related_account.logo || \'/images/geckoform_logo.404b1eb1.svg\' }}" height="30" />\n            <span class="pull-right powered_by">{{ __(STR_KEY.MISC.POWERED_BY) }} <a href="https://geckoengage.com?utm_source=Gecko_Demo&utm_medium=customer_form_link&utm_campaign=powered_by_geckoengage">Gecko</a></span>\n        </div>\n    </div>\n</div>\n<div class="loader-loader" ng-if="!form"></div>\n\n<div class="alert alert-danger col-md-offset-2 col-md-8" ng-show="form_errors">\n    <p>\n        <strong>Sorry, there was a problem loading this form:</strong>\n    </p>\n    <br />\n    <ul>\n        <li ng-repeat="error in form_errors track by $index">{{error}}</li>\n    </ul>\n</div>\n\n<div class="loadingIndicator" ng-show="!hideLoadingIndicator">\n    <div class="loader"></div>\n    <h4>{{ __(STR_KEY.ALERT.SUBMITTING) }}</h4>\n</div>\n\n<link href="/css/public.acb633ca.css" rel="stylesheet" type="text/css" />\n<div ng-include="\'/public/views/_modals/file-picker-modal.d0b3917f.html\'"></div>\n'),$templateCache.put("/public/views/iframe.41330843.html",'<div role="main" class="iframeContent is-iframe" ng-class="{\'has-errors\': errors}" ng-show="form">\n    <div class="row">\n        <div class="col-md-12 publicForm">\n            <h1 class="sr-only">{{form.name}}</h1>\n            <div gecko-form></div>\n            <hr />\n        </div>\n    </div>\n    <div ng-include="\'/public/views/_modals/file-picker-modal.d0b3917f.html\'"></div>\n</div>\n\n<div class="alert alert-danger" style="margin-left: 40px; margin-right: 40px;" ng-show="form_errors">\n    <p>\n        <strong>Sorry, there was a problem loading this form:</strong>\n    </p>\n    <br />\n    <ul>\n        <li ng-repeat="error in form_errors track by $index">{{error}}</li>\n    </ul>\n</div>\n\n<div class="loader-loader" ng-if="!form"></div>\n<div class="loadingIndicator" ng-show="!hideLoadingIndicator" aria-live="polite">\n    <div ng-if="!hideLoadingIndicator">\n        <div class="loader"></div>\n        <h4>{{ __(STR_KEY.ALERT.SUBMITTING) }}</h4>\n    </div>\n</div>\n\n<link \n    rel="preload"\n    href="/css/iframe.9b9bf8fe.css" \n    as="style"\n    onload="this.onload=null;this.rel=\'stylesheet\';"\n/>\n\n<style ng-if="form.custom_css" ng-bind="form.custom_css"></style>\n\n<style ng-if="iFrameParentStyles" gecko-bind-html="iFrameParentStyles"></style>\n'),$templateCache.put("/public/views/modern.1c2ae9bf.html",'<style media="screen">\n    .submitButtons .submitBtn {\n        font-size: 1.2em;\n    }\n    .modern-logo-container {\n        width: 100%;\n        z-index: 300;\n        margin-top: 30px;\n    }\n    .modern-logo-holder {\n        max-width: 800px;\n        display: inline-block;\n    }\n    .modern-logo {\n        max-height: 100px;\n        max-width: 80%;\n    }\n    .modern-title {\n        margin-top: 20px;\n    }\n    .modern-description {\n    }\n    .modern-image-container {\n        position: fixed;\n        height: 400px;\n        top: 0;\n        left: 0;\n        width: 100%;\n        z-index: -1;\n    }\n    .modern-color {\n        opacity: 0.9;\n        height: 400px;\n        width: 100%;\n        position: absolute;\n        top: 0;\n        left: 0;\n    }\n    .modern-image {\n        background-size: cover;\n        height: 400px;\n        width: 100%;\n        position: absolute;\n        top: 0;\n        left: 0;\n    }\n    @media only screen and (max-width: 500px) {\n        .submitButtons .submitBtn {\n            font-size: 1.4em;\n            width: 100%\n        }\n    }\n    \n    .form-description a,\n    .form-description a:hover,\n    .form-description a:visited\n    {\n        color:inherit;\n    }\n</style>\n\n<div class="text-center modern-logo-container" ng-if="form" ng-style="{color: modernTxtColor}">\n    <div class="modern-logo-holder">\n        <img \n            ng-if="modernLogoImg"\n            ng-src="{{modernLogoImg}}" \n            alt="{{form.name}} | {{form.related_account.name}}" \n            class="modern-logo" />\n        <h1 class="modern-title page-title" style="font-size: 30px;">{{form.name}}</h1>\n        <p class="modern-description form-description" gecko-bind-html="form.description | linkify"></p>\n    </div>\n</div>\n\n<div class="header modern-image-container" ng-if="form">\n    <div class="modern-image" ng-style="modernContainerStyles" style="background-size:cover;background-position:center center; background-repeat:no-repeat;" />\n    <div class="modern-color" ng-style="{backgroundColor: modernBgColor}" />\n</div>\n\n<div role="main" ng-show="form" style="z-index: 2; margin-top: 30px;">\n    <div class="row">\n        <div class="col-md-offset-2 col-md-8 public-form-holder gecko-shadow" style="max-width: 1000px;">\n            <div style="min-height: 300px;" gecko-form />\n        </div>\n    </div>\n</div>\n<div class="loader-loader" ng-if="!form"></div>\n<p class="text-center" style="margin-top: 30px;" ng-if="form"><span class="powered_by">{{ __(STR_KEY.MISC.POWERED_BY) }} <strong><a href="https://geckoengage.com?utm_source=Gecko_Demo&utm_medium=customer_form_link&utm_campaign=powered_by_geckoengage" style="color: #333;">Gecko</a></strong></span></p>\n\n<div class="alert alert-danger col-md-offset-2 col-md-8" ng-show="form_errors">\n    <p><strong>Sorry, there was a problem loading this form:</strong></p>\n    <ul>\n        <li ng-repeat="error in form_errors track by $index">{{error}}</li>\n    </ul>\n</div>\n\n<div class="loadingIndicator" ng-show="!hideLoadingIndicator" aria-live="polite">\n    <div ng-if="!hideLoadingIndicator">\n        <div class="loader"></div>\n        <h4>{{ __(STR_KEY.ALERT.SUBMITTING) }}</h4>\n    </div>\n</div>\n\n<link \n    rel="preload"\n    href="/css/public.acb633ca.css" \n    as="style"\n    onload="this.onload=null;this.rel=\'stylesheet\';"\n/>\n\n<div ng-include="\'/public/views/_modals/file-picker-modal.d0b3917f.html\'"></div>'),$templateCache.put("/public/views/_fields/address.03fdf126.html",'\x3c!-- Address Search --\x3e\n<div class="input-group" ng-if="addressSearchEnabled">\n  <span class="input-group-addon"><i class="fa fa-search"></i></span>\n  <input \n  \taria-label="Search for your address...."\n  \tng-attr-id="{{field.id + \'_address_search\'}}" \n  \tclass="form-control" \n  \ttype="text" \n  \tplaceholder="Search for your address...." \n  \tstyle="margin-top: 0px;" \n  \tautocomplete="off" />\n</div>\n\n\x3c!-- Address --\x3e\n<div class="gecko-field-type-address-street-address">\n    <label for="{{prepareLabelText(field.id)}}_street_address">\n        {{placeholders[\'street_address\']}}\n    </label>\n    <input id="{{prepareLabelText(field.id)}}_street_address" class="form-control" type="text" placeholder="{{placeholders[\'street_address\']}}" ng-model="values[field.id][\'street_address\']" autocomplete="address-line1" aria-required="{{isRequired()}}" ng-required="isRequired()">\n</div>\n\n<div class="gecko-field-type-address-address-line-2">\n    <label for="{{prepareLabelText(field.id)}}_address_line_2">\n        {{placeholders[\'address_line_2\']}}\n    </label>\n    <input id="{{prepareLabelText(field.id)}}_address_line_2" class="form-control" type="text" placeholder="{{placeholders[\'address_line_2\']}}" ng-model="values[field.id][\'address_line_2\']" autocomplete="address-line2" aria-required="{{isRequired()}}" ng-required="isRequired()" />\n</div>\n\n<div class="gecko-field-type-address-city pull-left">\n    <label for="{{prepareLabelText(field.id)}}_city">\n        {{placeholders[\'city\']}}\n    </label>\n    <input id="{{prepareLabelText(field.id)}}_city" class="form-control" type="text" placeholder="{{placeholders[\'city\']}}" ng-model="values[field.id][\'city\']" autocomplete="address-level2" aria-required="{{isRequired()}}" ng-required="isRequired()" />\n</div>\n\n<div class="gecko-field-type-address-postal-code pull-right">\n    <label for="{{prepareLabelText(field.id)}}_postal_code">\n        {{placeholders[\'postal_code\']}}\n    </label>\n    <input id="{{prepareLabelText(field.id)}}_postal_code" class="form-control" type="text" placeholder="{{placeholders[\'postal_code\']}}" ng-model="values[field.id][\'postal_code\']" autocomplete="postal-code" aria-required="{{isRequired()}}" ng-required="isRequired()" />\n</div>\n\n<div class="gecko-field-type-address-country pull-left">\n    <label \n        id="{{prepareLabelText(field.id)}}_country_label" \n        for="{{prepareLabelText(field.id)}}_country" \n        ng-click="focusChoosen(\'#\' + prepareLabelText(field.id) +\'_country\')">\n        {{placeholders[\'country\']}}\n    </label>\n    <select \n        id="{{prepareLabelText(field.id)}}_country" \n        aria-label="{{placeholders[\'country\']}}"\n        aria-labelledby="{{prepareLabelText(field.id)}}_country_label" \n        chosen="{width : \'100%\', placeholder_text_single:placeholders[\'country\'], allow_single_deselect: true}" \n        make-chosen-accessible \n        class="form-control" \n        ng-model="values[field.id][\'country\']" \n        ng-options="option as option for option in addressCountries" \n        ng-if="shouldBeChosen" \n        autocomplete="country" \n        ng-change="pickCountry()"\n        aria-required="{{!!field.required}}">\n        <option value=""></option>\n    </select>\n    <div class="select-wrapper" ng-if="!shouldBeChosen">\n        <select \n            id="{{prepareLabelText(field.id)}}_country" \n            class="form-control" \n            ng-model="values[field.id][\'country\']" \n            ng-options="option as option for option in addressCountries" \n            ng-if="!shouldBeChosen" \n            autocomplete="country" \n            ng-change="pickCountry()"\n            aria-required="{{!!field.required}}">\n            <option value="" disabled>{{placeholders[\'country\']}}</option>\n        </select>\n    </div>\n</div>\n\n<div ng-if="!addressRegions" class="gecko-field-type-address-state pull-right">\n    <label for="{{prepareLabelText(field.id)}}_state">\n        {{placeholders[\'region\']}}\n    </label>\n    <input id="{{prepareLabelText(field.id)}}_state" class="form-control" type="text" placeholder="{{placeholders[\'region\']}}" ng-model="values[field.id][\'state\']" autocomplete="address-level1" aria-required="{{isRequired()}}" ng-required="isRequired()" />\n</div>\n\n<div ng-if="addressRegions" class="gecko-field-type-address-region pull-right">\n    <label \n        id="{{prepareLabelText(field.id)}}_region_label" \n        for="{{prepareLabelText(field.id)}}_region"\n        ng-click="focusChoosen(\'#\' + prepareLabelText(field.id) +\'_region\')">\n        {{placeholders[\'region\']}}\n    </label>\n    <select \n        id="{{prepareLabelText(field.id)}}_region" \n        aria-label="{{placeholders[\'region\']}}"\n        aria-labelledby="{{prepareLabelText(field.id)}}_region_label"\n        chosen="{width : \'100%\', placeholder_text_single:placeholders[\'region\'], allow_single_deselect: true}" \n        make-chosen-accessible \n        class="form-control" \n        ng-model="values[field.id][\'state\']" \n        ng-options="option as option for option in addressRegions" \n        ng-if="shouldBeChosen" \n        autocomplete="address-level-1"\n        aria-required="{{!!field.required}}">\n          <option value=""></option>\n    </select>\n    <div class="select-wrapper" ng-if="!shouldBeChosen">\n        <select id="{{prepareLabelText(field.id)}}_region" class="form-control" ng-model="values[field.id][\'state\']" ng-options="option as option for option in addressRegions" ng-if="!shouldBeChosen" autocomplete="address-level-1" aria-required="{{!!field.required}}">\n            <option value="" disabled>{{placeholders[\'region\']}}</option>\n        </select>\n    </div>\n</div>\n'),$templateCache.put("/public/views/_fields/event-picker.0e0fb640.html",'\n<div class="field-card">\n\n    <div ng-if="!ctrl.showOldEventPicker() && ctrl.loadingEvents" class="field-card-header event-picker-loader">\n        Currently loading the list of available events, please wait\n    </div>\n\n    <div class="field-card-header" ng-if="!ctrl.showOldEventPicker() && !ctrl.loadingEvents && ctrl.category">\n        <h2 class="field-card-title-text" ng-bind="field.label"></h2>\n        <div class="field-card-description-text" ng-if="field.help_text" ng-bind="field.help_text"></div>\n    </div>\n\n    <div ng-if="!ctrl.showOldEventPicker() && !ctrl.loadingEvents && ctrl.category" class="field-card-body event-picker-container">\n\n        <div class="alert alert-warning" style="margin-bottom:0;" ng-if="(!ctrl.showDatePicker() && !ctrl.showEventPicker())">\n            Unfortunately there are no available events at this time.\n        </div>\n\n        <div class="event-picker-event-container">\n            <div ng-if="ctrl.showDatePicker()" class="event-picker-available-dates">\n                <label for="form_{{field.label}}_date">Dates</label>\n                <input\n                    id="form_{{field.label}}_date"\n                    aria-label="Pick an available date"\n                    class="form-control"\n                    type="text"\n                    ng-model="ctrl.pickedDate"\n                    ng-change="ctrl.changePickedDate({{ctrl.pickedDate}})"\n                    available-dates="ctrl.availableDates"\n                    b-datepicker\n                    utc\n                    placeholder="Pick an available date" />\n            </div>\n            \x3c!-- Event picker --\x3e\n            <div ng-if="ctrl.showEventPicker()" class="event-picker-available-events">\n                <label for="form_{{field.label}}_event"><span class="sr-only">Event</span>&nbsp;</label>\n                <selectize\n                    id="form_{{field.label}}_event"\n                    config="ctrl.eventPickerConfig" \n                    options="ctrl.availableEvents" \n                    ng-model="values[field.id]._parent_event_id"\n                    ng-if="shouldBeChosen()">\n                </selectize>\n                <select \n                    name=""\n                    aria-label="Selected Event"\n                    class="form-control"\n                    ng-model="values[field.id].parent_event_id"\n                    ng-change="ctrl.changePickedEvent()"\n                    ng-options="event.id as event.title for event in ctrl.availableEvents"\n                    ng-if="!shouldBeChosen()">\n                        <option value="">Select an Event</option>\n                </select>\n            </div>\n        </div>\n        \x3c!-- /Event picker --\x3e\n        <div style="clear: both;"></div>\n        \x3c!-- Guest selection --\x3e\n        <div ng-if="ctrl.showGuestSelection()">\n            <label for="form_{{field.label}}_guests_none">Guests</label>\n            <fieldset class="event-picker-guest-selection clearfix">\n                <label>\n                    <input aria-label="None" id="form_{{field.label}}_guests_none" type="radio" ng-model="values[field.id].guest_count" value="0" ng-change="ctrl.clearBasketWhenGuestCountChanges()" /> \n                    None\n                </label>\n                <span ng-repeat="num in ctrl.getArrayOfMaxGuests()">\n                    <label>\n                        <input \n                            aria-label="{{num}}"\n                            type="radio" \n                            ng-model="values[field.id].guest_count" \n                            value="{{num}}"\n                            ng-change="ctrl.clearBasketWhenGuestCountChanges()" /> \n                        {{num}}\n                        &nbsp;\n                    </label>\n                </span>\n            </fieldset>\n        </div>\n        <div ng-if="ctrl.showGuestSelection()" style="clear: both;"></div>\n        \x3c!-- /Guest selection --\x3e\n        \x3c!-- Session picker --\x3e\n        <div ng-if="ctrl.showSessions() && ctrl.availableSessions.length" class="event-picker-session-container" ng-class="{\'event-picker-single-picked\': ctrl.isSingleSessionFilled()}">\n\n            \x3c!-- Full event message --\x3e\n                <div ng-if="ctrl.isEventFull(ctrl.getTopParent(ctrl.availableSessions[0]))" class="alert alert-warning">\n                    <h4>Unfortunately {{ctrl.getEvent().title}} is fully booked.</h4>\n                    <p>You will not be able to register for this event however there may be space if you choose a different date or time.</p>\n                </div>\n            \x3c!-- /Full event message --\x3e\n            \x3c!-- Full event (with waitlist) message --\x3e\n                <div ng-if="ctrl.willWaitlistApply(ctrl.getTopParent(ctrl.availableSessions[0]))" class="alert alert-warning">\n                    <h4>Unfortunately {{ctrl.getEvent().title}} is fully booked.</h4>\n                    <p>You will be added to the waitlist and registered if spaces become available.</p>\n                </div>\n            \x3c!-- /Full event (with waitlist) message --\x3e\n            <div class="event-picker-session-header">\n                <label for="form_{{field.label}}_session" style="margin-top: 8px;">Sessions</label>\n                \x3c!-- Session Filter --\x3e\n                <div class="dropdown" style="float: right;" ng-hide="ctrl.availableFilters.length < 2 || ctrl.availableSessions.length < 2">\n                    <button role="button" aria-label="Clear filters" ng-show="ctrl.areAnyFiltersSelected()" ng-click="ctrl.clearFilters()" class="btn btn-default session-filter-clear-button gecko-btn">\n                        <i class="fa fa-times"></i>\n                        Clear filters\n                    </button>\n                    &nbsp;\n                    <button role="button" aria-label="{{ctrl.filterButtonText()}}" data-toggle="dropdown" class="btn btn-default session-filter-button gecko-btn" ng-class="{\'applied\': ctrl.areAnyFiltersSelected()}"><i class="fa fa-sliders-h"></i> {{ctrl.filterButtonText()}}</button>\n                    <div class="dropdown-menu dropdown-menu-right event-filter-menu">\n                        <ul>\n                            <li ng-repeat="filter in ctrl.availableFilters | orderBy:\'toString()\'">\n                                <label>\n                                    <input \n                                        aria-label="{{filter}}"\n                                        type="checkbox" \n                                        ng-click="ctrl.selectFilter(filter)"\n                                        ng-checked="ctrl.isFilterSelected(filter)" /> \n                                    {{filter}}\n                                </label>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n                \x3c!-- /Session Filter --\x3e\n            </div>\n            <ul class="session-container field-card-list" style="clear: both;">\n                <li class="event-picker-session"\n                    ng-repeat="session in ctrl.availableSessions.filter(ctrl.isInSelectedFilters)"\n                    ng-class="{\'event-full\': ctrl.isEventFull(session), \'active\': ctrl.isSessionInBasket(session)}"\n                    ng-show="$index < ctrl.visibleSessionCount"\n                    ng-init="ctrl.initPickedSessionTime(session)">\n                    <span class="event-picker-info">\n                        <span class="event-picker-title">\n                            {{session.title}}\n                            <span ng-if="session.tags && session.tags.length">\n                                <span ng-repeat="tag in session.tags | orderBy:\'toString()\'" \n                                      title="Filter by {{tag}}"\n                                      class="session-tag"\n                                      ng-click="!ctrl.isFilterSelected(tag) ? ctrl.selectFilter(tag) : null">\n                                      #{{tag}}\n                                </span>\n                            </span>\n                            <span class="event-waitlist-text" ng-if="(ctrl.isEventWaitlisted(ctrl.pickedSessionTime[session.id]) || ctrl.isEventWaitlisted(ctrl.getTopParent(session))) || (!ctrl.enoughSpaceInEvent(ctrl.pickedSessionTime[session.id]) && (ctrl.willWaitlistApply(ctrl.pickedSessionTime[session.id]) || ctrl.willWaitlistApply(ctrl.getTopParent(session))))">\n                                Session fully booked. You will be added to the waitlist.\n                            </span>\n                            <span class="event-full-text" ng-if="ctrl.isEventFull(ctrl.pickedSessionTime[session.id])">\n                                This time is fully booked however there may be space if you choose a different date or time.\n                            </span>\n                            <span class="help-block" ng-show="!ctrl.isSessionInBasket(session) && ctrl.getClashes(ctrl.pickedSessionTime[session.id]).length">\n                                This time clashes with an event in your basket.\n                            </span>\n                            <span class="event-waitlist-text" ng-show="ctrl.spacesLeft(ctrl.pickedSessionTime[session.id]) < 4 && ctrl.spacesLeft(ctrl.pickedSessionTime[session.id]) > 0 && ctrl.enoughSpaceInEvent(ctrl.pickedSessionTime[session.id]) && !ctrl.isEventFull(ctrl.getTopParent(session)) && !ctrl.willWaitlistApply(ctrl.getTopParent(session))">\n                                This session currently has only {{ctrl.spacesLeft(ctrl.pickedSessionTime[session.id])}} {{ctrl.spacesLeft(ctrl.pickedSessionTime[session.id]) === 1 ? \'space\' : \'spaces\'}} left.\n                            </span>\n                            <span class="event-full-text text-danger" ng-show="ctrl.guestCount() && !ctrl.enoughSpaceInEvent(ctrl.pickedSessionTime[session.id]) && (!ctrl.willWaitlistApply(ctrl.pickedSessionTime[session.id]) && !ctrl.willWaitlistApply(ctrl.getTopParent(session)))">\n                                This session will not have enough space for you and your chosen number of guests.\n                            </span>\n                        </span>\n                        <span class="event-picker-time">\n                            <select ng-if="ctrl.getPickableSessionTimes(session).length > 1 && !ctrl.isSessionInBasket(session)"\n                                    name=""\n                                    class="form-control"\n                                    ng-class="{\'time-clash\': !ctrl.isSessionInBasket(session) && ctrl.getClashes(ctrl.pickedSessionTime[session.id]).length}"\n                                    ng-model="ctrl.pickedSessionTime[session.id]"\n                                    ng-options="sessionTime.id as ctrl.generateEventPrettyTime(sessionTime, ctrl.getTopParent(sessionTime).timezone) for sessionTime in ctrl.getPickableSessionTimes(session)">\n                            </select>\n                            <span ng-if="ctrl.getPickableSessionTimes(session).length == 1 && !ctrl.isSessionInBasket(session)">{{ ctrl.generateEventPrettyTime(ctrl.getPickableSessionTimes(session)[0], ctrl.getTopParent(session).timezone) }}</span>\n                            <span ng-if="ctrl.isSessionInBasket(session)">{{ ctrl.generateEventPrettyTime(ctrl.isSessionInBasket(session), ctrl.getTopParent(session).timezone) }}</span>\n                        </span>\n                        <span class="event-picker-button">\n                            <button role="button" aria-label="Book" ng-if="!ctrl.isSessionInBasket(session)" class="btn btn-primary gecko-btn" ng-click="ctrl.pickSession(ctrl.pickedSessionTime[session.id])" ng-disabled="!ctrl.pickedSessionTime[session.id] || ctrl.isEventFull(ctrl.pickedSessionTime[session.id]) || ctrl.isEventFull(ctrl.getTopParent(session)) || (!ctrl.enoughSpaceInEvent(ctrl.pickedSessionTime[session.id]) && !ctrl.willWaitlistApply(ctrl.pickedSessionTime[session.id]))">\n                                <i class="fa fa-fw fa-plus"></i> \n                                <span>Book</span>\n                            </button>\n                            <button role="button" aria-label="Remove" ng-if="ctrl.isSessionInBasket(session)" class="btn btn-default gecko-btn" ng-click="ctrl.removeSession(ctrl.pickedSessionTime[session.id])">\n                                <i class="fa fa-fw fa-trash-alt"></i> \n                                <span>Remove</span>\n                            </button>\n                        </span>\n                    </span>\n                </li>\n                <span\n                    class="show-more"\n                    ng-if="ctrl.availableSessions.filter(ctrl.isInSelectedFilters).length > ctrl.visibleSessionCount"\n                    ng-click="ctrl.visibleSessionCount = ctrl.availableSessions.filter(ctrl.isInSelectedFilters).length">\n                    Show more\n                </span>\n                <span\n                    class="show-less"\n                    ng-if="ctrl.visibleSessionCount > 20 && ctrl.availableSessions.filter(ctrl.isInSelectedFilters).length > 20"\n                    ng-click="ctrl.visibleSessionCount = 20">\n                    Show less\n                </span>\n            </ul>\n        </div>\n        <div ng-if="ctrl.showSessions() && !ctrl.availableSessions.length">\n            <span>Unfortunately there are no available sessions for this event.</span>\n        </div>\n        \x3c!-- /Session picker --\x3e\n\n        \x3c!-- Full event message --\x3e\n        <div ng-if="!ctrl.showSessions() && ctrl.isEventFull(ctrl.getEvent())" class="alert alert-warning">\n            <h4>Unfortunately {{ctrl.getEvent().title}} is fully booked.</h4>\n            <p>You will not be able to register for this event however there may be space if you choose a different date or time.</p>\n        </div>\n        \x3c!-- /Full event message --\x3e\n\n        \x3c!-- Basket stuff --\x3e\n        <div ng-if="ctrl.bookingBasket.contents.length > 0" class="event-booking-basket">\n            <h3>Basket</h3>\n            <ul class="field-card-list">\n                <li ng-repeat="event in ctrl.getBasketContents()" class="clear">                    \n                    <button role="button" aria-label="Remove" class="event-basket-button btn btn-default gecko-btn" ng-click="ctrl.removeSession(event.id)" style="margin: 0 auto; float: right;">\n                        <i class="fa fa-fw fa-trash-alt"></i> \n                        <span>Remove</span>\n                    </button>\n                    <strong>{{ctrl.getTopParent(event).title}}</strong>\n                    <span>{{ event.parent_id ? event.title : \'\'}}</span>\n                    <span class="event-booking-basket-date">\n                        <small>\n                            {{ ctrl.prettyDate(event.start_datetime, ctrl.getTopParent(event).timezone) }} - {{ ctrl.prettyDate(event.end_datetime, ctrl.getTopParent(event).timezone) }} <span>({{ctrl.getTimezone(ctrl.getTopParent(event))}})</span>\n                        </small>\n                    </span>\n                    <span><small>{{ ctrl.renderEventMeta(event) }}</small></span>\n                    <span class="help-block" ng-if="ctrl.isEventWaitlisted(event.id) || !ctrl.enoughSpaceInEvent(event) && ctrl.willWaitlistApply(event)">\n                        Fully booked. You will be added to the waitlist.\n                    </span>\n                    <span class="help-block" ng-show="ctrl.getClashes(event.id).length">\n                        This time clashes with the following in your basket: {{ctrl.getEventTitles(ctrl.getClashes(event.id))}}\n                    </span>\n                    <span class="help-block" ng-show="ctrl.spacesLeft(event.id) < 4 && ctrl.spacesLeft(event.id) > 0 && ctrl.enoughSpaceInEvent(event)">\n                        This event currently has only {{ctrl.spacesLeft(event.id)}} {{ctrl.spacesLeft(event.id) === 1 ? \'space\' : \'spaces\'}} left.\n                    </span>\n                    <span class="help-block text-danger" ng-show="!ctrl.enoughSpaceInEvent(event) && !ctrl.willWaitlistApply(event)">\n                        This event will not have enough space for you and your chosen number of guests.\n                    </span>\n                </li>\n            </ul>\n        </div>\n        \x3c!-- /Basket stuff --\x3e\n    </div>\n\n    <div ng-if="ctrl.showOldEventPicker()">\n        <ul>\n            <li class="list-item event-parent" ng-if="!ctrl.topEventIsSession()">\n                <input id="field_{{field.id}}_event_{{event.id}}" type="checkbox" ng-model="values[field.id].event_ids[event.id]" ng-true-value="{{defaultStatus || \'\'}}">\n                <label for="field_{{field.id}}_event_{{event.id}}">{{event.title}}</label>\n            </li>\n\n            <li class="list-item" ng-repeat="event in ctrl.sessions" ng-class="{\'event-parent\': ctrl.topEventIsSession(), \'event-child\': !ctrl.topEventIsSession()}">\n        \x3c!-- Legacy Session--\x3e\n                <div ng-if="event.type === Gecko.Event.TYPE_SESSION_LEGACY">\n                    <input id="field_{{field.id}}_event_{{event.id}}" type="checkbox" ng-model="values[field.id].event_ids[event.id]" ng-true-value="{{ctrl.defaultStatus || \'\'}}">\n                    <label for="field_{{field.id}}_event_{{event.id}}">{{event.title}}</label>\n                </div>\n        \x3c!-- /Legacy Session--\x3e\n        \x3c!-- Sessions + Session Times --\x3e\n                <div ng-if="event.type === Gecko.Event.TYPE_SESSION">\n                    <span class="session-title">{{event.title}}</span>\n                    \n                    <ul ng-if="event.children && event.children.length">\n                        <li class="list-item" ng-repeat="session_time in event.children">\n                            <input id="field_{{field.id}}_event_{{session_time.id}}" type="checkbox" ng-model="values[field.id].event_ids[session_time.id]" ng-true-value="{{ctrl.defaultStatus || \'\'}}">\n                            <label for="field_{{field.id}}_event_{{session_time.id}}">{{session_time.title}}</label>\n                        </li>\n                    </ul>\n\n                </div>\n        \x3c!-- Sessions + Session Times --\x3e\n            </li>\n        </ul>\n    </div>\n\n</div>\n'),$templateCache.put("/public/views/_fields/file-picker.fd87eaa4.html",'<div class="file-picker-field" role="group" aria-labelledby="form_{{field.id}}_label">\n\n    <button\n        type="button" \n        class="btn btn-default gecko-btn" \n        ng-click="toggleModal(field);ctrl.utils.modal.setTarget($event)">\n        <i class="fa fa-upload"></i> \n        {{ __(STR_KEY.BUTTON.UPLOAD) }}\n    </button>\n    <div>\n        <file-picker-modal \n            value="value"\n            field="field"\n            accept="accept"\n            multiple="multiple" \n            multi-file-limit="multiFileLimit"\n            get-icon="getIcon(file)"\n            files="files"\n            update-value="updateValue"\n            utils="ctrl.utils">\n        </file-picker-modal>\n    </div>\n\n    <div class="field-card" ng-show="value && value.length > 0">\n\n        <ul class="field-card-list">\n\n            <li class="uploaded-file clearfix" ng-repeat="file in files track by $index">\n\n                <div class="pull-right uploaded-file-delete">\n                    <button class="btn btn-default gecko-btn" ng-click="removeUpload(field, file)">\n                        <i class="fa fa-trash-alt"></i>\n                        {{ __(STR_KEY.BUTTON.REMOVE) }}\n                    </button>\n                </div>\n                \n                <span class="uploaded-file-name"> \n                    <i ng-class="getIcon(file) + \' fa-2x\'"></i>\n                    <span> \n                        {{ file.name.split(\'/\')[file.name.split(\'/\').length - 1] }}\n                    </span>\n                </span>\n\n            </li>\n\n        </ul>\n\n    </div>\n\n</div>\n'),$templateCache.put("/public/views/_fields/select.1d2fd4ba.html",'<select id="form_{{field.id}}" chosen="{\'width\' : \'100%\', search_contains:true, placeholder_text_single: field.placeholder || __(STR_KEY.INPUT.DROPDOWN)}" make-chosen-accessible name="{{field.id}}" class="form-control" ng-model="selectedValue[field.id]" ng-options="option.index as option.value.value for option in fieldOptions[field.id]" ng-change="updateValue()" ng-if="shouldBeChosen">\n    <option value="">{{field.placeholder || __(STR_KEY.INPUT.DROPDOWN)}}</option>\n</select>\n\n<div class="select-wrapper" ng-if="!shouldBeChosen">\n    <select aria-label="{{field.label}}" id="form_{{field.id}}" name="{{field.id}}" class="form-control" ng-model="selectedValue[field.id]" ng-options="option.index as option.value.value for option in fieldOptions[field.id]" ng-change="updateValue()">\n        <option value="" disabled>{{field.placeholder || __(STR_KEY.INPUT.DROPDOWN)}}</option>\n    </select>\n</div>'),$templateCache.put("/public/views/_modals/file-picker-modal.d0b3917f.html",'<div class="modal fade file-picker-modal" tabindex="-1" role="dialog" aria-hidden="true" aria-modal="true" aria-labelledby="form_{{field.id}}_file_upload_modal_title" trap-modal-focus>\n    <div class="modal-dialog">\n        <div class="modal-content">\n\n            <div class="modal-header"> \n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                    <i class="gecko-icon fa fa-times"></i>\n                </button>\n                <h1 id="form_{{field.id}}_file_upload_modal_title" class="modal-title">{{ field.label }}</h1>\n            </div>\n\n            <div class="modal-body"> \n\n                <div role="alert" aria-live="assertive" class="upload-error" ng-if="uploadErrors.length">\n                    <div ng-repeat="error in uploadErrors track by $index" class="alert alert-danger">\n                        {{error}}\n                    </div>\n                </div>\n                \n                <div \n                    class="drop-area" \n                    ondragleave="angular.element(this).scope().fileDragLeave(event)"\n                    ondragover="angular.element(this).scope().fileDragOver(event)"\n                    ondrop="angular.element(this).scope().fileDrop(event)"\n                    ondragenter="angular.element(this).scope().fileDragEnter(event)"> \n\n                    <p class="description" ng-if="files.length == 0">\n                        {{ __(STR_KEY.FILE_UPLOAD_FIELD.DRAG_FILES_HERE) }}\n                    </p>\n                    <div>\n                        <div class="row file-row">\n                            <div class="uploaded-file-card gecko-shadow" ng-repeat="file in files">\n                                <div>\n                                    <button role="button" aria-label="{{ __(STR_KEY.BUTTON.REMOVE) }} {{ctrl.truncatedFileName(file.name)}}" class="remove-file" ng-click="ctrl.removeFile(file)">\n                                        <i class="fa fa-times"></i>\n                                    </button>\n                                    <div class="file-icon">\n                                        <i ng-class="getIcon({file: file}) + \' fa-3x\'"></i> \n                                    </div>\n                                    <div class="file-name">\n                                        <p>{{ctrl.truncatedFileName(file.name)}}</p>\n                                    </div>\n                                </div>\n                            </div>\n                            \n                        </div>\n                    </div>\n                </div>\n                \n                <div class="choose-file clearfix">\n\n                    <span class="pull-left choose-file-text" ng-if="allowMoreFiles()">\n                        or\n                    </span>\n\n                    <span class="pull-left choose-file-btn" ng-if="allowMoreFiles()">\n                        <input \n                            id="inputfile_{{field.id}}"\n                            class="upload-file"\n                            type="file" \n                            multiple="multiple"\n                            onchange="angular.element(this).scope().handleFileChange(event)"\n                            accept="{{ctrl.allowedMimeTypes}}" />\n                            \x3c!-- on-file-added="handleFileInput" --\x3e\n                        <label class="btn gecko-btn" id="file-input" for="inputfile_{{field.id}}">\n                            {{ __(STR_KEY.FILE_UPLOAD_FIELD.CHOOSE_A_FILE) }}\n                        </label>\n                    </span>\n\n                    <span role="alert" class="pull-left choose-file-text" ng-if="!allowMoreFiles()">\n                        {{ __(STR_KEY.FILE_UPLOAD_FIELD.ERROR_3) }}.\n                    </span>\n                </div>\n        \n            </div>\n\n            <div class="modal-footer">\n                <button \n                    role="button"\n                    aria-label="Upload"\n                    type="button" \n                    id="file-upload_{{field.id}}" \n                    class="btn btn-primary gecko-btn pull-right" \n                    ng-click="uploadFiles()"\n                    ng-disabled="ctrl.isUploading"\n                    aria-disabled="{{!!ctrl.isUploading}}">\n                        <i class="fa fa-upload" ng-show="!ctrl.isUploading"></i>\n                        <i class="fa fa-sync fa-spin" ng-show="ctrl.isUploading"></i>\n                        {{ __(STR_KEY.BUTTON.UPLOAD) }}\n                </button>\n            </div>\n\n        </div>\n    </div>\n</div>'),$templateCache.put("/public/views/_partials/geckoform.cfbf7b10.html",'<form class="gecko-form-{{form.uuid}}" role="form" ng-if="form" novalidate>\n    <error-alert position="top" errors="errors" scroll-fn="scrollToFieldErrorFn" ng-if="errors"></error-alert>\n    <div\n        role="alert"\n        class="alert {{ isFull ? \'alert-warning\' : \'alert-success\'}}"\n        ng-show="success"\n        gecko-bind-html="success | linkify">\n    </div>\n    <div role="alert" class="alert alert-danger" ng-show="hasPast">\n        {{ __(STR_KEY.ALERT.EVENT_ENDED) }}\n    </div>\n    <div role="alert" class="alert alert-danger" ng-show="hasExpired">\n        {{ __(STR_KEY.ALERT.FORM_CLOSED) }}\n    </div>\n\n    <div ng-show="success && !isAdmin">\n        <button type="button" class="btn btn-primary submitBtn" ng-click="continueSuccess()" ng-if="!form.full && form.show_continue_button">\n            {{ __(STR_KEY.BUTTON.CONTINUE) }}\n        </button>\n    </div>\n    <div ng-show="!success && !hasPast && !hasExpired">\n\n        <div class="form-page" ng-repeat="page in form.related_pages" ng-show="currentPage == $index">\n\n           <div ng-show="page.show_title" style="margin-bottom:20px;">\n                <h2 style="font-size:24px;" ng-show="page.title">{{page.title}}</h2>\n                <p ng-show="page.description">{{page.description}}</p>\n           </div>\n\n            <div class="form-group gecko-field gecko-field-type-{{field.type}}" ng-class="{\'field-required\': field.required == 1, \'has-error\': getError(field)}" ng-repeat="field in page.related_fields track by $index" id="field{{field.id}}" ng-show="related_conditions && checkConditional(field)">\n\n                <label\n                    id="{{prepareLabelText(field.id)}}_label"\n                    class="field-label"\n                    for="{{prepareLabelText(field.id)}}"\n                    ng-if="showFieldLabel(field)">\n                        {{field.label}} <span aria-hidden="true" class="required" ng-if="field.required == 1">*</span>\n                </label>\n\n                <h2 \n                    id="{{prepareLabelText(field.id)}}_label"\n                    class="field-title"\n                    ng-if="showFieldTitle(field)">\n                        {{field.label}} <span aria-hidden="true" class="required" ng-if="field.required == 1">*</span>\n                </h2>\n\n                <p id="{{prepareLabelText(field.id)}}_description"\n                   ng-class="{\'help-block\': !isAdmin}" \n                   ng-show="showFieldDesc(field)"\n                   gecko-bind-html="field.help_text | linkify">     \n                </p>\n                <div ng-if="!isAdmin && field.type == \'section\'">\n                    <hr class="noPaddingBottom" />\n                    <h2 style="font-size:24px;">{{field.label}}</h2>\n                    <p ng-class="{\'help-block\': !isAdmin}" ng-show="field.help_text != \'\'" gecko-bind-html="field.help_text"></p>\n                    <div style="clear: both;"></div>\n                </div>\n                <div ng-if="isAdmin && field.type == \'section\'">\n                    <h2 style="font-size:24px;">{{field.label}}</h2>\n                    <p ng-show="field.help_text != \'\'" gecko-bind-html="field.help_text"></p>\n                    <div style="clear: both;"></div>\n                </div>\x3c!-- /section --\x3e\n\n                <div ng-switch="field.type">\n                    <div ng-switch-when="script" ng-class="{hide : field.hidden == 1}">\n                        <div gecko-bind-html="field.help_text"></div>\n                    </div>\n\n                    <div ng-switch-when="text" ng-class="{hide : field.hidden == 1}">\n                        <input\n                            id="{{prepareLabelText(field.id)}}"\n                            aria-describedby="{{prepareLabelText(field.id)}}_description"\n                            class="form-control"\n                            type="text"\n                            ng-model="values[field.id]"\n                            placeholder="{{field.placeholder}}"\n                            aria-required="{{!!field.required}}" />\n                    </div>\x3c!-- /text --\x3e\n\n                    <div ng-switch-when="number" ng-class="{hide : field.hidden == 1}">\n                        <input\n                            id="{{prepareLabelText(field.id)}}"\n                            aria-describedby="{{prepareLabelText(field.id)}}_description"\n                            class="form-control"\n                            type="number"\n                            ng-model="values[field.id]"\n                            placeholder="{{field.placeholder}}"\n                            aria-required="{{!!field.required}}" />\n                    </div>\x3c!-- /number --\x3e\n\n                    <div ng-switch-when="file" ng-class="{hide : field.hidden == 1}">\n                        <file-picker-field\n                            field="field"\n                            value="values[field.id]"\n                            multiple="field.values.multi_file_upload"\n                            multi-file-limit="field.values.multi_file_upload_limit"\n                            update-value="updateValue">\n                        </file-picker-field>\n                    </div>\x3c!-- /file --\x3e\n\n                    <div ng-switch-when="hidden" style="display: none;">\n                        <p class="form-control-static text-muted">hidden</p>\n                        <input\n                            id="{{prepareLabelText(field.id)}}"\n                            type="hidden"\n                            ng-model="values[field.id]"\n                            aria-required="{{!!field.required}}" />\n                    </div>\x3c!-- /hidden --\x3e\n\n                    <div ng-switch-when="email" ng-class="{hide : field.hidden == 1}">\n                        <div ng-if="!field.settings.verify_email">\n                            <input\n                                id="{{prepareLabelText(field.id)}}"\n                                aria-describedby="{{prepareLabelText(field.id)}}_description"\n                                class="form-control"\n                                type="text"\n                                ng-model="values[field.id]"\n                                ng-init="values[field.id] = contact.email ? contact.email : \'\'"\n                                placeholder="{{field.placeholder ? field.placeholder : \'your.name@company.com\'}}"\n                                autocomplete="email"\n                                ng-required="isRequired(field)"\n                                aria-required="{{isRequired(field)}}" />\n                        </div>\n                        <div ng-if="field.settings.verify_email">\n                            <input\n                                id="{{prepareLabelText(field.id)}}"\n                                class="form-control"\n                                type="text"\n                                ng-model="values[field.id][0]"\n                                ng-init="values[field.id][0] = contact.email ? contact.email : \'\'"\n                                placeholder="{{field.placeholder ? field.placeholder : \'your.name@company.com\'}}"\n                                ng-required="isRequired(field)"\n                                aria-required="{{isRequired(field)}}" />\n                            <input\n                                style="margin-top:10px;"\n                                class="form-control"\n                                type="text"\n                                ng-model="values[field.id][1]"\n                                placeholder="{{ __(STR_KEY.INPUT.VERIFY_EMAIL) }}"\n                                ng-required="isRequired(field)"\n                                aria-required="{{isRequired(field)}}" />\n                        </div>\n\n                    </div>\x3c!-- /email --\x3e\n\n                    <div ng-switch-when="event" ng-class="{hide : field.hidden == 1}">\n                        <div\n                            ng-if="(field.values || {}).use_old_event_field && !hasEfid"\n                            gecko-event-picker\n                            event="(form.event || {}).event"\n                            field="field"\n                            values="values">\n                        </div>\n                        <div\n                            ng-if="!(field.values || {}).use_old_event_field || hasEfid"\n                            gecko-event-field\n                            event="(form.event || {}).event"\n                            field="field"\n                            values="values">\n                        </div>\n                    </div>\x3c!-- /event --\x3e\n\n                    <div ng-switch-when="tel" ng-class="{hide : field.hidden == 1}">\n                        <input\n                            id="{{prepareLabelText(field.id)}}"\n                            class="form-control"\n                            type="text"\n                            ng-model="values[field.id]"\n                            international-phone-number\n                            make-tel-accessible\n                            placeholder="{{field.placeholder || \'0121 234 5678\'}}"\n                            aria-required="{{!!field.required}}" />\n                    </div>\x3c!-- /tel --\x3e\n\n                    <div ng-switch-when="url" ng-class="{hide : field.hidden == 1}">\n                        <input\n                            id="{{prepareLabelText(field.id)}}"\n                            aria-describedby="{{prepareLabelText(field.id)}}_description"\n                            class="form-control"\n                            type="text"\n                            ng-model="values[field.id]"\n                            placeholder="{{field.placeholder}}"\n                            aria-required="{{!!field.required}}" />\n                    </div>\x3c!-- /url --\x3e\n\n                    <div ng-switch-when="date" ng-class="{hide : field.hidden == 1}">\n                        <date-field\n                            field="field"\n                            value="values[field.id]">\n                        </date-field>\n                    </div>\x3c!-- /date --\x3e\n\n                    <div ng-switch-when="organisation" ng-class="{hide : field.hidden == 1}">\n                        <organisation-field\n                            field="field"\n                            value="values[field.id]">\n                        </organisation-field>\n                    </div>\x3c!-- /organisation --\x3e\n\n                    <div ng-switch-when="select" ng-class="{hide : field.hidden == 1}">\n                        <div select-field data-field="field" data-selected-value="selectedValue"></div>\n                    </div>\x3c!-- /select --\x3e\n\n                    <div ng-switch-when="multi" ng-class="{hide : field.hidden == 1}">\n                        <multi-select-field\n                            field="field"\n                            value="values[field.id]"\n                            field-options="fieldOptions">\n                        </multi-select-field>\n                    </div>\x3c!-- /multi-select --\x3e\n\n                    <div ng-switch-when="country" ng-class="{hide : field.hidden == 1}">\n                        <select id="{{prepareLabelText(field.id)}}" chosen="{\'width\' : \'100%\'}" name="" class="form-control" ng-model="values[field.id]" ng-options="option as option for option in countries" ng-if="shouldBeChosen()">\n                            <option value="">\n                                {{ __(STR_KEY.INPUT.DROPDOWN) }}\n                            </option>\n                        </select>\n                        <div class="select-wrapper" ng-if="!shouldBeChosen()">\n                        <select id="{{prepareLabelText(field.id)}}" name="" class="form-control" ng-model="values[field.id]" ng-options="option as option for option in countries">\n                            <option value="">\n                                {{ __(STR_KEY.INPUT.DROPDOWN) }}\n                            </option>\n                        </select>\n                        </div>\n                    </div>\n\n                    <div ng-switch-when="checkbox" ng-class="{hide : field.hidden == 1}">\n\n                        <div \n                            role="group" \n                            aria-labelledby="{{prepareLabelText(field.id)}}_label" \n                            aria-describedby="{{prepareLabelText(field.id)}}_description">\n\n                            <div ng-if="field.option_id == null || field.option_id == 0">\n                                <div class="checkbox" ng-repeat="value in field.values track by $index">\n                                    <input\n                                        id="{{prepareLabelText(field.id)}}_{{$index}}"\n                                        type="checkbox"\n                                        value="{{value.value}}"\n                                        ng-model="arrayValues[field.id][$index]"\n                                        ng-click="updateSelection($event, field, $index)" />\n                                    <label for="{{prepareLabelText(field.id)}}_{{$index}}">\n                                        {{value.value}}\n                                    </label>\n                                </div>\n                            </div>\n                            <div ng-if="field.option_id > 0">\n                                <div class="checkbox" ng-repeat="option in field.option.values track by $index">\n                                    <input\n                                        id="{{prepareLabelText(field.id)}}_{{$index}}"\n                                        type="checkbox"\n                                        value="{{option.value}}"\n                                        ng-model="arrayValues[field.id][$index]"\n                                        ng-click="updateSelection($event, field, $index)" />\n                                    <label for="{{prepareLabelText(field.id)}}_{{$index}}">\n                                        {{option.value}}\n                                    </label>\n                                </div>\n                            </div>\n\n                        </div>\n\n                    </div>\x3c!-- /checkbox --\x3e\n\n                    <div ng-switch-when="radio" ng-class="{hide : field.hidden == 1}">\n\n                        <div \n                            role="radiogroup" \n                            aria-labelledby="{{prepareLabelText(field.id)}}_label" \n                            aria-describedby="{{prepareLabelText(field.id)}}_description" \n                            aria-required="{{!!field.required}}">\n\n                            <div ng-if="field.option_id == null || field.option_id == 0">\n                                <div class="radio" ng-repeat="value in field.values track by $index">\n                                    <input\n                                        id="{{prepareLabelText(field.id)}}_{{$index}}"\n                                        type="radio"\n                                        value="{{value.value}}"\n                                        ng-model="values[field.id]" />\n                                    <label for="{{prepareLabelText(field.id)}}_{{$index}}">\n                                        {{value.value}}\n                                    </label>\n                                </div>\n                            </div>\n                            <div ng-if="field.option_id > 0">\n                                <div class="radio" ng-repeat="option in field.option.values track by $index">\n                                    <input\n                                        id="{{prepareLabelText(field.id)}}_{{$index}}"\n                                        type="radio"\n                                        value="{{option.value}}"\n                                        ng-model="values[field.id]" />\n                                    <label for="{{prepareLabelText(field.id)}}_{{$index}}">\n                                        {{option.value}}\n                                    </label>\n                                </div>\n                            </div>\n\n                        </div>\n\n                    </div>\x3c!-- /radio --\x3e\n\n                    <div ng-switch-when="name" ng-class="{hide : field.hidden == 1}" class="clearfix" role="group" aria-labelledby="{{prepareLabelText(field.id)}}_label">\n                        <div class="gecko-field-type-name-first-name pull-left">\n                            <label for="{{prepareLabelText(field.id)}}_first_name">\n                                {{__(STR_KEY.INPUT.FIRST_NAME)}}\n                            </label>\n                            <input\n                                id="{{prepareLabelText(field.id)}}_first_name"\n                                class="form-control"\n                                type="text"\n                                placeholder="{{field.placeholder | explode:\'|\':0:__(STR_KEY.INPUT.FIRST_NAME)}}"\n                                ng-model="values[field.id][\'first_name\']"\n                                autocomplete="given-name"\n                                ng-required="isRequired(field)"\n                                aria-required="{{isRequired(field)}}"\n                                aria-describedby="{{prepareLabelText(field.id)}}_description" />\n                        </div>\n                        <div class="gecko-field-type-name-last-name pull-right">\n                            <label for="{{prepareLabelText(field.id)}}_last_name">\n                                {{__(STR_KEY.INPUT.LAST_NAME)}}\n                            </label>\n                            <input\n                                id="{{prepareLabelText(field.id)}}_last_name"\n                                class="form-control"\n                                type="text"\n                                placeholder="{{field.placeholder | explode:\'|\':1:__(STR_KEY.INPUT.LAST_NAME)}}"\n                                ng-model="values[field.id][\'last_name\']"\n                                autocomplete="family-name"\n                                ng-required="isRequired(field)"\n                                aria-required="{{isRequired(field)}}"\n                                aria-describedby="{{prepareLabelText(field.id)}}_description" />\n                        </div>\n                    </div>\x3c!-- /name --\x3e\n\n                    <div ng-switch-when="address" class="address clearfix" ng-class="{hide : field.hidden == 1}">\n                        <div address-search field="{{field}}" role="group" aria-labelledby="{{prepareLabelText(field.id)}}_label" aria-describedby="{{prepareLabelText(field.id)}}_description" />\n\n                    </div>\x3c!-- /address --\x3e\n                    <div ng-switch-when="textarea" ng-class="{hide : field.hidden == 1}">\n                        <textarea\n                            id="{{prepareLabelText(field.id)}}"\n                            aria-describedby="{{prepareLabelText(field.id)}}_description"\n                            class="form-control"\n                            rows="3"\n                            ng-model="values[field.id]"\n                            aria-required="{{!!field.required}}"\n                            placeholder="{{field.placeholder}}">\n                        </textarea>\n\n                        <div class="help-block text-right" ng-if="field.max_length">\n                            <span ng-class="{\'text-danger\': (values[field.id] || \'\').length > field.max_length}">\n                                {{__(STR_KEY.MISC.TOTAL_CHARACTERS)}}:\n                                {{(values[field.id] || \'\').length || 0}}/{{field.max_length}}\n                            </span>\n                        </div>\n\n                    </div>\x3c!-- /textarea --\x3e\n\n                    <div ng-switch-when="repeatable" role="group" aria-labelledby="{{prepareLabelText(field.id)}}_label" aria-describedby="{{prepareLabelText(field.id)}}_description">\n                        <div class="repeatable">\n\n                            <hr />\n\n                        \x3c!-- Compact --\x3e\n                            <div ng-if="field.values.display_mode === \'compact\' || !field.values.display_mode">\n                                <repeatable-compact-field\n                                    role="group"\n                                    aria-labelledby="{{prepareLabelText(field.id)}}_label"\n                                    field="field"\n                                    value="values[field.id]"\n                                    update-fn="updateFn">\n                                </repeatable-compact-field>\n                            </div>\n                        \x3c!-- /Compact --\x3e\n\n                        \x3c!-- Table --\x3e\n                            <div ng-if="field.values.display_mode === \'table\'">\n                                <repeatable-table-field\n                                    role="group"\n                                    aria-labelledby="{{prepareLabelText(field.id)}}_label"\n                                    field="field"\n                                    value="values[field.id]">\n                                </repeatable-table-field>\n                            </div>\n                        \x3c!-- /Table --\x3e\n\n                        </div>\n                    </div>\x3c!-- /repeatable --\x3e\n\n                    <div ng-switch-when="matrix" role="group" aria-labelledby="{{prepareLabelText(field.id)}}_label" aria-describedby="{{prepareLabelText(field.id)}}_description">\n                        <div>\n                            <div class="table-responsive">\n                                <table role="presentation" class="table table-bordered table-striped" style="margin-top: 10px;">\n                                    <thead>\n                                        <tr>\n                                            <th>&nbsp;</th>\n                                            <th class="text-center" ng-repeat="col in field.sub_fields" width="10%">{{col.label}}</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        <tr role="group" ng-repeat="(r, row) in field.values" aria-labelledby="field{{field.id}}_matrix_{{r}}">\n                                            <th colspan="1" id="field{{field.id}}_matrix_{{r}}">\n                                                {{row.label}}\n                                            </th>\n                                            <td class="text-center"\n                                            ng-repeat="col in field.sub_fields"\n                                            ng-model="values[field.id]">\n                                                <input\n                                                    aria-label="{{col.label}}"\n                                                    ng-if="col.type === \'radio\'"\n                                                    type="radio"\n                                                    ng-model="values[field.id][r][\'radio\']"\n                                                    value="{{col.label}}" />\n                                                <input\n                                                    aria-label="{{col.label}}"\n                                                    ng-if="col.type === \'checkbox\'"\n                                                    type="checkbox"\n                                                    ng-model="values[field.id][r][col.label]" />\n                                            </td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                    </div>\x3c!-- /matrix --\x3e\n\n                    <div ng-switch-when="consent" ng-class="{hide : field.hidden == 1}">\n                        <consent-field\n                            field="field"\n                            value="values[field.id]">\n                        </consent-field>\n                    </div>\x3c!-- /consent --\x3e\n\n                    <div ng-switch-when="preferred_language" ng-class="{hide : field.hidden == 1}">\n                        <preferred-language-field\n                            field="field"\n                            value="values[field.id]"\n                            values="values">\n                        </<preferred-language-field>\n                    </div>\x3c!-- /preferred_language --\x3e\n\n                </div>\n                <p role="alert" class="help-block" ng-repeat="errorMessage in getError(field) track by $index" gecko-bind-html="errorMessage"></p>\n            </div>\n\n        </div>\x3c!-- /pagesrepeat --\x3e\n        <hr ng-show="!isAdmin && !isContactFields" />\n\n        <div ng-show="!isContactFields && form.related_pages.length > 1 && currentPage < form.related_pages.length" class="text-center">\n            {{ __(STR_KEY.MISC.PAGE) }} {{currentPage + 1}} / {{form.related_pages.length}}\n        </div>\n\n    \x3c!-- Progress Bar --\x3e\n        <div class="progress text-center" ng-show="form.related_pages.length > 1 && !success && FALSE">\n            <div class="progress-bar" ng-style="{\'background-color\': form.related_account.color, width: progress+\'%\'}" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100">\n                <span ng-hide="progress == 0">{{progress}}%</span>\n            </div>\n            <span ng-show="progress == 0">{{progress}}%</span>\n        </div>\n    \x3c!-- /Progress Bar --\x3e\n\n        <div class="text-center submitButtons" ng-show="!isAdmin && !isContactFields">\n            <p class="saving" ng-if="stillUploading()"><span>Please wait, uploading files...</span></p>\n            <button\n                role="button"\n                aria-label="{{ __(STR_KEY.BUTTON.PREVIOUS) }}"\n                type="button"\n                id="form-previous"\n                class="btn btn-primary submitBtn pull-left gecko-btn"\n                ng-click="changePage(currentPage - 1)"\n                ng-disabled="stillUploading()"\n                ng-show="form.related_pages.length > 1 && currentPage > 0"\n                style="margin-right: 10px;">\n                    <i class="fa fa-chevron-circle-left"></i>\n                    {{ __(STR_KEY.BUTTON.PREVIOUS) }}\n            </button>\n            <button\n                role="button"\n                aria-label="{{ __(STR_KEY.BUTTON.NEXT) }}"\n                type="button"\n                id="form-next"\n                class="btn btn-primary submitBtn pull-right gecko-btn"\n                ng-click="changePage(currentPage + 1, true)"\n                ng-disabled="stillUploading()"\n                ng-show="form.related_pages.length > 1 && currentPage < form.related_pages.length - 1">\n                    {{ __(STR_KEY.BUTTON.NEXT) }}\n                    <i class="fa fa-chevron-circle-right"></i>\n            </button>\n\n            <button\n                role="button"\n                aria-label="{{form.submit_text || __(STR_KEY.BUTTON.SUBMIT)}}"\n                type="button"\n                id="form-submit"\n                class="btn btn-primary submitBtn pull-right gecko-btn"\n                ng-click="saveHandler()"\n                ng-disabled="stillUploading() || saveDisabled"\n                ng-show="!isAddResponse && currentPage + 1 == form.related_pages.length">\n                    <i class="fa fa-check-circle"></i>\n                    {{form.submit_text || __(STR_KEY.BUTTON.SUBMIT)}}\n            </button>\n            <div style="clear: both;"></div>\n        </div>\n\n    </div>\n</form>\n')}]),window.Gecko={},window.Gecko.DATE_FORMATS={"d/m/Y":{blank:"Do MMM YYYY [at] HH:mm",full:"Do MMMM YYYY [at] HH:mm",date:"Do MMMM YYYY",long:"Do MMM YYYY",longTime:"Do MMM YYYY [at] HH:mm",short:"DD/MM/YYYY",shortTime:"DD/MM/YYYY HH:mm",datepicker:"dd/mm/yyyy",shortReverse:"YYYY-MM-DD",timeDate:"h:mma - DD MMM YYYY"},"m/d/Y":{blank:"MMM Do YYYY [at] HH:mm",full:"MMMM Do YYYY [at] HH:mm",date:"MMMM Do YYYY",long:"MMM Do YYYY",longTime:"MMM Do YYYY [at] HH:mm",short:"MM/DD/YYYY",shortTime:"MM/DD/YYYY HH:mm",datepicker:"mm/dd/yyyy",shortReverse:"YYYY-DD-MM",timeDate:"h:mma - DD MMM YYYY"}},window.Gecko.updateTimeFormats=function(dateFormat,timeFormat){if(dateFormat&&"g:i A"===timeFormat)for(var prop in dateFormat)dateFormat[prop]=dateFormat[prop].replace("HH:mm","h:mm A");return dateFormat},window.Gecko.countryCodes=[{id:0,name:"United Kingdom",iso2:"GB"},{id:1,name:"Afghanistan (â«Ø§ÙØºØ§ÙØ³ØªØ§Ùâ¬â)",iso2:"AF"},{id:2,name:"Albania (ShqipÃ«ri)",iso2:"AL"},{id:3,name:"Algeria (â«Ø§ÙØ¬Ø²Ø§Ø¦Ø±â¬â)",iso2:"DZ"},{id:4,name:"American Samoa",iso2:"AS"},{id:5,name:"Andorra",iso2:"AD"},{id:6,name:"Angola",iso2:"AO"},{id:7,name:"Anguilla",iso2:"AI"},{id:8,name:"Antigua and Barbuda",iso2:"AG"},{id:9,name:"Argentina",iso2:"AR"},{id:10,name:"Armenia (ÕÕ¡ÕµÕ¡Õ½Õ¿Õ¡Õ¶)",iso2:"AM"},{id:11,name:"Aruba",iso2:"AW"},{id:12,name:"Australia",iso2:"AU"},{id:13,name:"Austria (Ãsterreich)",iso2:"AT"},{id:14,name:"Azerbaijan (AzÉrbaycan)",iso2:"AZ"},{id:15,name:"Bahamas",iso2:"BS"},{id:16,name:"Bahrain (â«Ø§ÙØ¨Ø­Ø±ÙÙâ¬â)",iso2:"BH"},{id:17,name:"Bangladesh (à¦¬à¦¾à¦à¦²à¦¾à¦¦à§à¦¶)",iso2:"BD"},{id:18,name:"Barbados",iso2:"BB"},{id:19,name:"Belarus (ÐÐµÐ»Ð°ÑÑÑÑ)",iso2:"BY"},{id:20,name:"Belgium (BelgiÃ«)",iso2:"BE"},{id:21,name:"Belize",iso2:"BZ"},{id:22,name:"Benin (BÃ©nin)",iso2:"BJ"},{id:23,name:"Bermuda",iso2:"BM"},{id:24,name:"Bhutan (à½ à½à¾²à½´à½)",iso2:"BT"},{id:25,name:"Bolivia",iso2:"BO"},{id:26,name:"Bosnia and Herzegovina (ÐÐ¾ÑÐ½Ð° Ð¸ Ð¥ÐµÑÑÐµÐ³Ð¾Ð²Ð¸Ð½Ð°)",iso2:"BA"},{id:27,name:"Botswana",iso2:"BW"},{id:28,name:"Brazil (Brasil)",iso2:"BR"},{id:29,name:"British Indian Ocean Territory",iso2:"IO"},{id:30,name:"British Virgin Islands",iso2:"VG"},{id:31,name:"Brunei",iso2:"BN"},{id:32,name:"Bulgaria (ÐÑÐ»Ð³Ð°ÑÐ¸Ñ)",iso2:"BG"},{id:33,name:"Burkina Faso",iso2:"BF"},{id:34,name:"Burundi (Uburundi)",iso2:"BI"},{id:35,name:"Cambodia (ááááá»áá¶)",iso2:"KH"},{id:36,name:"Cameroon (Cameroun)",iso2:"CM"},{id:37,name:"Canada",iso2:"CA"},{id:38,name:"Cape Verde (Kabu Verdi)",iso2:"CV"},{id:39,name:"Caribbean Netherlands",iso2:"BQ"},{id:40,name:"Cayman Islands",iso2:"KY"},{id:41,name:"Central African Republic (RÃ©publique centrafricaine)",iso2:"CF"},{id:42,name:"Chad (Tchad)",iso2:"TD"},{id:43,name:"Chile",iso2:"CL"},{id:44,name:"China (ä¸­å½)",iso2:"CN"},{id:45,name:"Christmas Island",iso2:"CX"},{id:46,name:"Cocos (Keeling) Islands",iso2:"CC"},{id:47,name:"Colombia",iso2:"CO"},{id:48,name:"Comoros (â«Ø¬Ø²Ø± Ø§ÙÙÙØ±â¬â)",iso2:"KM"},{id:49,name:"Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)",iso2:"CD"},{id:50,name:"Congo (Republic) (Congo-Brazzaville)",iso2:"CG"},{id:51,name:"Cook Islands",iso2:"CK"},{id:52,name:"Costa Rica",iso2:"CR"},{id:53,name:"CÃ´te dâIvoire",iso2:"CI"},{id:54,name:"Croatia (Hrvatska)",iso2:"HR"},{id:55,name:"Cuba",iso2:"CU"},{id:56,name:"CuraÃ§ao",iso2:"CW"},{id:57,name:"Cyprus (ÎÏÏÏÎ¿Ï)",iso2:"CY"},{id:58,name:"Czech Republic (ÄeskÃ¡ republika)",iso2:"CZ"},{id:59,name:"Denmark (Danmark)",iso2:"DK"},{id:60,name:"Djibouti",iso2:"DJ"},{id:61,name:"Dominica",iso2:"DM"},{id:62,name:"Dominican Republic (RepÃºblica Dominicana)",iso2:"DO"},{id:63,name:"Ecuador",iso2:"EC"},{id:64,name:"Egypt (â«ÙØµØ±â¬â)",iso2:"EG"},{id:65,name:"El Salvador",iso2:"SV"},{id:66,name:"Equatorial Guinea (Guinea Ecuatorial)",iso2:"GQ"},{id:67,name:"Eritrea",iso2:"ER"},{id:68,name:"Estonia (Eesti)",iso2:"EE"},{id:69,name:"Ethiopia",iso2:"ET"},{id:70,name:"Falkland Islands (Islas Malvinas)",iso2:"FK"},{id:71,name:"Faroe Islands (FÃ¸royar)",iso2:"FO"},{id:72,name:"Fiji",iso2:"FJ"},{id:73,name:"Finland (Suomi)",iso2:"FI"},{id:74,name:"France",iso2:"FR"},{id:75,name:"French Guiana (Guyane franÃ§aise)",iso2:"GF"},{id:76,name:"French Polynesia (PolynÃ©sie franÃ§aise)",iso2:"PF"},{id:77,name:"Gabon",iso2:"GA"},{id:78,name:"Gambia",iso2:"GM"},{id:79,name:"Georgia (á¡áá¥áá ááááá)",iso2:"GE"},{id:80,name:"Germany (Deutschland)",iso2:"DE"},{id:81,name:"Ghana (Gaana)",iso2:"GH"},{id:82,name:"Gibraltar",iso2:"GI"},{id:83,name:"Greece (ÎÎ»Î»Î¬Î´Î±)",iso2:"GR"},{id:84,name:"Greenland (Kalaallit Nunaat)",iso2:"GL"},{id:85,name:"Grenada",iso2:"GD"},{id:86,name:"Guadeloupe",iso2:"GP"},{id:87,name:"Guam",iso2:"GU"},{id:88,name:"Guatemala",iso2:"GT"},{id:89,name:"Guernsey",iso2:"GG"},{id:90,name:"Guinea (GuinÃ©e)",iso2:"GN"},{id:91,name:"Guinea-Bissau (GuinÃ© Bissau)",iso2:"GW"},{id:92,name:"Guyana",iso2:"GY"},{id:93,name:"Haiti",iso2:"HT"},{id:94,name:"Honduras",iso2:"HN"},{id:95,name:"Hong Kong (é¦æ¸¯)",iso2:"HK"},{id:96,name:"Hungary (MagyarorszÃ¡g)",iso2:"HU"},{id:97,name:"Iceland (Ãsland)",iso2:"IS"},{id:98,name:"India (à¤­à¤¾à¤°à¤¤)",iso2:"IN"},{id:99,name:"Indonesia",iso2:"ID"},{id:100,name:"Iran (â«Ø§ÛØ±Ø§Ùâ¬â)",iso2:"IR"},{id:101,name:"Iraq (â«Ø§ÙØ¹Ø±Ø§Ùâ¬â)",iso2:"IQ"},{id:102,name:"Ireland",iso2:"IE"},{id:103,name:"Isle of Man",iso2:"IM"},{id:104,name:"Israel (â«××©×¨××â¬â)",iso2:"IL"},{id:105,name:"Italy (Italia)",iso2:"IT"},{id:106,name:"Jamaica",iso2:"JM"},{id:107,name:"Japan (æ¥æ¬)",iso2:"JP"},{id:108,name:"Jersey",iso2:"JE"},{id:109,name:"Jordan (â«Ø§ÙØ£Ø±Ø¯Ùâ¬â)",iso2:"JO"},{id:110,name:"Kazakhstan (ÐÐ°Ð·Ð°ÑÑÑÐ°Ð½)",iso2:"KZ"},{id:111,name:"Kenya",iso2:"KE"},{id:112,name:"Kiribati",iso2:"KI"},{id:113,name:"Kosovo",iso2:"XK"},{id:114,name:"Kuwait (â«Ø§ÙÙÙÙØªâ¬â)",iso2:"KW"},{id:115,name:"Kyrgyzstan (ÐÑÑÐ³ÑÐ·ÑÑÐ°Ð½)",iso2:"KG"},{id:116,name:"Laos (àº¥àº²àº§)",iso2:"LA"},{id:117,name:"Latvia (Latvija)",iso2:"LV"},{id:118,name:"Lebanon (â«ÙØ¨ÙØ§Ùâ¬â)",iso2:"LB"},{id:119,name:"Lesotho",iso2:"LS"},{id:120,name:"Liberia",iso2:"LR"},{id:121,name:"Libya (â«ÙÙØ¨ÙØ§â¬â)",iso2:"LY"},{id:122,name:"Liechtenstein",iso2:"LI"},{id:123,name:"Lithuania (Lietuva)",iso2:"LT"},{id:124,name:"Luxembourg",iso2:"LU"},{id:125,name:"Macau (æ¾³é)",iso2:"MO"},{id:126,name:"Macedonia (FYROM) (ÐÐ°ÐºÐµÐ´Ð¾Ð½Ð¸ÑÐ°)",iso2:"MK"},{id:127,name:"Madagascar (Madagasikara)",iso2:"MG"},{id:128,name:"Malawi",iso2:"MW"},{id:129,name:"Malaysia",iso2:"MY"},{id:130,name:"Maldives",iso2:"MV"},{id:131,name:"Mali",iso2:"ML"},{id:132,name:"Malta",iso2:"MT"},{id:133,name:"Marshall Islands",iso2:"MH"},{id:134,name:"Martinique",iso2:"MQ"},{id:135,name:"Mauritania (â«ÙÙØ±ÙØªØ§ÙÙØ§â¬â)",iso2:"MR"},{id:136,name:"Mauritius (Moris)",iso2:"MU"},{id:137,name:"Mayotte",iso2:"YT"},{id:138,name:"Mexico (MÃ©xico)",iso2:"MX"},{id:139,name:"Micronesia",iso2:"FM"},{id:140,name:"Moldova (Republica Moldova)",iso2:"MD"},{id:141,name:"Monaco",iso2:"MC"},{id:142,name:"Mongolia (ÐÐ¾Ð½Ð³Ð¾Ð»)",iso2:"MN"},{id:143,name:"Montenegro (Crna Gora)",iso2:"ME"},{id:144,name:"Montserrat",iso2:"MS"},{id:145,name:"Morocco (â«Ø§ÙÙØºØ±Ø¨â¬â)",iso2:"MA"},{id:146,name:"Mozambique (MoÃ§ambique)",iso2:"MZ"},{id:147,name:"Myanmar (Burma) (áá¼ááºáá¬)",iso2:"MM"},{id:148,name:"Namibia (NamibiÃ«)",iso2:"NA"},{id:149,name:"Nauru",iso2:"NR"},{id:150,name:"Nepal (à¤¨à¥à¤ªà¤¾à¤²)",iso2:"NP"},{id:151,name:"Netherlands (Nederland)",iso2:"NL"},{id:152,name:"New Caledonia (Nouvelle-CalÃ©donie)",iso2:"NC"},{id:153,name:"New Zealand",iso2:"NZ"},{id:154,name:"Nicaragua",iso2:"NI"},{id:155,name:"Niger (Nijar)",iso2:"NE"},{id:156,name:"Nigeria",iso2:"NG"},{id:157,name:"Niue",iso2:"NU"},{id:158,name:"Norfolk Island",iso2:"NF"},{id:159,name:"North Korea (ì¡°ì  ë¯¼ì£¼ì£¼ì ì¸ë¯¼ ê³µíêµ­)",iso2:"KP"},{id:160,name:"Northern Mariana Islands",iso2:"MP"},{id:161,name:"Norway (Norge)",iso2:"NO"},{id:162,name:"Oman (â«Ø¹ÙÙØ§Ùâ¬â)",iso2:"OM"},{id:163,name:"Pakistan (â«Ù¾Ø§Ú©Ø³ØªØ§Ùâ¬â)",iso2:"PK"},{id:164,name:"Palau",iso2:"PW"},{id:165,name:"Palestine (â«ÙÙØ³Ø·ÙÙâ¬â)",iso2:"PS"},{id:166,name:"Panama (PanamÃ¡)",iso2:"PA"},{id:167,name:"Papua New Guinea",iso2:"PG"},{id:168,name:"Paraguay",iso2:"PY"},{id:169,name:"Peru (PerÃº)",iso2:"PE"},{id:170,name:"Philippines",iso2:"PH"},{id:171,name:"Poland (Polska)",iso2:"PL"},{id:172,name:"Portugal",iso2:"PT"},{id:173,name:"Puerto Rico",iso2:"PR"},{id:174,name:"Qatar (â«ÙØ·Ø±â¬â)",iso2:"QA"},{id:175,name:"RÃ©union (La RÃ©union)",iso2:"RE"},{id:176,name:"Romania (RomÃ¢nia)",iso2:"RO"},{id:177,name:"Russia (Ð Ð¾ÑÑÐ¸Ñ)",iso2:"RU"},{id:178,name:"Rwanda",iso2:"RW"},{id:179,name:"Saint BarthÃ©lemy (Saint-BarthÃ©lemy)",iso2:"BL"},{id:180,name:"Saint Helena",iso2:"SH"},{id:181,name:"Saint Kitts and Nevis",iso2:"KN"},{id:182,name:"Saint Lucia",iso2:"LC"},{id:183,name:"Saint Martin (Saint-Martin (partie franÃ§aise))",iso2:"MF"},{id:184,name:"Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)",iso2:"PM"},{id:185,name:"Saint Vincent and the Grenadines",iso2:"VC"},{id:186,name:"Samoa",iso2:"WS"},{id:187,name:"San Marino",iso2:"SM"},{id:188,name:"SÃ£o TomÃ© and PrÃ­ncipe (SÃ£o TomÃ© e PrÃ­ncipe)",iso2:"ST"},{id:189,name:"Saudi Arabia (â«Ø§ÙÙÙÙÙØ© Ø§ÙØ¹Ø±Ø¨ÙØ© Ø§ÙØ³Ø¹ÙØ¯ÙØ©â¬â)",iso2:"SA"},{id:190,name:"Senegal (SÃ©nÃ©gal)",iso2:"SN"},{id:191,name:"Serbia (Ð¡ÑÐ±Ð¸ÑÐ°)",iso2:"RS"},{id:192,name:"Seychelles",iso2:"SC"},{id:193,name:"Sierra Leone",iso2:"SL"},{id:194,name:"Singapore",iso2:"SG"},{id:195,name:"Sint Maarten",iso2:"SX"},{id:196,name:"Slovakia (Slovensko)",iso2:"SK"},{id:197,name:"Slovenia (Slovenija)",iso2:"SI"},{id:198,name:"Solomon Islands",iso2:"SB"},{id:199,name:"Somalia (Soomaaliya)",iso2:"SO"},{id:200,name:"South Africa",iso2:"ZA"},{id:201,name:"South Korea (ëíë¯¼êµ­)",iso2:"KR"},{id:202,name:"South Sudan (â«Ø¬ÙÙØ¨ Ø§ÙØ³ÙØ¯Ø§Ùâ¬â)",iso2:"SS"},{id:203,name:"Spain (EspaÃ±a)",iso2:"ES"},{id:204,name:"Sri Lanka (à·à·âà¶»à· à¶½à¶à¶à·à·)",iso2:"LK"},{id:205,name:"Sudan (â«Ø§ÙØ³ÙØ¯Ø§Ùâ¬â)",iso2:"SD"},{id:206,name:"Suriname",iso2:"SR"},{id:207,name:"Svalbard and Jan Mayen",iso2:"SJ"},{id:208,name:"Swaziland",iso2:"SZ"},{id:209,name:"Sweden (Sverige)",iso2:"SE"},{id:210,name:"Switzerland (Schweiz)",iso2:"CH"},{id:211,name:"Syria (â«Ø³ÙØ±ÙØ§â¬â)",iso2:"SY"},{id:212,name:"Taiwan (å°ç£)",iso2:"TW"},{id:213,name:"Tajikistan",iso2:"TJ"},{id:214,name:"Tanzania",iso2:"TZ"},{id:215,name:"Thailand (à¹à¸à¸¢)",iso2:"TH"},{id:216,name:"Timor-Leste",iso2:"TL"},{id:217,name:"Togo",iso2:"TG"},{id:218,name:"Tokelau",iso2:"TK"},{id:219,name:"Tonga",iso2:"TO"},{id:220,name:"Trinidad and Tobago",iso2:"TT"},{id:221,name:"Tunisia (â«ØªÙÙØ³â¬â)",iso2:"TN"},{id:222,name:"Turkey (TÃ¼rkiye)",iso2:"TR"},{id:223,name:"Turkmenistan",iso2:"TM"},{id:224,name:"Turks and Caicos Islands",iso2:"TC"},{id:225,name:"Tuvalu",iso2:"TV"},{id:226,name:"U.S. Virgin Islands",iso2:"VI"},{id:227,name:"Uganda",iso2:"UG"},{id:228,name:"Ukraine (Ð£ÐºÑÐ°ÑÐ½Ð°)",iso2:"UA"},{id:229,name:"United Arab Emirates (â«Ø§ÙØ¥ÙØ§Ø±Ø§Øª Ø§ÙØ¹Ø±Ø¨ÙØ© Ø§ÙÙØªØ­Ø¯Ø©â¬â)",iso2:"AE"},{id:230,name:"United States",iso2:"US"},{id:231,name:"Uruguay",iso2:"UY"},{id:232,name:"Uzbekistan (OÊ»zbekiston)",iso2:"UZ"},{id:233,name:"Vanuatu",iso2:"VU"},{id:234,name:"Vatican City (CittÃ  del Vaticano)",iso2:"VA"},{id:235,name:"Venezuela",iso2:"VE"},{id:236,name:"Vietnam (Viá»t Nam)",iso2:"VN"},{id:237,name:"Wallis and Futuna",iso2:"WF"},{id:238,name:"Western Sahara (â«Ø§ÙØµØ­Ø±Ø§Ø¡ Ø§ÙØºØ±Ø¨ÙØ©â¬â)",iso2:"EH"},{id:239,name:"Yemen (â«Ø§ÙÙÙÙâ¬â)",iso2:"YE"},{id:240,name:"Zambia",iso2:"ZM"},{id:241,name:"Zimbabwe",iso2:"ZW"},{id:242,name:"Ãland Islands",iso2:"AX"}],window.Gecko.Event={},window.Gecko.Event.TYPE_EVENT=10,window.Gecko.Event.TYPE_SESSION=20,window.Gecko.Event.TYPE_SESSION_TIME=30,window.Gecko.Event.TYPE_EVENT_LEGACY=90,window.Gecko.Event.TYPE_SESSION_LEGACY=100,window.Gecko.Event.TYPE_SINGLE_EVENT=10,window.Gecko.Event.TYPE_SINGLE_SESSION=20,window.Gecko.Event.TYPE_MULTI_SESSION=30,window.Gecko.Event.DELIVERY_METHOD_VENUE="venue",window.Gecko.Event.DELIVERY_METHOD_ONLINE="online",window.Gecko.Event.DELIVERY_METHOD_HYBRID="hybrid",window.Gecko.Field={},window.Gecko.Field.TYPE_ADDRESS="address",window.Gecko.Field.TYPE_AUDIO="audio",window.Gecko.Field.TYPE_BUTTON="button",window.Gecko.Field.TYPE_CHECKBOX="checkbox",window.Gecko.Field.TYPE_COLOR="color",window.Gecko.Field.TYPE_CONSENT="consent",window.Gecko.Field.TYPE_COUNTRY="country",window.Gecko.Field.TYPE_DATE="date",window.Gecko.Field.TYPE_DATETIME="datetime",window.Gecko.Field.TYPE_DATERANGE="daterange",window.Gecko.Field.TYPE_DATESELECTOR="dateselector",window.Gecko.Field.TYPE_DURATION="duration",window.Gecko.Field.TYPE_EMAIL="email",window.Gecko.Field.TYPE_EVENT="event",window.Gecko.Field.TYPE_FILE="file",window.Gecko.Field.TYPE_FILEPICKER="filepicker",window.Gecko.Field.TYPE_HIDDEN="hidden",window.Gecko.Field.TYPE_LABEL="label",window.Gecko.Field.TYPE_LINK="link",window.Gecko.Field.TYPE_MATRIX="matrix",window.Gecko.Field.TYPE_MEDIA="media",window.Gecko.Field.TYPE_MULTI="multi",window.Gecko.Field.TYPE_NAME="name",window.Gecko.Field.TYPE_NOEDIT="noedit",window.Gecko.Field.TYPE_NUMBER="number",window.Gecko.Field.TYPE_ORGANISATION="organisation",window.Gecko.Field.TYPE_PAGEBREAK="pagebreak",window.Gecko.Field.TYPE_PASSWORD="password",window.Gecko.Field.TYPE_PANEL_OPTIONS="panel_options",window.Gecko.Field.TYPE_RADIO="radio",window.Gecko.Field.TYPE_REPEATABLE="repeatable",window.Gecko.Field.TYPE_RICHTEXT="richtext",window.Gecko.Field.TYPE_SCRIPT="script",window.Gecko.Field.TYPE_SECTION="section",window.Gecko.Field.TYPE_SELECT="select",window.Gecko.Field.TYPE_SIGNATURE="signature",window.Gecko.Field.TYPE_SCHEDULE="schedule",window.Gecko.Field.TYPE_SINGLE_NAME="single_name",window.Gecko.Field.TYPE_TAG_BUILDER="tag_builder",window.Gecko.Field.TYPE_TAGGER="tagger",window.Gecko.Field.TYPE_TEL="tel",window.Gecko.Field.TYPE_TEXT="text",window.Gecko.Field.TYPE_TEXTAREA="textarea",window.Gecko.Field.TYPE_TIERED_SELECT="tiered_select",window.Gecko.Field.TYPE_TIME="time",window.Gecko.Field.TYPE_TITLE="title",window.Gecko.Field.TYPE_TOGGLE="toggle",window.Gecko.Field.TYPE_URL="url",window.Gecko.Field.DATA_TYPE_STRING="string",window.Gecko.Field.DATA_TYPE_INTEGER="integer",window.Gecko.Field.DATA_TYPE_TIMESTAMP="timestamp",window.Gecko.Field.DATA_TYPE_JSON="json",window.Gecko.Field.DATA_TYPE_NONE="none",window.Gecko.Field.DATA_TYPE_CURRENCY="currency",{}),myApp=(GeckoUI.messenger={success:function(message){void 0!==message&&(new Messenger).post(message)},info:function(message){Messenger().post({message:GeckoUI.renderError(message),type:"info"})},error:function(errors){Messenger().post({message:GeckoUI.renderError(errors),type:"error"})}},GeckoUI.renderError=function(errors){errors=angular.copy(errors);return"string"==typeof errors&&0<errors.length?errors:errors instanceof Array&&0<errors.length?GeckoUI.renderError(errors[0]):errors instanceof Object&&errors.errors?GeckoUI.renderError(errors.errors):errors instanceof Object&&0<Object.keys(errors).length?GeckoUI.renderError(errors[Object.keys(errors)[0]]):"Sorry, there was an error. Please try again."},GeckoUI.dialog={vex:function(_vex){function vex(_x,_x2,_x3,_x4,_x5){return _vex.apply(this,arguments)}return vex.toString=function(){return _vex.toString()},vex}(function(type,message,callback,input,buttons){void 0!==message&&(message={className:"vex-theme-plain vex-theme-gecko",message:message},void 0!==input&&(message.input=input),void 0!==buttons&&(message.buttons=buttons),void 0!==callback&&(message.callback=callback),vex.dialog[type](message))}),alert:function(message){return GeckoUI.dialog.vex("alert",message)},confirm:function(message,callback){return GeckoUI.dialog.vex("confirm",message,callback)},confirmCustom:function(message,buttons,callback){for(var i=0;i<buttons.length;i++)vex.dialog.buttons[buttons[i].base]&&(buttons[i]=$.extend({},vex.dialog.buttons[buttons[i].base],buttons[i]));return GeckoUI.dialog.vex("confirm",message,callback,void 0,buttons)},prompt:function(message,callback,array,selectedIndex){var input;if(array){input='<select name="vex" class="form-control gecko-ui-material">',void 0===selectedIndex&&(input+='<option value="">Please select...</option>');for(var i=0;i<array.length;i++)input+=void 0!==selectedIndex&&i===selectedIndex?'<option selected value="'+array[i].value+'">'+array[i].label+"</option>":'<option value="'+array[i].value+'">'+array[i].label+"</option>";input+="</select>"}else input=void 0;return GeckoUI.dialog.vex("prompt",message,callback,input)},customButton:function(text,resultValue){return{text:text,type:"button",click:function($vexContent){return $vexContent.data().vex.value=resultValue,vex.close($vexContent.data().vex.id)}}}},GeckoUI.getObjectByKey=function(array,key,value){if(null!=array&&null!=key)for(var i=0;i<array.length;i++)if(void 0!==array[i][key]&&array[i][key]==value)return array[i];return!1},GeckoUI.gobk=GeckoUI.getObjectByKey,GeckoUI.getObjectArrayByKey=function(array,key,value){if(null==array||null==key)return!1;for(var _array=[],i=0;i<array.length;i++)void 0!==array[i][key]&&array[i][key]==value&&_array.push(array[i]);return _array},GeckoUI.goabk=GeckoUI.getObjectArrayByKey,GeckoUI.mapObjectArray=function(array,map,isFlat){for(var _array=[],i=0;i<array.length;i++){var prop,_obj={};for(prop in map)isFlat?_obj[prop]=array[i]:array[i][map[prop]]?_obj[prop]=array[i][map[prop]]:_obj[prop]=null;_array.push(_obj)}return _array},GeckoUI.getNestedObjectValue=function(obj,path){path=path.split(".");for(var val=obj,prop=0;prop<path.length;prop++){if(!val[path[prop]]){val="";break}val=val[path[prop]]}return val},GeckoUI.refreshOrder=function(array,pageOrder,orderProp){void 0!==array&&(pageOrder=void 0!==pageOrder?100*(pageOrder+1):0,orderProp=void 0===orderProp?"order":orderProp,angular.forEach(array,function(item,i){item[orderProp]=pageOrder+(i+1)}))},GeckoUI.removeItem=function(array,index){array.splice(index,1)},GeckoUI.getIdArray=function(array,key){var _array=[];return angular.forEach(array,function(item){_array.push(item[null!=key?key:"id"])}),_array},GeckoUI.getSingle=function(needle,haystack,key){var _return={};return key=key||"id",angular.forEach(haystack,function(value){needle==value[key]&&(_return=value)}),_return},GeckoUI.getField=function(array,id){try{var _field;if(void 0!==array&&void 0!==id)return-1!==String(id).indexOf("field:")&&(id=String(id).replace("field:","")),_field={},angular.forEach(array,function(field){id==field.id&&(_field=field)}),_field}catch(e){}},GeckoUI.getFieldOptions=function(array,id,field){return(field=field||GeckoUI.getField(array,id))?field.parent_id?GeckoUI.getParentFieldOptions(array,id,field):(field.option_id&&field.option?field.option:field).values:[]},GeckoUI.createNumberRange=function(start,end,step,options){for(var numbers=[],i=start;i<end;i+=step)options.displayFunc?numbers.push({value:i,display:options.displayFunc(i)}):numbers.push(i);return numbers},GeckoUI.roundToInterval=function(value,interval){return Math.round(value/interval)*interval},GeckoUI.padLeft=function(value,padChar,len){var sVal=String(value);if(len&&!(len<1))for(;sVal.length<len;)sVal=padChar+sVal;return sVal},GeckoUI.decomposeSeconds=function(seconds){var time={},seconds=(time.seconds=seconds%60,Math.floor(seconds/60)),seconds=(time.minutes=seconds%60,Math.floor(seconds/60));return time.hours=seconds%24,time.days=Math.floor(seconds/24),time},GeckoUI.composeSeconds=function(time){return 60*(60*(24*(time.days||0)+(time.hours||0))+(time.minutes||0))},GeckoUI.arrayToObjectByKey=function(array,key,valueKey){var obj=new Object(null);return array.forEach(function(val){obj[val[key]]=valueKey?val[valueKey]:val}),obj},GeckoUI.arrayToObjectKeys=function(array,defaultValue){defaultValue=void 0===defaultValue||defaultValue;var obj={};return angular.forEach(array,function(value){obj[value]=defaultValue}),obj},GeckoUI.objectKeysToArray=function(object){var array=[];return angular.forEach(object,function(value,key){value&&array.push(key)}),array},GeckoUI.wrapArray=function(value,defaultValue){return value?angular.isArray(value)?value:[value]:defaultValue||[]},GeckoUI.dedupeBy=function(array,key){function getValue(item,key){return 1===(key=key.split(".")).length?item[key[0]]:getValue(item[key.shift()],key.join("."))}var seenValues=[];return array.filter(function(item,index){var val;return"function"==typeof key&&(val=key(item,index,array)),"function"!=typeof key&&(val=getValue(item,key)),-1===seenValues.indexOf(val)&&(seenValues.push(val),!0)})},!function(){"use strict";var units=["Bytes","kB","MB","GB","TB","PB","EB","ZB","YB"];GeckoUI.humanizeBytes=function(value,precision){if(null==value||""===value)return"â";for(var unitPrefixIndex=0;1024<=value&&unitPrefixIndex<units.length-1;)value/=1024,unitPrefixIndex++;return value&&precision?value.toFixed(precision)+units[unitPrefixIndex]:value+units[unitPrefixIndex]}}(),GeckoUI.ableWithReason=function(ability){if(ability)return Gecko.able(ability)||GeckoUI.messenger.error(Gecko.unableReason(ability)),Gecko.able(ability);console.warn("Undefined ability used.")},GeckoUI.indexOf=function(findFunc){return function(array){for(var index=0;index<array.length;index++)if(findFunc(array[index],index,array))return index;return-1}},GeckoUI.findById=function(id){return function(thing){return thing.id===id}},GeckoUI.moveElement=function(array){return function(currentIndex,newIndex){var reOrderedArray=[].concat(array);return reOrderedArray.splice(newIndex,0,reOrderedArray.splice(currentIndex,1)[0]),reOrderedArray}},GeckoUI.accountTheme=function(){if(Gecko.account)return tinycolor(Gecko.account.color)},GeckoUI.cachedFunc=function(func){var cache={};return function(){var key=JSON.stringify(Array.prototype.slice.call(arguments));return void 0===cache[key]&&(cache[key]=func.apply(func,arguments)),cache[key]}},GeckoUI.getContrastColor=function(hexcolor){return hexcolor?(hexcolor=-1<hexcolor.indexOf("#")?hexcolor.replace("#",""):hexcolor,128<=(299*parseInt(hexcolor.substr(0,2),16)+587*parseInt(hexcolor.substr(2,2),16)+114*parseInt(hexcolor.substr(4,2),16))/1e3?"black":"white"):"white"},GeckoUI.getPageLimit=function(state){var config=JSON.parse(localStorage.getItem("gecko_pagination_limits_"+Gecko.account.routing_id)||"{}");return config&&config[state]?config[state]:Gecko.DEFAULT_PER_PAGE},GeckoUI.getRegion=function(){return Gecko.useNewAuth()&&window.TokenManager?window.TokenManager.getRegion():Gecko.token&&Gecko.token.region?Gecko.token.region:""},GeckoUI.getAppURL=function(target,path,regioned){return target?(path=path||"",regioned&&GeckoUI.getRegion()&&(target+="-"+GeckoUI.getRegion()),-1!==window.location.host.indexOf(".com")&&-1!==window.location.host.indexOf("beta")?"https://beta.geckoform.com"+path:-1!==window.location.host.indexOf(".com")?"https://"+target+".geckoform.com"+path:"http://"+((target="app"!=target&&"app-local"!=target?target:"")?target+".":"")+"localhost"+(window.location.port?":"+window.location.port:"")+path):""},GeckoUI.getDefaultPlaceholder=function(type){var defaults={};return defaults[Gecko.Field.TYPE_NAME]="First Name|Last Name",defaults[Gecko.Field.TYPE_EMAIL]="your.name@company.com",defaults[Gecko.Field.TYPE_NUMBER]="e.g. 123",defaults[Gecko.Field.TYPE_URL]="www.example.com",defaults[type]},GeckoUI.reduceObject=function(reduceFunc,initialVal){return function(object){return Object.keys(object).reduce(function(reduction,key,index,keys){var item=object[key];return reduceFunc(reduction,item,key,index,keys,object)},initialVal)}},GeckoUI.mapObject=function(mapFunc){return function(object){return GeckoUI.reduceObject(function(reduction,item,key,index,keys,object){return reduction[key]=mapFunc(item,key,index,keys,object),reduction},{})(object)}},GeckoUI.triggerIntercomEvent=function(evt,meta){try{meta&&(meta.timestamp=String(new Date)),window.Intercom("trackEvent",evt,meta||{})}catch(e){}},GeckoUI.curry=function(fx){var arity=fx.length;return function f1(){var args=Array.prototype.slice.call(arguments,0);return args.length>=arity?fx.apply(null,args):function(){var args2=Array.prototype.slice.call(arguments,0);return f1.apply(null,args.concat(args2))}}},GeckoUI.serialize=function(params){var key,_params="";for(key in params)""!=_params&&(_params+="&"),_params+=key+"="+encodeURIComponent(params[key]);return _params},GeckoUI.prepareSyncsData=function(syncs,fields,values){return!!(Array.isArray(syncs)&&syncs.length&&Array.isArray(fields)&&values)&&(syncs.filter(function(sync){if(sync.third_party_id&&sync.related_integration&&"consents"!=sync.related_type)return values[sync.related_integration.title_with_date+"_id"]=sync.third_party_id,fields.push({label:sync.related_integration.title_with_date.charAt(0).toUpperCase()+sync.related_integration.title_with_date.slice(1)+" ID",key:sync.related_integration.title_with_date+"_id",type:Gecko.Field.TYPE_NOEDIT,noEdit:!0}),sync}),values)},GeckoUI.fixGmtTimezone=function(timezone){return-1!==timezone.indexOf("Etc/GMT+")?timezone.replace("+","-"):-1!==timezone.indexOf("Etc/GMT-")?timezone.replace("-","+"):timezone},GeckoUI.prepareNameClass=function(prefix,string){return void 0===string?"":(prefix+"-"+string).replace(new RegExp("fa-","g"),"").replace(new RegExp(" ","g"),"-").toLowerCase()},GeckoUI.prepareIndexClass=function(prefix,index){return void 0===index?"":(prefix+"-"+index).replace(new RegExp("fa-","g"),"").replace(new RegExp(" ","g"),"-").toLowerCase()},GeckoUI.loadExternalScript=function(url,callback){try{setTimeout(function(){var script=document.createElement("script");callback&&(script.onload=callback),script.src=url,document.head.appendChild(script)})}catch(e){}},GeckoUI.generateUuid=function(){for(var random,uuid="",i=0;i<32;i++)random=16*Math.random()|0,8!=i&&12!=i&&16!=i&&20!=i||(uuid+="-"),uuid+=(12==i?4:16==i?3&random|8:random).toString(16);return uuid},GeckoUI.htmlHasContent=function(html){return-1!==(html=html||"").indexOf("img")||-1!==html.indexOf("svg")||!!(html||"").replace(/(<([^>]+)>)/gi,"")},angular.module("myApp",["ngRoute","controllers","directives","filters","GeckoEngage","localytics.directives","bDatepicker","internationalPhoneNumber","GeckoEngageTemplatesPublic","selectize"])),bootPolyfills=(angular.module("controllers",[]),angular.module("directives",[]),angular.module("filters",[]),angular.module("GeckoEngage",[]),myApp.config(["$routeProvider",function($routeProvider){$routeProvider.when("/form/:uuid",{controller:"PublicFormCtrl",templateUrl:"/public/views/form.587b4a93.html"}).when("/modern/:uuid",{controller:"PublicFormCtrl",templateUrl:"/public/views/modern.1c2ae9bf.html"}).when("/iframe/:uuid",{controller:"PublicFormCtrl",templateUrl:"/public/views/iframe.41330843.html"}).when("/rsvp/:account_uuid/:contact_id/:event_id",{controller:"RsvpCtrl",controllerAs:"ctrl",templateUrl:"/public/js/modules/rsvp/views/view.39655473.html"}).when("/events-embed",{controller:"EventsEmbedCtrl",controllerAs:"ctrl",templateUrl:"/public/js/modules/events-embed/views/hosted.cb3b4652.html"}).when("/events-embed/iframe",{controller:"EventsEmbedIframeCtrl",controllerAs:"ctrl",templateUrl:"/public/js/modules/events-embed/views/iframe.c1db71ef.html"}).otherwise({controller:"DefaultCtrl",templateUrl:"/public/views/default.a4b2b8c6.html"})}]),angular.module("myApp").run(function($rootScope,$location){$rootScope.pagetitle=""}),myApp.value("Countries",["Afghanistan","Albania","Algeria","Andorra","Angola","Antarctica","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burma","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo, Democratic Republic","Congo, Republic of the","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Greenland","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Korea, North","Korea, South","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Mongolia","Morocco","Monaco","Mozambique","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","Norway","Oman","Pakistan","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Samoa","San Marino"," Sao Tome","Saudi Arabia","Senegal","Serbia and Montenegro","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","Spain","Sri Lanka","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"]),function(cb){var element=document.createElement("script");element.crossorigin="anonymous",element.src="https://polyfill.io/v3/polyfill.min.js?features=default%2Cfetch%2CPromise",cb&&(element.onload=cb),document.head.appendChild(element)}),bootXdomain=function(cb){try{var xDomainScript=document.createElement("script");xDomainScript.onload=function(){function getUrlVars(){var vars={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(m,key,value){vars[key]=value});return vars}referer=void 0!==getUrlVars().referer&&0<getUrlVars().referer.length?getUrlVars().referer:document.referrer,xdomain.slaves({"https://api.geckoform.com":"/proxy.html?referer="+referer}),cb()},xDomainScript.src="https://api.geckoform.com/xdomain.min.js",document.head.appendChild(xDomainScript)}catch(e){console.log(e)}},bootApp=function(){try{angular.element(document).ready(function(){angular.bootstrap(document,["myApp"])})}catch(e){}},_typeof=(window.Promise&&window.fetch&&!window.navigator.msPointerEnabled?bootApp():(_bootApp=window.navigator.msPointerEnabled?function(){return bootXdomain(bootApp)}:function(){return bootApp()},window.Promise&&window.fetch?_bootApp():bootPolyfills(_bootApp)),Messenger&&(Messenger.options={extraClasses:"messenger-fixed messenger-on-bottom",theme:"flat",messageDefaults:{type:"success",showCloseButton:!0,hideAfter:5,hideOnNavigate:!0}}),!function(){"use strict";angular.module("filters").filter("linkify",function(){var replacePattern1=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,replacePattern2=/(^|[^\/])(www\.[\S]+(\b|$))/gim,replacePattern3=/([-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?)/gim;return function(text,target,otherProp){if(text)return text=(text=(text=text.replace(replacePattern1,'<a href="$1" target="_blank">$1</a>')).replace(replacePattern2,'$1<a href="http://$2" target="_blank">$2</a>')).replace(replacePattern3,'<a href="mailto:$1">$1</a>')}}).filter("formatDate",function($filter){return function(date,format,utc){format=format||(Gecko.dateFormat&&Gecko.dateFormat.longTime?Gecko.dateFormat.longTime:"MMM Do YYYY [at] HH:mm");return utc?date?moment.utc(date,"X").format(format):"":date?moment(date,"X").format(format):""}}).filter("explode",function(){return function(input,splitChar,splitIndex,defaultResponse){return input?input.split(splitChar)[splitIndex]:defaultResponse}})}(),!function(){"use strict";function prepareLabelText(label,postfix){return(label="form_"+(label||"")+(postfix?" "+postfix:"")).replace(new RegExp(" ","g"),"_")}function fixChosenOpeningDirection($element){var element=$($element);element.on("chosen:showing_dropdown",function(){var container=element.find(".chosen-drop");$(window).height()+$("html").scrollTop()<container.height()+Math.ceil(container.offset().top)&&container.addClass("chosen-drop-up")}),element.on("chosen:hiding_dropdown",function(){element.find(".chosen-drop").removeClass("chosen-drop-up")})}angular.module("directives").directive("geckoForm",function(){return{controller:function($scope){$scope.prepareLabelText=prepareLabelText},scope:!1,restrict:"A",templateUrl:"/public/views/_partials/geckoform.cfbf7b10.html"}}).directive("addressSearch",function(){return{controller:function($scope,Countries,isMobileDevice,$rootScope){$scope.shouldBeChosen=!isMobileDevice(),$scope.prepareLabelText=prepareLabelText,$scope.field.settings&&1===Number($scope.field.settings.auto_populate)&&$scope.field.settings.auto_populate_key?$scope.addressSearchEnabled=!0:$scope.addressSearchEnabled=!1;function placeholder(index,fallback){return(index=($scope.field.placeholder||"").split("|")[index])||(fallback?$rootScope.__(fallback):"")}function convertOptions(options){var _options;if("[]"!=options)return _options=[],angular.forEach(options,function(value){_options.push(value.value)}),_options}if($scope.placeholders={street_address:placeholder(0,$rootScope.STR_KEY.INPUT.ADDRESS_STREET),address_line_2:placeholder(1,$rootScope.STR_KEY.INPUT.ADDRESS_LINE_2),city:placeholder(2,$rootScope.STR_KEY.INPUT.ADDRESS_CITY),region:placeholder(3,$rootScope.STR_KEY.INPUT.ADDRESS_REGION),postal_code:placeholder(4,$rootScope.STR_KEY.INPUT.ADDRESS_POSTCODE),country:placeholder(5,$rootScope.STR_KEY.INPUT.ADDRESS_COUNTRY)},$scope.pickCountry=function(){var value,regions;$scope.field.option&&$scope.field.option.values&&((value=$scope.values[$scope.field.id].country)&&(regions=$scope.field.option.values.find(function(v){return v.value==value})).options&&regions.options.length?$scope.addressRegions=convertOptions(regions.options):($scope.addressRegions=!1,$scope.values[$scope.field.id].state=""))},$scope.addressCountries=[],setTimeout(function(){0!==$scope.field.option_id&&null!==$scope.field.option_id&&$scope.field.option&&$scope.field.option.values?$scope.addressCountries=convertOptions($scope.field.option.values):$scope.addressCountries=Countries,$scope.pickCountry(),$scope.$digest()}),$scope.addressSearchEnabled)try{var script,link,bootPostcodeLookup=function(){if(window.pca){var fields=[{element:$scope.field.id+"_address_search",field:"",mode:pca.fieldMode.SEARCH}];try{var control=new pca.Address(fields,{key:$scope.field.settings.auto_populate_key});control.load(),control.listen("populate",function(address){$scope.values[$scope.field.id].street_address=address.Line1,$scope.values[$scope.field.id].address_line_2=address.Line2,$scope.values[$scope.field.id].city=address.City,$scope.values[$scope.field.id].state=address.Province,$scope.values[$scope.field.id].postal_code=address.PostalCode,$scope.values[$scope.field.id].country=address.CountryName,$scope.$digest()})}catch(err){}}};window.pca?bootPostcodeLookup():((script=document.createElement("script")).src="https://services.postcodeanywhere.co.uk/js/captureplus-2.30.min.js?key={$scope.field.settings.auto_populate_key}",script.type="text/javascript",script.onload=bootPostcodeLookup,document.getElementsByTagName("head")[0].appendChild(script),(link=document.createElement("link")).href="https://services.postcodeanywhere.co.uk/css/captureplus-2.30.min.css?key={$scope.field.settings.auto_populate_key}",link.type="text/css",link.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(link))}catch(err){console.log(err)}$scope.focusChoosen=function(selector){try{$scope.shouldBeChosen&&$(selector).trigger("chosen:activate")}catch(err){}},$scope.isRequired=function(){var values=$scope.values[$scope.field.id]||{};return!(!$scope.field.required&&!Object.keys(values).filter(function(key){return values[key]}).length)}},scope:!1,restrict:"A",templateUrl:"/public/views/_fields/address.03fdf126.html"}}).directive("multiSelectField",function(){return{scope:{field:"=",value:"=",fieldOptions:"="},restrict:"E",template:'\n                            <div class="select-wrapper" ng-show="!isMobile">\n                                <select\n                                    chosen="{width : \'100%\', inherit_select_classes: true}"\n                                    make-chosen-accessible\n                                    multiple\n                                    id="form_{{field.id}}"\n                                    class="form-control"\n                                    ng-model="value"\n                                    ng-options="option.value as option.value for option in getOptions()">\n                                </select>\n                            </div>\n                            <div class="select-wrapper" ng-show="isMobile">\n                                <select\n                                    aria-labelledby="form_{{field.id}}_label"\n                                    multiple\n                                    class="form-control"\n                                    aria-label="{{field.label}}"\n                                    ng-model="value"\n                                    ng-options="option.value as option.value for option in getOptions()">\n                                </select>\n                            <div>\n                        ',controller:function($scope,$element,geckoTranslateService,isMobileDevice){$scope.isMobile=isMobileDevice(),geckoTranslateService.prepare($scope),$element.find("select").attr("data-placeholder",$scope.field.placeholder||$scope.__($scope.STR_KEY.INPUT.DROPDOWN)),$scope.getOptions=function(){return $scope.field.parent_id&&$scope.fieldOptions[$scope.field.id]?$scope.fieldOptions[$scope.field.id].map(function(option){return option.value}):$scope.field.parent_id?[]:$scope.field.option?$scope.field.option.values||[]:$scope.field.values},$scope.opts=$scope.getOptions(),fixChosenOpeningDirection($element)}}}).directive("selectField",function(){return{controller:function($scope,$routeParams,geckoTranslateService,$element,isMobileDevice){$scope.shouldBeChosen=!isMobileDevice(),geckoTranslateService.prepare($scope),$scope.convertOptions=function(options){if("[]"!=options)return(options||[]).filter(function(option){return!option.hidden}).map(function(value,index){return $routeParams[$scope.field.tag]==value.value&&($scope.selectedValue[$scope.field.id]=index),{index:index,value:value}})},$scope.field.parent_id?($scope.fieldOptions[$scope.field.id]=$scope.convertOptions($scope.fieldOptions[$scope.field.id]),1===$scope.fieldOptions[$scope.field.id].length&&($scope.selectedValue[$scope.field.id]=0,$scope.values[$scope.field.id]=$scope.fieldOptions[$scope.field.id][0].value.value)):null!==$scope.field.option_id&&void 0!==$scope.field.option?$scope.fieldOptions[$scope.field.id]=$scope.convertOptions($scope.field.option.values):$scope.fieldOptions[$scope.field.id]=$scope.convertOptions($scope.field.values),($scope.field.children||[]).length&&function loadChildOptions(parentID){($scope.getChildFields(parentID)||[]).forEach(function(childID){try{$scope.fieldOptions[parentID]&&$scope.fieldOptions[parentID][$scope.selectedValue[parentID]]&&($scope.fieldOptions[childID]=$scope.fieldOptions[parentID][$scope.selectedValue[parentID]].value.options||[]),0<$scope.getChildFields(childID).length&&loadChildOptions(childID)}catch(e){console.log(e)}})}($scope.field.id),$scope.updateValue=function(){void 0!==$scope.fieldOptions[$scope.field.id][$scope.selectedValue[$scope.field.id]]?(void 0!==$scope.field.children&&0<$scope.field.children.length&&(void 0!==$scope.fieldOptions[$scope.field.id][$scope.selectedValue[$scope.field.id]].value.options?function setChildOptions(parentID){angular.forEach($scope.getChildFields(parentID),function(childID){$scope.fieldOptions[childID]=$scope.fieldOptions[parentID][$scope.selectedValue[parentID]]?$scope.convertOptions($scope.fieldOptions[parentID][$scope.selectedValue[parentID]].value.options):[],angular.element("#field"+childID).show(),1===$scope.fieldOptions[childID].length?($scope.values[childID]=$scope.fieldOptions[childID][0].value.value,$scope.selectedValue[childID]=0):(0===$scope.fieldOptions[childID].length&&($scope.fieldOptions[childID]=[]),$scope.values[childID]="",$scope.selectedValue[childID]=""),0<$scope.getChildFields(childID).length&&setChildOptions(childID)})}($scope.field.id):($scope.values[$scope.field.id]="",$scope.field.children.length&&angular.forEach($scope.getOptionMap($scope.field.id),function(childID){$scope.values[childID]="",$scope.selectedValue[childID]="",$scope.fieldOptions[childID]=[]}))),$scope.values[$scope.field.id]=$scope.fieldOptions[$scope.field.id][$scope.selectedValue[$scope.field.id]].value.value):($scope.values[$scope.field.id]="",$scope.field.children.length&&angular.forEach($scope.getOptionMap($scope.field.id),function(childID){$scope.values[childID]="",$scope.selectedValue[childID]="",$scope.fieldOptions[childID]=[]}))},$scope.getField=function($id){if(void 0===$id)return!1;var _field={};return angular.forEach($scope.form.related_fields,function(field){$id===field.id&&(_field=field)}),_field},fixChosenOpeningDirection($element)},scope:!1,restrict:"A",templateUrl:"/public/views/_fields/select.1d2fd4ba.html"}}).directive("enquirytitle",["$rootScope",function(){return{restrict:"A",link:function(){},template:"{{pagetitle}}"}}]).directive("optionsDisabled",function($parse){function disableOptions(scope,attr,element,data,fnDisableIfTrue){for(var options=element.find("option"),pos=0,index=0;pos<options.length;pos++){var locals,elem=angular.element(options[pos]);""!=elem.val()&&((locals={})[attr]=data[index],elem.attr("disabled",fnDisableIfTrue(scope,locals)),index++)}}return{priority:0,require:"ngModel",link:function(scope,iElement,iAttrs,ctrl){var expElements=iAttrs.optionsDisabled.match(/^\s*(.+)\s+for\s+(.+)\s+in\s+(.+)?\s*/),attrToWatch=expElements[3],fnDisableIfTrue=$parse(expElements[1]);scope.$watch(attrToWatch,function(newValue,oldValue){newValue&&disableOptions(scope,expElements[2],iElement,newValue,fnDisableIfTrue)},!0),scope.$watch(iAttrs.ngModel,function(newValue,oldValue){var disOptions=$parse(attrToWatch)(scope);newValue&&disableOptions(scope,expElements[2],iElement,disOptions,fnDisableIfTrue)})}}}),angular.module("bDatepicker",[]).directive("bDatepicker",function(){return{require:"?ngModel",restrict:"A",scope:{availableDates:"="},link:function($scope,element,attrs,controller){function isAvailableDate(date){return!attrs.availableDates||!(prepareTimestamp(new Date)>date)&&-1!==$scope.availableDates.indexOf(date)}function removeErrorAlert(){element.parent().removeClass("has-error"),element.parent().find("> div").first().html("")}var updateModel,isDateCorrectFormat,isDateInvalid,onfocus,onblur,momentFormat=Gecko.dateFormat.short,pickerFormat=(momentFormat.slice(0,-2),Gecko.dateFormat.datepicker),prepareTimestamp=(GeckoUI.fixGmtTimezone(Gecko.account.timezone),function(date,format){return moment.utc(date,format).startOf("day").format("X")});return null!==controller&&(updateModel=function(event){isDateCorrectFormat(event.currentTarget.value)&&element.blur()},isDateCorrectFormat=function(date){if(3!==date.toString().split("/").length)return!1},isDateInvalid=function(unixDate){return"Invalid date"===unixDate||Number(unixDate)<-30610224e3},onfocus=function(){1<element.parent().find("> div").length&&element.parent().find("> div").first().remove()},onblur=function(){setTimeout(function(){var date=element.val();return $scope.$apply(function(){var unixDate=function(input){if(input.length<6)return element.val(""),"";var unixDate=prepareTimestamp(input,momentFormat);return isDateInvalid(unixDate)&&(unixDate=prepareTimestamp(input,momentFormat),isDateInvalid(unixDate))?(element.val(""),""):unixDate}(date);if(""===date||""===unixDate||!isAvailableDate(unixDate))return""!==date||""!==unixDate?(element.parent().addClass("has-error"),element.parent().find("> div").first().attr({role:"alert","aria-live":"assertive"}).html("Error, select a valid date value.")):removeErrorAlert(),controller.$setViewValue(null);controller.$setViewValue(unixDate),removeErrorAlert(),element[0].value=moment.utc(1e3*unixDate).format(momentFormat)})},200)},controller.$render=function(){var date=controller.$viewValue;return(date=date&&-1===String(controller.$viewValue).indexOf("/")?moment.utc(1e3*date).format(momentFormat):date)&&(element.datepicker("setValue",date),element.datepicker("update")),controller.$viewValue}),attrs.$observe("bdatepicker",function(){var todaysDate,defaultDate,options={format:pickerFormat,orientation:"bottom",keyboardNavigation:!1,autoclose:!0};attrs.availableDates&&(options.beforeShowDay=function(date){return date=moment.utc(date.getDate()+"/"+(date.getMonth()+1)+"/"+date.getFullYear(),"DD/MM/YYYY").format("X"),isAvailableDate(date)?{enabled:!0,classes:"enabled-date"}:{enabled:!1,classes:"disabled",tooltip:"There are no available Events on this day"}},$scope.availableDates.length&&(todaysDate=moment.utc().startOf("day").format("X"),(!$scope.availableDates||(defaultDate=moment.utc($scope.availableDates[0],"X").startOf("day"))<todaysDate)&&(defaultDate=todaysDate),defaultDate=moment.utc($scope.availableDates[0],"X"),options.defaultViewDate={year:defaultDate.year(),month:defaultDate.month(),day:defaultDate.day()})),element.datepicker(options).on("changeDate",updateModel).on("blur",onblur).on("focus",onfocus),element.removeAttr("aria-owns")})}}})}(),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}),_typeof=(!function(){"use strict";angular.module("controllers").controller("DefaultCtrl",["$scope","$rootScope","$routeParams",function($scope,$rootScope){$scope.form_errors=["Please authenticate to access this endpoint."],$rootScope.pagetitle="Error - Gecko"}]).controller("PublicFormCtrl",function($scope,$rootScope,$routeParams,$timeout,$location,Countries,updateIframeHeight,updateIframePos,updateModalPos,geckoTranslateService,requestService,apiService,env,isMobileDevice,eventFieldService,formSuccessRedirectService,formValidationService,gaService,utmService,cleanUuid,isScriptEmbed,postMessageService){$scope.GeckoUI=GeckoUI,$scope.shouldBeChosen=function(){return!isMobileDevice()};function scrollToTop(){window.scrollTo(0,0),updateIframePos()}isScriptEmbed()&&(document.body.style.backgroundColor="transparent",$scope.$watch(function(){return $("body > .container-fluid").height()},updateIframeHeight),window.addEventListener("orientationchange",updateIframeHeight),window.addEventListener("resize",updateIframeHeight)),apiService.geo.get().then(function(res){Gecko.geo=res.geoip||{}}).catch(function(err){return console.log(err)});var updateIframeHeight=cleanUuid($routeParams.uuid),disableButton=($scope.currentPage=0,$scope.values=[],$scope.countries=Countries,$scope.arrayValues=[],$scope.files=[],$scope.saveDisabled=!1,$scope.base_url=requestService.base(),$scope.response={uuid:updateIframeHeight,fields:{},event_id:$routeParams.event_id||null,user_id:$routeParams.user_id||null,contact_id:$routeParams.contact_id||null},$scope.selectedValue=[],$scope.fieldOptions=[],$scope.hideLoadingIndicator=!0,$scope.related_conditions=[],$scope.scrollToFieldErrorFn=function(id){var fieldId,pageId;"string"==typeof id&&(fieldId=Number(id.replace("field","")),pageId=(($scope.form.related_fields||[]).find(function(f){return f.id===fieldId})||{}).page_id,pageId=$scope.form.related_pages.map(function(p){return p.id}).indexOf(pageId),$scope.changePage(pageId).then(function(){return function(fieldId){fieldId=document.getElementById(fieldId).getBoundingClientRect().top+window.pageYOffset;window.scrollTo(0,fieldId),updateIframePos(fieldId)}(id)}))},utmService.setUtmParams(),$scope.hasPast=!1,$scope.hasExpired=!1,$scope.$watch("currentPage",function(){$scope.form&&$scope.form.related_pages&&($scope.progress=Math.round(100/$scope.form.related_pages.length*$scope.currentPage))}),$scope.updateFn=function(id,value){$scope.values[id]=value,$scope.$digest()},apiService.form.get(updateIframeHeight,$routeParams.efid).then(function(res){var windowWidth,_modernLogoImg,conditions,res=res.form;return geckoTranslateService.init(res.language,res.translation),geckoTranslateService.prepare($rootScope),Gecko.dateFormat=function(format){if(Gecko.geo)switch(Gecko.geo.country_code){case"GB":return Gecko.DATE_FORMATS["d/m/Y"];case"US":case"CA":case"PH":case"BZ":return Gecko.DATE_FORMATS["m/d/Y"]}return format?Gecko.DATE_FORMATS[format]:Gecko.DATE_FORMATS["d/m/Y"]}(res.related_account.short_date_format),Gecko.dateFormat=Gecko.updateTimeFormats(Gecko.dateFormat,res.related_account.time_format),Gecko.account=res.related_account,$scope.form=res,-1!==window.location.href.indexOf("modern")&&(windowWidth=Math.floor(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth),_modernLogoImg=$scope.form.logo_image||Gecko.account.header_logo,$scope.modernLogoImg=_modernLogoImg?_modernLogoImg+"?w=200":"",$scope.modernBgImg=($scope.form.header_image||Gecko.account.header_bg||"/images/default-header.8c7f716e.png")+"?w="+windowWidth,$scope.modernBgColor=$scope.form.color||Gecko.account.color||"#2C3E50",$scope.modernTxtColor=GeckoUI.getContrastColor($scope.modernBgColor),$scope.modernContainerStyles={backgroundColor:$scope.modernBgColor,backgroundImage:"url("+$scope.modernBgImg+")"}),$scope.form.related_fields=$scope.form.related_pages.reduce(function(arr,page){return arr.concat(page.related_fields)},[]),$scope.$digest(),function(chat_channel_id){try{var stage_override,_env,embed_script,script_text,src_script;-1!==window.location.href.indexOf("modern")&&chat_channel_id&&(stage_override="","stage"!=(_env=env())&&"local"!=_env||(stage_override="\n                                api_override: 'https://api-stage.geckochat.io',\n                                router_override: 'https://router-stage.geckochat.io',\n                            "),embed_script=document.createElement("script"),script_text=document.createTextNode("\n                            window.GeckoChatSettings = {\n                                account_id: '"+chat_channel_id+"',\n                                auto_boot: true,\n                                "+stage_override+"\n                            };\n                        "),embed_script.appendChild(script_text),document.head.appendChild(embed_script),(src_script=document.createElement("script")).src="https://embed.geckochat.io",document.head.appendChild(src_script))}catch(e){console.error(e)}}(res.chat_channel_id),$scope.hasPast=!!$scope.form.related_event&&$scope.form.related_event.finished,$scope.hasExpired=$scope.form.expired,isScriptEmbed()?(postMessageService.addListener(function(evt){void 0!==evt.data.gaClientId&&gaService.ga.boot($scope.form,evt.data.gaClientId)}),postMessageService.trigger({getGaClientId:!0})):gaService.ga.boot($scope.form),$scope.progress=Math.round(100/$scope.form.related_pages.length*$scope.currentPage),$scope.related_conditions=(_modernLogoImg=$scope.form.related_conditions,conditions={},angular.forEach(_modernLogoImg,function(item){item.field_id&&(conditions["field"+item.field_id]?conditions["field"+item.field_id].conditions.push({dependency_id:item.dependency_id,type:item.type,value:item.value}):conditions["field"+item.field_id]={id:item.field_id,conditions:[{dependency_id:item.dependency_id,type:item.type,value:item.value}]})}),conditions),$rootScope.$apply(function(){$rootScope.pagetitle=$scope.form.name+" | "+$scope.form.related_account.name}),$scope.form.full&&($scope.hideLoadingIndicator=!0,$scope.saveDisabled=!1,$scope.errors=!1,$scope.success=$scope.form.full_message||$rootScope.__($rootScope.STR_KEY.ALERT.MAXIMUM_ENTRIES_ALLOWED),$scope.isFull=!0,window.scrollTo(0,0),$scope.$apply()),angular.forEach($scope.form.related_fields,function(field){function isEmailVerify(field){return"email"==field.type&&field.settings&&field.settings.verify_email}field.order=Number(field.order);var buildCheckboxValues,_defaultValues=$routeParams[field.tag]?String($routeParams[field.tag]).split("|"):[];$routeParams[field.tag]&&field.data_type!=Gecko.Field.DATA_TYPE_JSON&&-1===["event"].indexOf(field.type)&&!isEmailVerify(field)?"integer"===field.data_type?$scope.values[field.id]=Number($routeParams[field.tag]):$scope.values[field.id]=$routeParams[field.tag]:"hidden"===field.type&&field.value?$scope.values[field.id]=field.value:"tel"===field.type?$scope.values[field.id]={original:$routeParams[field.tag],number:$routeParams[field.tag],country_code:Gecko.geo&&(Gecko.geo||{}).country_code?Gecko.geo.country_code:Gecko.account.default_country}:isEmailVerify(field)?$routeParams[field.tag]?$scope.values[field.id]=[$routeParams[field.tag],""]:$scope.values[field.id]=["",""]:"address"==field.type?$scope.values[field.id]={street_address:_defaultValues[0]||"",address_line_2:_defaultValues[1]||"",city:_defaultValues[2]||"",state:_defaultValues[3]||"",postal_code:_defaultValues[4]||"",country:_defaultValues[5]||""}:"name"==field.type?$scope.values[field.id]={first_name:_defaultValues[0]||"",last_name:_defaultValues[1]||""}:"checkbox"==field.type?($scope.arrayValues[field.id]=[],$scope.values[field.id]=[],buildCheckboxValues=function(value,index){-1<_defaultValues.indexOf(value.value)?($scope.values[field.id][index]=value.value,$scope.arrayValues[field.id][index]=!0):$scope.arrayValues[field.id][index]=!1},field.option&&0<field.option.values.length&&"checkbox"==field.type?field.option.values.forEach(function(value,index){buildCheckboxValues(value,index)}):field.values&&0<field.values.length&&"checkbox"==field.type&&field.values.forEach(function(value,index){buildCheckboxValues(value,index)})):"multi"===field.type&&$routeParams[field.tag]&&_defaultValues.length?$scope.values[field.id]=_defaultValues:"event"!==field.type&&"repeatable"!=field.type&&("file"==field.type?$scope.values[field.id]=[]:$scope.values[field.id]=$scope.values[field.id]||""),field.option&&(field.option.values||[]).length&&(field.option.values=field.option.values.filter(function(option){return!option.hidden})),$scope.$apply()}),res}).then(function(form){var key;key=form.captcha_key,form=form.protected,key&&form&&((form=document.createElement("script")).crossorigin="anonymous",form.src="https://www.recaptcha.net/recaptcha/api.js?render="+key,form.async=!0,document.head.appendChild(form))}).catch(function(err){$scope.form_errors=GeckoUI.wrapArray(err.message),$scope.$apply(),$rootScope.$apply(function(){$rootScope.pagetitle="Error - Gecko"})}),!1),errorPostSaveFn=($scope.stillUploading=function(){return $scope.$on("isUploading",function(evt,data){!0===data?disableButton=!0:!1===data&&(disableButton=!1)}),disableButton},$scope.captchaPreSaveFn=function(){return $scope.form.captcha_key&&$scope.form.protected?new Promise(function(resolve,reject){"function"!=typeof(window.grecaptcha||{}).execute?reject("There was a problem loading the CAPTCHA script."):window.grecaptcha.execute($scope.form.captcha_key,{action:"submit"}).then(function(token){return $scope.response.captcha=token,resolve()}).catch(resolve)}):Promise.resolve()},$scope.eventPreSaveFn=function(){var eventFields=$scope.form.related_fields.filter(function(f){return f.type===Gecko.Field.TYPE_EVENT});if(!eventFields.length)return Promise.resolve();return new Promise(function(resolve,reject){Promise.all(eventFields.filter(function(field){return Object.keys(($scope.values[field.id]||{}).event_ids||{}).length}).map(function(field){return Number($scope.values[field.id].parent_event_id)}).filter(function(eventId,index,arr){return eventId&&arr.indexOf(eventId)===index}).map(function(eventId){return eventFieldService.getById(eventId,!0)})).then(function(data){return data.map(function(obj){return obj.event})}).then(function(events){var errorsObj={};return eventFields.forEach(function(eventField){var checkErrorFn,renderErrorFn,eventFieldValue=$scope.values[eventField.id],topEventId=eventFieldValue.parent_event_id,selectedEventIds=Object.keys(eventFieldValue.event_ids).map(Number),eventFieldValue=events.find(function(e){return e.id===topEventId});eventFieldValue&&(eventField="field"+eventField.id,renderErrorFn=function(item){return"<strong>"+item.title+"</strong> "+$rootScope.__($rootScope.STR_KEY.ALERT.FULLY_BOOKED)},(checkErrorFn=function(item){return item.full&&!item.auto_waitlist})(eventFieldValue)?errorsObj[eventField]=[renderErrorFn(eventFieldValue)]:eventFieldValue.registration_type!==Gecko.Event.TYPE_SINGLE_EVENT&&(errorsObj[eventField]=(eventFieldValue.children||[]).reduce(function(result,item){return result.concat((item.children||[]).filter(function(item){return-1!==selectedEventIds.indexOf(item.id)}).map(function(time){return{id:time.id,full:time.full,auto_waitlist:item.auto_waitlist,title:item.title+" ("+time.title+")"}}))},[]).filter(checkErrorFn).map(renderErrorFn),(errorsObj[eventField]||[]).length||delete errorsObj[eventField]))}),Object.keys(errorsObj).length?reject({messages:errorsObj}):resolve()}).catch(resolve)})},$scope.saveHandler=function(){if(!$scope.saveDisabled)return $scope.hideLoadingIndicator=!1,$scope.saveDisabled=!0,Promise.all([$scope.captchaPreSaveFn(),$scope.eventPreSaveFn()]).then(function(){return $scope.saveFn().then(function(){$scope.hideLoadingIndicator=!0,$scope.saveDisabled=!1,$scope.$digest()})}).catch(function(err){(err||{}).message?$scope.errors=[[err.message]]:(err||{}).messages?$scope.errors=Array.isArray(err.messages)?err.messages.map(GeckoUI.wrapArray):err.messages:$scope.errors=[[err]],$scope.hideLoadingIndicator=!0,$scope.saveDisabled=!1,errorPostSaveFn(),$scope.$digest()})},function(){var pageIndexes=Object.keys($scope.errors).map(function(x){return Number(x.replace("field",""))}).map(function(id){return(($scope.form.related_fields||[]).find(function(f){return f.id===id})||{}).page_id}).map(function(id){return $scope.form.related_pages.map(function(p){return p.id}).indexOf(id)});pageIndexes.sort(),$scope.currentPage=pageIndexes[0]&&0<Number(pageIndexes[0])?pageIndexes[0]:0,window.scrollTo(0,0),updateIframePos()});$scope.saveFn=function(){return $scope.response.utm_source=utmService.getUtmParam("utm_source"),$scope.response.utm_medium=utmService.getUtmParam("utm_medium"),$scope.response.utm_campaign=utmService.getUtmParam("utm_campaign"),$scope.response.utm_term=utmService.getUtmParam("utm_term"),$scope.response.utm_content=utmService.getUtmParam("utm_content"),$routeParams.publication_id&&($scope.response.publication_id=$routeParams.publication_id),$routeParams.publication_uuid&&($scope.response.publication_uuid=$routeParams.publication_uuid),$scope.form.related_fields.forEach(function(field){if($scope.response.fields["field"+field.id]=angular.copy($scope.values[field.id]),!$scope.checkConditional(field)&&$scope.response.fields["field"+field.id]&&delete $scope.response.fields["field"+field.id],"matrix"==field.type&&"object"==_typeof($scope.response.fields["field"+field.id]))for(var prop in $scope.response.fields["field"+field.id]={},$scope.response.fields["field"+field.id].data=[],$scope.response.fields["field"+field.id].structure={},$scope.response.fields["field"+field.id].structure.fields=field.values,$scope.response.fields["field"+field.id].structure.sub_fields=field.sub_fields,$scope.response.fields["field"+field.id].structure.fields.map(function(field,i){field.id=i}),$scope.response.fields["field"+field.id].structure.fields)$scope.response.fields["field"+field.id].data.push($scope.values[field.id][prop]);else if("repeatable"==field.type){if($scope.response.fields["field"+field.id])for(var index=$scope.response.fields["field"+field.id].length,value=angular.copy($scope.response.fields["field"+field.id]);index--;){var row=value[index],cleanRow=!1;for(prop in row)row[prop]&&(cleanRow=!0);cleanRow||value.splice(index,1),$scope.response.fields["field"+field.id]=value}}else if("event"===field.type&&$scope.response.fields["field"+field.id])if($scope.form.related_event)for(var event_id in $scope.response.fields["field"+field.id]={parent_event_id:$scope.values[field.id].parent_event_id,default_status:$scope.values[field.id].default_status,guest_count:$scope.values[field.id].guest_count,event_ids:{}},$scope.values[field.id].event_ids)$scope.values[field.id].event_ids.hasOwnProperty(event_id)&&!1!==(value=$scope.values[field.id].event_ids[event_id])&&($scope.response.fields["field"+field.id].event_ids[event_id]=""===value?null:value);else for(var event_id in $scope.response.fields["field"+field.id]={parent_event_id:$scope.values[field.id].parent_event_id,default_status:$scope.values[field.id].default_status,guest_count:$scope.values[field.id].guest_count,event_ids:{}},$scope.values[field.id].event_ids)$scope.values[field.id].event_ids.hasOwnProperty(event_id)&&!1!==(value=$scope.values[field.id].event_ids[event_id])&&($scope.response.fields["field"+field.id].event_ids[event_id]=""===value?null:value)}),$scope.response.fields=function nullifyBlankValues(obj){var newObj=Object.keys(obj).reduce(function(newObj,key){var val=obj[key];return!function(obj){return!(!obj||"object"!==(void 0===obj?"undefined":_typeof(obj)))&&(-1!==Object.keys(obj).indexOf("event_ids")&&0<Object.keys(obj.event_ids).length)}(val)?Array.isArray(val)&&!val.length?newObj[key]=null:"object"!==(void 0===val?"undefined":_typeof(val))||null===val||Array.isArray(val)?newObj[key]=""===val?null:val:newObj[key]=nullifyBlankValues(val):newObj[key]=val,newObj},{});return function(obj){for(var key in obj)if(null!==obj[key]&&void 0!==obj[key])return!1;return!0}(newObj)?null:newObj}($scope.response.fields)||{},requestService.post("/responses",$scope.response).then(function(){return gaService.formSubmission($scope.form)}).then(function(){return!!$scope.form.auto_redirect&&formSuccessRedirectService($scope.form,$scope.response.fields)}).then(function(willRedirect){willRedirect||($scope.errors=!1,$scope.success=$scope.form.success_message||$rootScope.__($rootScope.STR_KEY.ALERT.SUCCESS),window.scrollTo(0,0),updateIframePos(),$scope.$apply())}).catch(function(res){res.message?$scope.errors=[[res.message]]:$scope.errors=Array.isArray(res.messages)?res.messages.map(GeckoUI.wrapArray):res.messages,errorPostSaveFn(),$scope.$apply()})},$scope.getError=function(field){if($scope.errors)return $scope.errors["field"+field.id]},$scope.getOptionMap=function(inID){var map=[];return angular.forEach($scope.form.related_fields,function(field){!field.parent_id||field.parent_id!==inID&&-1===map.indexOf(field.parent_id)||map.push(field.id)}),map},$scope.getChildFields=function(parentID){return $scope.form.related_fields.filter(function(field){return field.parent_id===parentID}).map(function(field){return field.id})};$scope.changePage=function(pageIndex,validate){if(validate&&pageIndex>$scope.currentPage){validate=$scope.form.related_pages[$scope.currentPage].related_fields.filter(function(f){return $scope.checkConditional(f)}),validate=formValidationService.validate(validate,$scope.values);if(Object.keys(validate).length)return $scope.errors=validate,scrollToTop(),Promise.resolve();$scope.errors=!1}return $scope.currentPage=pageIndex,scrollToTop(),function(pageIndex){try{var fields=$scope.form.related_pages[pageIndex].related_fields.filter(function(f){return $scope.checkConditional(f)}),fieldId=fields.length?"#field"+fields[0].id:null;fieldId&&$timeout(function(){return $(fieldId).find("input, textarea, button").first().focus()})}catch(err){console.log(err)}}(pageIndex),Promise.resolve()},$scope.updateSelection=function($event,field,index){$event.target.checked?field.option&&0<field.option.values.length?$scope.values[field.id][index]=field.option.values[index].value:field.values&&0<field.values.length&&($scope.values[field.id][index]=field.values[index].value||field.values[index].label):(field.option&&0<field.option.values.length?index=$scope.values[field.id].indexOf(field.option.values[index].value):field.values&&0<field.values.length&&(index=$scope.values[field.id].indexOf(field.values[index].value||field.values[index].label)),$event=$scope.values[field.id].slice(0,index),index=$scope.values[field.id].slice(index+1),$scope.values[field.id]=$event.concat(new Array(1)).concat(index))},$scope.updateValue=function(field,value){$scope.values[field.id]=value},$scope.checkConditional=function(_field){if("event"===_field.type&&_field.values.use_old_event_field&&!_field.values.event_category_id&&!_field.values.event_id&&!$scope.form.related_event&&!$routeParams.efid)return!1;function checkParent(id){return"none"!=$("#field"+id).css("display")}if(angular.isArray($scope.related_conditions))return!1;var conditionRequirement=_field.conditions_requirement||"ANY";if($scope.related_conditions["field"+_field.id]&&0<$scope.related_conditions["field"+_field.id].conditions.length){for(var conditions=$scope.related_conditions["field"+_field.id].conditions,passes=!1,i=0,i=0;i<conditions.length;i++){var condition=conditions[i],dependencyValue=void 0===$scope.values[condition.dependency_id]?"":$scope.values[condition.dependency_id],conditionType=">"==condition.type||"<"==condition.type?"numeric":"string";if(!condition.dependency_id||!condition.type)return!0;if(dependencyValue&&"object"===(void 0===dependencyValue?"undefined":_typeof(dependencyValue))&&(dependencyValue=dependencyValue.country_code?dependencyValue.number||"":$.map(dependencyValue,function(value){return value}).join(" ").trim()),condition.value=null===condition.value?[]:condition.value,"numeric"==conditionType?(dependencyValue=parseInt(dependencyValue),condition.value=parseInt(condition.value)):(angular.forEach(condition.value,function(item,i){condition.value[i]=String(item).toLowerCase()}),dependencyValue=String(dependencyValue).toLowerCase()),"="==condition.type&&-1<condition.value.indexOf(dependencyValue)&&checkParent(condition.dependency_id)){if(passes=!0,"ANY"==conditionRequirement)break}else if("!="==condition.type&&-1==condition.value.indexOf(dependencyValue)&&checkParent(condition.dependency_id)){if(passes=!0,"ANY"==conditionRequirement)break}else if(">"==condition.type&&dependencyValue>condition.value&&checkParent(condition.dependency_id)){if(passes=!0,"ANY"==conditionRequirement)break}else if("<"==condition.type&&dependencyValue<condition.value&&checkParent(condition.dependency_id)){if(passes=!0,"ANY"==conditionRequirement)break}else if("empty"===condition.type&&""===dependencyValue&&checkParent(condition.dependency_id)){if(passes=!0,"ANY"==conditionRequirement)break}else if("!empty"===condition.type&&""!==dependencyValue&&checkParent(condition.dependency_id)){if(passes=!0,"ANY"==conditionRequirement)break}else if("%"==condition.type&&checkParent(condition.dependency_id)){for(var _passes=void 0,c=0;c<condition.value.length;c++)-1<dependencyValue.indexOf(condition.value[c])&&(_passes=!0);if(_passes){if(passes=!0,"ANY"==conditionRequirement)break}else if(passes=!1,"ALL"==conditionRequirement)break}else if("!%"==condition.type&&checkParent(condition.dependency_id))for(c=0;c<condition.value.length;c++){if(-1!=dependencyValue.indexOf(condition.value[c])){passes=!1;break}if(passes=!0,"ANY"==conditionRequirement)break}else if(passes=!1,"ALL"==conditionRequirement)break}if(!passes)return!1}return!0},$scope.reload=function(){window.location.reload()},$scope.continueSuccess=function(){$scope.form.success_url?formSuccessRedirectService($scope.form,$scope.response.fields):window.location.reload()},$scope.showFieldLabel=function(field){return"1"!=field.hidden&&!field.is_uneditable&&-1===["hidden","section","media","pagebreak","script","consent","event","file","repeatable","matrix"].indexOf(field.type)},$scope.showFieldTitle=function(field){return"1"!=field.hidden&&!field.is_uneditable&&-1!==["file","repeatable","matrix"].indexOf(field.type)},$scope.showFieldDesc=function(field){return"1"!=field.hidden&&!field.is_uneditable&&-1===["hidden","section","media","pagebreak","script","consent","event"].indexOf(field.type)&&field.help_text},$scope.hasEfid=!!$routeParams.efid,$scope.isRequired=function(field){var values=$scope.values[field.id]||{};return!(!field.required&&!Object.keys(values).filter(function(key){return values[key]}).length)}})}(),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}),_typeof=(!function(){"use strict";var e,t;e=this,t=function(){function N(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u(m,t)}var m,e=Object.hasOwnProperty,t=Object.setPrototypeOf,n=Object.isFrozen,r=Object.getPrototypeOf,o=Object.getOwnPropertyDescriptor,i=Object.freeze,a=Object.seal,l=Object.create,c="undefined"!=typeof Reflect&&Reflect,s=(s=c.apply)||function(e,t,n){return e.apply(t,n)},i=i||function(e){return e},a=a||function(e){return e},u=(u=c.construct)||function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))},f=A(Array.prototype.forEach),d=A(Array.prototype.pop),p=A(Array.prototype.push),h=A(String.prototype.toLowerCase),g=A(String.prototype.match),y=A(String.prototype.replace),v=A(String.prototype.indexOf),b=A(String.prototype.trim),T=A(RegExp.prototype.test);m=TypeError;function A(e){return function(t){for(var n=arguments.length,r=Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return s(e,t,r)}}function E(e,r){t&&t(e,null);for(var o=r.length;o--;){var a,i=r[o];"string"!=typeof i||(a=h(i))!==i&&(n(r)||(r[o]=a),i=a),e[i]=!0}return e}function x(t){var n=l(null),r=void 0;for(r in t)s(e,t,[r])&&(n[r]=t[r]);return n}function w(e,t){for(;null!==e;){var n=o(e,t);if(n){if(n.get)return A(n.get);if("function"==typeof n.value)return A(n.value)}e=r(e)}return function(e){return console.warn("fallback value for",e),null}}var k=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),S=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),_=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),D=i(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),O=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),C=i(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),M=i(["#text"]),L=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),R=i(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),I=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),F=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),H=a(/\{\{[\s\S]*|[\s\S]*\}\}/gm),U=a(/<%[\s\S]*|[\s\S]*%>/gm),z=a(/^data-[\-\w.\u00B7-\uFFFF]/),B=a(/^aria-[\-\w]+$/),P=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),j=a(/^(?:\w+script|data):/i),G=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),W=a(/^html$/i),q="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)};function Y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}return function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,n=function(t){return e(t)};if(n.version="2.3.6",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,o=t.document,a=t.DocumentFragment,l=t.HTMLTemplateElement,c=t.Node,s=t.Element,u=t.NodeFilter,m=t.NamedNodeMap,A=void 0===m?t.NamedNodeMap||t.MozNamedAttrMap:m,$=t.HTMLFormElement,X=t.DOMParser,m=t.trustedTypes,J=s.prototype,Q=w(J,"cloneNode"),ee=w(J,"nextSibling"),te=w(J,"childNodes"),ne=w(J,"parentNode"),oe=("function"!=typeof l||(J=o.createElement("template")).content&&J.content.ownerDocument&&(o=J.content.ownerDocument),function(e,t){if("object"!==(void 0===e?"undefined":q(e))||"function"!=typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix",t="dompurify"+((n=t.currentScript&&t.currentScript.hasAttribute(r)?t.currentScript.getAttribute(r):n)?"#"+n:"");try{return e.createPolicy(t,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+t+" could not be created."),null}}(m,r)),ie=oe?oe.createHTML(""):"",l=o,le=l.implementation,ce=l.createNodeIterator,se=l.createDocumentFragment,ue=l.getElementsByTagName,me=r.importNode,J={};try{J=x(o).documentMode?o.documentMode:{}}catch(e){}function it(e){return e instanceof RegExp||e instanceof Function}function at(e){rt&&rt===e||(e=x(e=e&&"object"===(void 0===e?"undefined":q(e))?e:{}),Ne="ALLOWED_TAGS"in e?E({},e.ALLOWED_TAGS):Ae,Ee="ALLOWED_ATTR"in e?E({},e.ALLOWED_ATTR):xe,Ye="ADD_URI_SAFE_ATTR"in e?E(x(Ke),e.ADD_URI_SAFE_ATTR):Ke,We="ADD_DATA_URI_TAGS"in e?E(x(qe),e.ADD_DATA_URI_TAGS):qe,je="FORBID_CONTENTS"in e?E({},e.FORBID_CONTENTS):Ge,ke="FORBID_TAGS"in e?E({},e.FORBID_TAGS):{},Se="FORBID_ATTR"in e?E({},e.FORBID_ATTR):{},Pe="USE_PROFILES"in e&&e.USE_PROFILES,_e=!1!==e.ALLOW_ARIA_ATTR,De=!1!==e.ALLOW_DATA_ATTR,Oe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ce=e.SAFE_FOR_TEMPLATES||!1,Me=e.WHOLE_DOCUMENT||!1,Ie=e.RETURN_DOM||!1,Fe=e.RETURN_DOM_FRAGMENT||!1,He=e.RETURN_TRUSTED_TYPE||!1,Re=e.FORCE_BODY||!1,Ue=!1!==e.SANITIZE_DOM,ze=!1!==e.KEEP_CONTENT,Be=e.IN_PLACE||!1,Te=e.ALLOWED_URI_REGEXP||Te,Ze=e.NAMESPACE||Xe,e.CUSTOM_ELEMENT_HANDLING&&it(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(we.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&it(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(we.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(we.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Qe=Qe=-1===et.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,nt="application/xhtml+xml"===Qe?function(e){return e}:h,Ce&&(De=!1),Fe&&(Ie=!0),Pe&&(Ne=E({},[].concat(Y(M))),Ee=[],!0===Pe.html&&(E(Ne,k),E(Ee,L)),!0===Pe.svg&&(E(Ne,S),E(Ee,R),E(Ee,F)),!0===Pe.svgFilters&&(E(Ne,_),E(Ee,R),E(Ee,F)),!0===Pe.mathMl&&(E(Ne,O),E(Ee,I),E(Ee,F))),e.ADD_TAGS&&E(Ne=Ne===Ae?x(Ne):Ne,e.ADD_TAGS),e.ADD_ATTR&&E(Ee=Ee===xe?x(Ee):Ee,e.ADD_ATTR),e.ADD_URI_SAFE_ATTR&&E(Ye,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&E(je=je===Ge?x(je):je,e.FORBID_CONTENTS),ze&&(Ne["#text"]=!0),Me&&E(Ne,["html","head","body"]),Ne.table&&(E(Ne,["tbody"]),delete ke.tbody),i&&i(e),rt=e)}function ft(e){p(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=ie}catch(t){e.remove()}}}function pt(e){var t=void 0,n=void 0,r=(Re?e="<remove></remove>"+e:n=(r=g(e,/^[\r\n\t ]+/))&&r[0],"application/xhtml+xml"===Qe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>"),oe?oe.createHTML(e):e);if(Ze===Xe)try{t=(new X).parseFromString(r,Qe)}catch(e){}if(!t||!t.documentElement){t=le.createDocument(Ze,"template",null);try{t.documentElement.innerHTML=Je?"":r}catch(e){}}return r=t.body||t.documentElement,e&&n&&r.insertBefore(o.createTextNode(n),r.childNodes[0]||null),Ze===Xe?ue.call(t,Me?"html":"body")[0]:Me?t.documentElement:r}function ht(e){return ce.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)}function yt(e){return"object"===(void 0===c?"undefined":q(c))?e instanceof c:e&&"object"===(void 0===e?"undefined":q(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}function bt(e){var t;if(vt("beforeSanitizeElements",e,null),!function(e){return e instanceof $&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof A)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)}(e)&&!g(e.nodeName,/[\u0080-\uFFFF]/)){var r=nt(e.nodeName);if(vt("uponSanitizeElement",e,{tagName:r,allowedTags:Ne}),(yt(e.firstElementChild)||yt(e.content)&&yt(e.content.firstElementChild)||!T(/<[/\w]/g,e.innerHTML)||!T(/<[/\w]/g,e.textContent))&&("select"!==r||!T(/<template/i,e.innerHTML))){if(Ne[r]&&!ke[r])return(!(e instanceof s)||function(e){var t=ne(e),n=(t&&t.tagName||(t={namespaceURI:Xe,tagName:"template"}),h(e.tagName)),r=h(t.tagName);if(e.namespaceURI===$e)return t.namespaceURI===Xe?"svg"===n:t.namespaceURI===Ve?"svg"===n&&("annotation-xml"===r||lt[r]):Boolean(st[n]);if(e.namespaceURI===Ve)return t.namespaceURI===Xe?"math"===n:t.namespaceURI===$e?"math"===n&&ct[r]:Boolean(ut[n]);if(e.namespaceURI!==Xe)return!1;if(t.namespaceURI===$e&&!ct[r])return!1;if(t.namespaceURI===Ve&&!lt[r])return!1;e=E({},["title","style","font","a","script"]);return!ut[n]&&(e[n]||!st[n])}(e))&&("noscript"!==r&&"noembed"!==r||!T(/<\/no(script|embed)/i,e.innerHTML))?(Ce&&3===e.nodeType&&(t=e.textContent,t=y(t,pe," "),t=y(t,he," "),e.textContent!==t&&(p(n.removed,{element:e.cloneNode()}),e.textContent=t)),vt("afterSanitizeElements",e,null),!1):(ft(e),!0);if(!ke[r]&&Nt(r)){if(we.tagNameCheck instanceof RegExp&&T(we.tagNameCheck,r))return;if(we.tagNameCheck instanceof Function&&we.tagNameCheck(r))return}if(ze&&!je[r]){var o=ne(e)||e.parentNode,i=te(e)||e.childNodes;if(i&&o)for(var a=i.length-1;0<=a;--a)o.insertBefore(Q(i[a],!0),ee(e))}}}return ft(e),1}function Nt(e){return 0<e.indexOf("-")}function At(e){var r=void 0,i=void 0,a=(vt("beforeSanitizeAttributes",e,null),e.attributes);if(a){for(var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ee},i=a.length;i--;){t=a[i];var s=t.name,u=t.namespaceURI,r=b(t.value),t=nt(s);if(l.attrName=t,l.attrValue=r,l.keepAttr=!0,l.forceKeepAttr=void 0,vt("uponSanitizeAttribute",e,l),r=l.attrValue,!l.forceKeepAttr&&(dt(s,e),l.keepAttr))if(T(/\/>/i,r))dt(s,e);else{Ce&&(r=y(r,pe," "),r=y(r,he," "));var m=nt(e.nodeName);if(Tt(m,t,r))try{u?e.setAttributeNS(u,s,r):e.setAttribute(s,r),d(n.removed)}catch(e){}}}vt("afterSanitizeAttributes",e,null)}}function Et(t){var n,r=ht(t);for(vt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)vt("uponSanitizeShadowNode",n,null),bt(n)||(n.content instanceof a&&Et(n.content),At(n));vt("afterSanitizeShadowDOM",t,null)}var Je,de={},pe=(n.isSupported="function"==typeof ne&&le&&void 0!==le.createHTMLDocument&&9!==J,H),he=U,ge=z,ye=B,ve=j,be=G,Te=P,Ne=null,Ae=E({},[].concat(Y(k),Y(S),Y(_),Y(O),Y(M))),Ee=null,xe=E({},[].concat(Y(L),Y(R),Y(I),Y(F))),we=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ke=null,Se=null,_e=!0,De=!0,Oe=!1,Ce=!1,Me=!1,Le=!1,Re=!1,Ie=!1,Fe=!1,He=!1,Ue=!0,ze=!0,Be=!1,Pe={},je=null,Ge=E({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),We=null,qe=E({},["audio","video","img","source","image","track"]),Ye=null,Ke=E({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ve="http://www.w3.org/1998/Math/MathML",$e="http://www.w3.org/2000/svg",Xe="http://www.w3.org/1999/xhtml",Ze=Xe,Qe=void 0,et=["application/xhtml+xml","text/html"],nt=void 0,rt=null,ot=o.createElement("form"),lt=E({},["mi","mo","mn","ms","mtext"]),ct=E({},["foreignobject","desc","title","annotation-xml"]),st=E({},S),ut=(E(st,_),E(st,D),E({},O)),dt=(E(ut,C),function(e,t){try{p(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){p(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Ee[e])if(Ie||Fe)try{ft(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}}),vt=function(e,t,r){de[e]&&f(de[e],function(e){e.call(n,t,r,rt)})},Tt=function(e,t,n){if(Ue&&("id"===t||"name"===t)&&(n in o||n in ot))return!1;if((!De||Se[t]||!T(ge,t))&&(!_e||!T(ye,t)))if(!Ee[t]||Se[t]){if(!(Nt(e)&&(we.tagNameCheck instanceof RegExp&&T(we.tagNameCheck,e)||we.tagNameCheck instanceof Function&&we.tagNameCheck(e))&&(we.attributeNameCheck instanceof RegExp&&T(we.attributeNameCheck,t)||we.attributeNameCheck instanceof Function&&we.attributeNameCheck(t))||"is"===t&&we.allowCustomizedBuiltInElements&&(we.tagNameCheck instanceof RegExp&&T(we.tagNameCheck,n)||we.tagNameCheck instanceof Function&&we.tagNameCheck(n))))return!1}else if(!Ye[t]&&!T(Te,y(n,be,""))&&("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==v(n,"data:")||!We[e])&&(!Oe||T(ve,y(n,be,"")))&&n)return!1;return!0};return n.sanitize=function(e,o){var s,i=void 0,u=void 0,m=void 0;if("string"!=typeof(e=(Je=!e)?"\x3c!--\x3e":e)&&!yt(e)){if("function"!=typeof e.toString)throw N("toString is not a function");if("string"!=typeof(e=e.toString()))throw N("dirty is not a string, aborting")}if(!n.isSupported){if("object"===q(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(yt(e))return t.toStaticHTML(e.outerHTML)}return e}if(Le||at(o),n.removed=[],Be="string"==typeof e?!1:Be){if(e.nodeName){var o=nt(e.nodeName);if(!Ne[o]||ke[o])throw N("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof c)1===(o=(i=pt("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?i=o:i.appendChild(o);else{if(!Ie&&!Ce&&!Me&&-1===e.indexOf("<"))return oe&&He?oe.createHTML(e):e;if(!(i=pt(e)))return Ie?null:He?ie:""}i&&Re&&ft(i.firstChild);for(var d=ht(Be?e:i);s=d.nextNode();)3===s.nodeType&&s===u||bt(s)||(s.content instanceof a&&Et(s.content),At(s),u=s);if(u=null,Be)return e;if(Ie){if(Fe)for(m=se.call(i.ownerDocument);i.firstChild;)m.appendChild(i.firstChild);else m=i;return m=Ee.shadowroot?me.call(r,m,!0):m}o=Me?i.outerHTML:i.innerHTML;return Me&&Ne["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&T(W,i.ownerDocument.doctype.name)&&(o="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+o),Ce&&(o=y(o,pe," "),o=y(o,he," ")),oe&&He?oe.createHTML(o):o},n.setConfig=function(e){at(e),Le=!0},n.clearConfig=function(){rt=null,Le=!1},n.isValidAttribute=function(e,t,n){rt||at({});e=nt(e),t=nt(t);return Tt(e,t,n)},n.addHook=function(e,t){"function"==typeof t&&(de[e]=de[e]||[],p(de[e],t))},n.removeHook=function(e){de[e]&&d(de[e])},n.removeHooks=function(e){de[e]&&(de[e]=[])},n.removeAllHooks=function(){de={}},n}()},"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).DOMPurify=t(),angular.module("GeckoEngage").factory("geckoSanitize",function(){try{return window.DOMPurify.sanitize}catch(err){return function(){return""}}}).directive("geckoBindHtml",function($parse,$compile,geckoSanitize){return{restrict:"A",compile:function(tElement,tAttrs){var geckoBindHtmlGetter=$parse(tAttrs.geckoBindHtml),geckoBindHtmlWatch=$parse(tAttrs.geckoBindHtml,function(value){return(value||"").toString()});return function(scope,element,attr){scope.$watch(geckoBindHtmlWatch,function(){try{var value=geckoBindHtmlGetter(scope),html=value||0===value?String(value):"",content=geckoSanitize(html,{ADD_ATTR:["target"]});element.html(content)}catch(err){}})}}}})}(),!function(){"use strict";var defaultAllowedMimetypes=["image/*","audio/*","video/*","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","application/zip","application/octet-stream","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain","application/vnd.oasis.opendocument.text","text/html","application/vnd.openxmlformats-officedocument.wordprocessingml.documentapplication/vnd.openxmlformats-officedocument.wordprocessingml.document","message/rfc822","text/rtf","application/CDFV2-unknown","inode/x-empty","application/vnd.ms-outlook","application/x-zip-compressed","application/x-rar","application/vnd.ms-excel","application/vnd.oasis.opendocument.presentation","application/vnd.ms-office","application/wps-office.docx","application/vnd.ms-powerpoint","text/xml","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-xpsdocument","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.spreadsheet","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.oasis.opendocument.text-template","application/wps-office.doc","application/vnd.ms-word.document.macroEnabled.12","text/csv","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-visio.drawing"].join(","),defaultAllowedCsvMimetypes=[".csv","text/csv","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].join(",");angular.module("GeckoEngage").service("geckoFileUploadService",function(geckoTranslateService,portalRequestService){var _this={random:function(length){for(var possible="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",str="",i=0;i<length;i++)str+=possible.charAt(Math.floor(Math.random()*possible.length));return str},sanatizeFileName:function(str){return str.toLowerCase().replace(/\s/gi,"_").replace(/[^a-z0-9\-\_\.]/gi,"")||_this.random(10)},uploadFiles:function(files){return Promise.all(files.map(_this.uploadFile)).catch(function(err){throw err})},getUploadUrl:function(file){return portalRequestService.post("/assets/request",{filename:_this.sanatizeFileName(file.name)}).then(function(res){return res.data.uploadUrl})},uploadFile:function(file){return _this.getUploadUrl(file).then(function(uploadUrl){return fetch(uploadUrl,{method:"PUT",body:file}).then(function(){return uploadUrl.replace(/\?.+$/,"")}).catch(function(err){throw err})}).catch(function(err){throw console.log("FILE UPLOAD ERR:",file,err),file.name+" "+(geckoTranslateService.get(geckoTranslateService.keys.FILE_UPLOAD_FIELD.ERROR_1)||"could not be uploaded.")})},getIcon:function(file){var type;if(file)return type=file.type.split("/")[0],file.type.split("/")[1],type=-1!==["image","video","audio"].indexOf(type)?type:{docx:"word",doc:"word",xls:"excel",xlsx:"excel",ppt:"powerpoint",pptx:"powerpoint",pdf:"pdf",zip:"archive"}[file.name.split(".")[file.name.split(".").length-1]],type?"fa fa-file-"+type+"-o":"fa fa-file"},defaultAllowedMimetypes:defaultAllowedMimetypes,defaultAllowedCsvMimetypes:defaultAllowedCsvMimetypes,isFileTypesValid:function(files,allowedMimeTypes){allowedMimeTypes=(allowedMimeTypes||"").split(",").filter(function(mimeType){return mimeType}).map(function(mimeType){return mimeType.trim()});if(allowedMimeTypes.length&&(files||[]).filter(function(file){return fileType=file.type,!allowedMimeTypes.some(function(mimeType){return mimeType.includes("/*")?fileType.includes(mimeType.replace("/*","/")):fileType===mimeType});var fileType}).length)return!1;return!0}};return _this})}(),!function(){"use strict";var STR_KEY={};STR_KEY.BUTTON={},STR_KEY.BUTTON.ADD="button.add",STR_KEY.BUTTON.CONTINUE="button.continue",STR_KEY.BUTTON.CLOSE="button.close",STR_KEY.BUTTON.EDIT="button.edit",STR_KEY.BUTTON.NEXT="button.next",STR_KEY.BUTTON.PREVIOUS="button.previous",STR_KEY.BUTTON.REMOVE="button.remove",STR_KEY.BUTTON.SAVE="button.save",STR_KEY.BUTTON.SUBMIT="button.submit",STR_KEY.BUTTON.UPLOAD="button.upload",STR_KEY.INPUT={},STR_KEY.INPUT.FIRST_NAME="input.first_name",STR_KEY.INPUT.LAST_NAME="input.last_name",STR_KEY.INPUT.DATE="input.date",STR_KEY.INPUT.DAY="input.day",STR_KEY.INPUT.MONTH="input.month",STR_KEY.INPUT.YEAR="input.year",STR_KEY.INPUT.ADDRESS_STREET="input.address_street",STR_KEY.INPUT.ADDRESS_LINE_2="input.address_line_2",STR_KEY.INPUT.ADDRESS_CITY="input.address_city",STR_KEY.INPUT.ADDRESS_REGION="input.address_region",STR_KEY.INPUT.ADDRESS_POSTCODE="input.address_postcode",STR_KEY.INPUT.ADDRESS_COUNTRY="input.address_country",STR_KEY.INPUT.DROPDOWN="input.dropdown",STR_KEY.INPUT.VERIFY_EMAIL="input.verify_email",STR_KEY.FILE_UPLOAD_FIELD={},STR_KEY.FILE_UPLOAD_FIELD.ERROR_1="file_upload_field.error_1",STR_KEY.FILE_UPLOAD_FIELD.ERROR_2="file_upload_field.error_2",STR_KEY.FILE_UPLOAD_FIELD.ERROR_3="file_upload_field.error_3",STR_KEY.FILE_UPLOAD_FIELD.CHOOSE_A_FILE="file_upload_field.choose_a_file",STR_KEY.FILE_UPLOAD_FIELD.DRAG_FILES_HERE="file_upload_field.drag_files_here",STR_KEY.ORGANISATION_FIELD={},STR_KEY.ORGANISATION_FIELD.TYPE_TO_SEARCH="organisation_field.type_to_search",STR_KEY.ORGANISATION_FIELD.NO_RESULTS_FOUND="organisation_field.no_results_found",STR_KEY.ORGANISATION_FIELD.SEARCHING="organisation_field.searching",STR_KEY.CONSENT_FIELD={},STR_KEY.CONSENT_FIELD.CONSENTS_LOADING="consent_field.consents_loading",STR_KEY.CONSENT_FIELD.NO_CONSENTS="consent_field.no_consents",STR_KEY.CONSENT_FIELD.CONSENT_TO_ALL="consent_field.consent_to_all",STR_KEY.CONSENT_FIELD.REMOVE_ALL="consent_field.remove_all",STR_KEY.CONSENT_FIELD.PRIVACY_POLICY="consent_field.privacy_policy",STR_KEY.ALERT={},STR_KEY.ALERT.VALIDATION_DESCRIPTION="alert.validation_description",STR_KEY.ALERT.NO_MORE_ENTRIES_ALLOWED="alert.no_more_entries_allowed",STR_KEY.ALERT.MAXIMUM_ENTRIES_ALLOWED="alert.maximum_entries_allowed",STR_KEY.ALERT.SUCCESS="alert.success",STR_KEY.ALERT.EVENT_ENDED="alert.event_ended",STR_KEY.ALERT.FORM_CLOSED="alert.form_closed",STR_KEY.ALERT.SUBMITTING="alert.submitting",STR_KEY.ALERT.FULLY_BOOKED="alert.fully_booked",STR_KEY.ALERT.NO_SESSIONS_ON_DATES="alert.no_sessions_on_dates",STR_KEY.ALERT.NO_SESSIONS_AVAILABLE="alert.no_sessions_available",STR_KEY.MISC={},STR_KEY.MISC.TOTAL_CHARACTERS="misc.total_characters",STR_KEY.MISC.POWERED_BY="misc.powered_by",STR_KEY.MISC.PAGE="misc.page",STR_KEY.MISC.DISPLAYING="misc.displaying",STR_KEY.MISC.OF="misc.of",STR_KEY.MISC.SESSIONS="misc.sessions",STR_KEY.EVENT_FIELD={},STR_KEY.EVENT_FIELD.EVENT="event_field.event",STR_KEY.EVENT_FIELD.SESSION="event_field.session",STR_KEY.EVENT_FIELD.ADD="event_field.add",STR_KEY.EVENT_FIELD.REGISTER="event_field.register",STR_KEY.EVENT_FIELD.BOOK="event_field.book",STR_KEY.EVENT_FIELD.CANCEL="event_field.cancel",STR_KEY.EVENT_FIELD.SELECT_TIME="event_field.select_time",STR_KEY.EVENT_FIELD.WAITLISTED="event_field.waitlisted",STR_KEY.EVENT_FIELD.FULL="event_field.full",STR_KEY.EVENT_FIELD.WAITLIST="event_field.waitlist",STR_KEY.EVENT_FIELD.JOIN_WAITLIST="event_field.join_waitlist",STR_KEY.EVENT_FIELD.YOUR_BOOKING="event_field.your_booking",STR_KEY.EVENT_FIELD.VIEW_EVENT_INFO="event_field.view_event_info",STR_KEY.EVENT_FIELD.VIEW_SESSION_INFO="event_field.view_session_info",STR_KEY.EVENT_FIELD.PICK_EVENT="event_field.pick_event",STR_KEY.EVENT_FIELD.PICK_DATE="event_field.pick_date",STR_KEY.EVENT_FIELD.NUMBER_OF_GUESTS="event_field.number_of_guests",STR_KEY.EVENT_FIELD.CONFIG_ERROR="event_field.config_error",STR_KEY.EVENT_FIELD.LOADING="event_field.loading",STR_KEY.EVENT_FIELD.NO_RESULTS="event_field.no_results",STR_KEY.EVENT_FIELD.NO_SESSION_RESULTS="event_field.no_session_results",STR_KEY.EVENT_FIELD.CLASHING_RESULTS="event_field.clashing_results",STR_KEY.EVENT_FIELD.WAITLIST_ALERT_EVENT="event_field.waitlist_alert_event",STR_KEY.EVENT_FIELD.WAITLIST_QUESTION="event_field.waitlist_question",STR_KEY.EVENT_FIELD.WAITLIST_ALERT_SESSION="event_field.waitlist_alert_session",STR_KEY.EVENT_FIELD.FILTER_KEYWORD="event_field.filter_keyword",STR_KEY.EVENT_FIELD.FILTER_TAG="event_field.filter_tag",STR_KEY.EVENT_FIELD.FILTER_SORT="event_field.filter_sort",STR_KEY.EVENT_FIELD.FILTER_SORT_TITLE="event_field.filter_sort_title",STR_KEY.EVENT_FIELD.FILTER_SORT_DATE="event_field.filter_sort_date",STR_KEY.EVENT_FIELD.FILTER_NO_RESULTS="event_field.filter_no_results",STR_KEY.EVENT_FIELD.FILTER_FILTERED_BY="event_field.filter_filtered_by",STR_KEY.EVENT_FIELD.FILTER_CLEAR="event_field.filter_clear",STR_KEY.EVENT_FIELD.MODAL_ABOUT_THE_HOST="event_field.modal_about_the_host",STR_KEY.EVENT_FIELD.MODAL_ABOUT_THE_HOSTS="event_field.modal_about_the_hosts",STR_KEY.EVENT_FIELD.MODAL_ABOUT_THE_EVENT="event_field.modal_about_the_event",STR_KEY.EVENT_FIELD.MODAL_ABOUT_THE_SESSION="event_field.modal_about_the_session",STR_KEY.EVENT_FIELD.MODAL_LOCATION="event_field.modal_location",STR_KEY.EVENT_FIELD.MODAL_GET_DIRECTIONS="event_field.modal_get_directions",STR_KEY.EVENT_FIELD.ONLINE="event_field.online",STR_KEY.EVENT_FIELD.VARIOUS_TIMES="event_field.various_times",STR_KEY.EVENT_FIELD.VENUE_EVENT="event_field.venue_event",STR_KEY.EVENT_FIELD.ONLINE_EVENT="event_field.online_event",STR_KEY.EVENT_FIELD.HYBRID_EVENT="event_field.hybrid_event",STR_KEY.EVENT_FIELD.VENUE_SESSION="event_field.venue_session",STR_KEY.EVENT_FIELD.ONLINE_SESSION="event_field.online_session",STR_KEY.EVENT_FIELD.HYBRID_SESSION="event_field.hybrid_session",angular.module("GeckoEngage").service("geckoTranslateService",function(){var _this={lang:null,keys:STR_KEY,data:{},languages:[{id:"ca",name:"Catalan - ca"},{id:"zh-cn",name:"Chinese - zh-cn"},{id:"en",name:"English - en"},{id:"de",name:"German - de"},{id:"es",name:"Spanish - es"},{id:"cy",name:"Welsh - cy"}],get:function(key){var keys,value;return-1!==(key||"").indexOf(".")?(keys=key.split("."),value=_this.data,keys.forEach(function(k){value=value[k]||""}),value):_this.data[key]},init:function(lang,data,scope){_this.lang=_this.languages.find(function(l){return l.id===lang})?lang:"en",_this.data=data},prepare:function(scope){return scope.__=_this.get,scope.STR_KEY=_this.keys,scope},prepareCustomLanguageDisplayValues:function(values){return(Array.isArray(values)?values:[]).map(function(v){return v.value})},prepareCustomLanguageSaveValues:function(values){return(Array.isArray(values)?values:[]).map(function(v){return{value:v,selected:!1}})},prepareCustomLanguageOptions:function(values){return(Array.isArray(values)?values:[]).map(function(v){return{value:v.value,label:(_this.languages.find(function(l){return l.id===v.value})||{}).name}})},renderLanguageValue:function(value){return Array.isArray(value)?value.length?value.map(function(v){return(_this.languages.find(function(l){return l.id===v})||{}).name}).filter(function(v){return v}).join(", "):"":(_this.languages.find(function(l){return l.id===value})||{}).name||""}};return _this})}(),!function(){"use strict";function randomId(len){for(var str="",strLength=len||10,base="abcdefghijklmnopqrstuvwxyz0123456789",baseLength=base.length,i=0;i<strLength;i++)str+=base[Math.floor(baseLength*Math.random())];return str}angular.module("directives").directive("makeChosenAccessible",function(){return{controller:function($scope,$element,$timeout,isMobileDevice){isMobileDevice()||$timeout(function(){var $chosenBtn,$chosenComboboxContainer,$chosenInputContainer,$chosenInput,$el=$($element),isMultiSelect=!1,$chosenContainer=$el.next(".chosen-container");if($chosenContainer.find(".chosen-search input").length)$chosenBtn=$chosenContainer.find("> a.chosen-single"),$chosenComboboxContainer=$chosenContainer.find("> div.chosen-drop"),$chosenInputContainer=$chosenContainer.find(".chosen-search"),$chosenInput=$chosenInputContainer.find("input");else{if(!$chosenContainer.find(".search-field input").length)return;$chosenContainer.find(".search-field").append("<div></div>"),$chosenInputContainer=$chosenContainer.find(".search-field > div"),($chosenInput=$chosenContainer.find("input")).appendTo($chosenInputContainer),isMultiSelect=!0}function setAriaActivedescendantFn(){$chosenContainer.find("ul.chosen-results li").removeAttr("aria-selected");($chosenOptionHighLighted=$chosenContainer.find("ul.chosen-results li.active-result.highlighted")).attr("aria-selected",!0);var $chosenOptionHighLighted=$chosenOptionHighLighted.attr("id");$chosenInput.attr("aria-activedescendant",$chosenOptionHighLighted)}var uniqueId=$el.attr("id")||randomId(),ariaOwnsId=uniqueId+"_list";$chosenContainer.attr({role:"none",id:uniqueId+"_container"}),$chosenInputContainer.attr({role:"combobox","aria-haspopup":"listbox","aria-owns":ariaOwnsId,"aria-expanded":!1,"aria-labelledby":uniqueId+"_label"}),$chosenInput.attr({role:"searchbox","aria-controls":ariaOwnsId,"aria-autocomplete":"both","aria-multiline":!1,tabindex:0,"aria-labelledby":uniqueId+"_label"}),$chosenContainer.find("ul.chosen-results").attr({role:"listbox",id:ariaOwnsId,"aria-labelledby":uniqueId+"_label"});$el.on("chosen:showing_dropdown",function(){$chosenInputContainer.attr("aria-expanded",!0),$chosenBtn&&$chosenBtn.attr("aria-expanded",!0),setAriaActivedescendantFn()}),$el.on("chosen:hiding_dropdown",function(){$chosenInputContainer.attr("aria-expanded",!1),$chosenBtn&&$chosenBtn.attr("aria-expanded",!1),$chosenInput.removeAttr("aria-activedescendant")}),new MutationObserver(function(mutations){mutations.forEach(function(mutation){"childList"===mutation.type&&$chosenContainer.find("ul.chosen-results li").each(function(i){$(this).attr({role:"option","aria-label":$(this).text(),"aria-busy":!0,id:uniqueId+"-option-"+(i+1)})})})}).observe($chosenContainer.find("ul.chosen-results")[0],{childList:!0}),$chosenInput.on("keyup",function(evt){-1!==[38,40].indexOf(evt.keyCode)&&setAriaActivedescendantFn()}),isMultiSelect?($chosenInput.removeAttr("value"),$el.on("chosen:updated",function(evt){$chosenContainer.find("a.search-choice-close").each(function(i){var $badge=$(this);$badge.attr("role","button").attr("aria-label","Remove Option "+$badge.parent().text()).attr("tabindex",0),$badge.attr({role:"button","aria-label":"Remove Option "+$badge.parent().text(),tabindex:0}),$badge.on("keyup",function(evt){-1!==[13,32,8].indexOf(evt.keyCode)&&($badge.trigger("click"),$el.trigger("chosen:open"))})})})):($chosenBtn.attr({role:"button","aria-expanded":!1,"aria-controls":ariaOwnsId=uniqueId+"-combobox-container"}),$chosenComboboxContainer.attr({id:ariaOwnsId})),$el.trigger("chosen:init-dropdown-items")},500)},scope:{},restrict:"A"}}).directive("makeTelAccessible",function(){return{controller:function($element,$timeout){$timeout(function(){function $optionActive(){return $listbox.find("li.active")}function selectedFn(option){$listboxOptions.removeAttr("aria-selected"),option.attr("aria-selected",!0),$listbox.attr("aria-activedescendant",option.attr("id"))}var activeCountry,$el=$element.parent(".intl-tel-input"),$input=$el.find("input"),$button=$el.find(".selected-flag"),$listbox=$el.find("ul.country-list"),$listboxOptions=$el.find("ul.country-list > li.country"),uniqueId=$input.attr("id")||randomId(),optionCount=($el.attr({role:"group","aria-labelledby":uniqueId+"_label"}),$input.attr({autocomplete:"tel","aria-label":"Number"}),$listbox.attr({role:"listbox","aria-label":"Country Code",id:uniqueId+"_listbox"}),$listboxOptions.length);$listboxOptions.each(function(i){$(this).attr({role:"option","aria-posinset":i+1,"aria-setsize":optionCount,id:uniqueId+"-option-"+(i+1)})}),$el.find("ul.country-list > li.divider").attr("role","none"),$button.attr({role:"button","aria-haspopup":"listbox","aria-label":"Country Code","aria-expanded":!1,"aria-controls":uniqueId+"_listbox","aria-owns":uniqueId+"_listbox"});$element.on("change",function(){try{var country=$element.intlTelInput("getSelectedCountryData").iso2;country!==activeCountry&&(activeCountry=country,selectedFn($optionActive()))}catch(err){}}),$button.on("keyup",function(evt){-1!==[38,40].indexOf(evt.keyCode)&&selectedFn($listbox.find("li.highlight"))});try{new MutationObserver(function(mutations){mutations.forEach(function(mutation){"class"===mutation.attributeName&&($(mutation.target).prop(mutation.attributeName).includes("hide")?($button.attr({"aria-expanded":!1}),$listbox.removeAttr("aria-activedescendant")):($button.attr({"aria-expanded":!0}),selectedFn($optionActive())))})}).observe($listbox[0],{attributes:!0})}catch(err){}})}}}).directive("trapModalFocus",function(){return{controller:function($element,$timeout){$timeout(function(){var unbindFn=void 0;$($element).on("shown.bs.modal",function(){unbindFn=function(){try{var focusableElements='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])',modal=$($element),firstFocusableElement=modal.find(focusableElements)[0],focusableContent=modal.find(focusableElements),lastFocusableElement=focusableContent[focusableContent.length-1],keydownFn=function(e){"Tab"!==e.key&&9!==e.keyCode||(e.shiftKey?document.activeElement===firstFocusableElement&&(lastFocusableElement.focus(),e.preventDefault()):document.activeElement===lastFocusableElement&&(firstFocusableElement.focus(),e.preventDefault()))};return document.addEventListener("keydown",keydownFn),function(){return document.removeEventListener("keydown",keydownFn)}}catch(err){return console.log(err),function(){}}}()}),$($element).on("hidden.bs.modal",function(){return"function"==typeof unbindFn?unbindFn():null})})}}})}(),!function(){"use strict";angular.module("GeckoEngage").controller("consentFieldCtrl",function($scope,geckoTranslateService,$element,updateModalPos,updateIframeHeight,apiService){var ctrl=this;geckoTranslateService.prepare($scope),ctrl.field=$scope.field,ctrl._value=$scope.value||{},ctrl.reasonIds=ctrl.field.values||[],ctrl.privacyPolicy=Gecko.account.privacy_policy,ctrl.reasonList=null,ctrl.buildValue=function(){return ctrl.reasonList.map(function(reason){return{consent:reason.id,granted:ctrl._value[reason.id]||null}})},ctrl.clickHandler=function(reasonId){ctrl._value[reasonId]=!ctrl._value[reasonId],ctrl.updateValue()},ctrl.keyDownHandler=function(_ref,reasonId){_ref=_ref.keyCode;13!==_ref&&32!==_ref||ctrl.clickHandler(reasonId)},ctrl.updateValue=function(){$scope.value=ctrl.buildValue()},ctrl.all=function(value){ctrl.reasonList.forEach(function(reason){ctrl._value[reason.id]=value}),ctrl.updateValue()},ctrl.allAreActive=function(){return ctrl.reasonList.length===ctrl.reasonList.filter(function(r){return ctrl._value[r.id]}).length},ctrl.consentToAll=function(){return 1<ctrl.reasonList.length},ctrl.isActive=function(reasonId){return{active:ctrl._value[reasonId]||!1}},ctrl.openPrivacyPolicy=function(){$element.find(".modal").modal("show"),updateModalPos()},ctrl.getReasons=function(){return apiService.consent.get(Gecko.account.uuid)},ctrl.filterReasons=function(reasons){return reasons.filter(function(reason){return-1!==ctrl.reasonIds.indexOf(reason.id)})},ctrl.mapReasonList=function(reasons){return reasons=ctrl.filterReasons(reasons),ctrl.reasonIds=ctrl.reasonIds.filter(function(reasonId){return reasons.find(function(r){return r.id===reasonId})}),ctrl.reasonIds.map(function(reasonId){var reason=reasons.find(function(r){return r.id===reasonId});return{id:reason.id,title:reason.title||null,description:reason.description||null}})},ctrl.privacy={isDisabled:function(){return ctrl.field.settings&&ctrl.field.settings.hide_all_privacy},isModal:function(){return ctrl.field.settings&&ctrl.field.settings.hide_inline_privacy},isInline:function(){return!ctrl.field.settings||ctrl.field.settings&&!ctrl.field.settings.hide_inline_privacy}},ctrl.getReasons().then(function(res){ctrl.reasonList=ctrl.mapReasonList(res.data),ctrl.updateValue(),updateIframeHeight(),$scope.$digest()})}).directive("consentField",function(){return{template:'\n                <div class="field-card clearfix" ng-class="{\'consent-field-privacy-is-modal\': ctrl.privacy.isModal() && !ctrl.privacy.isDisabled(), \'consent-field-privacy-is-inline\': ctrl.privacy.isInline() && !ctrl.privacy.isDisabled(), \'consent-field-privacy-is-disabled\': ctrl.privacy.isDisabled()}" role="group" aria-labelledby="consent_{{field.id}}_label">\n\n                    <div ng-if="!ctrl.reasonList" class="field-card-header consent-loader">\n                        {{ __(STR_KEY.CONSENT_FIELD.CONSENTS_LOADING) }}\n                    </div>\n\n                    <div ng-if="ctrl.reasonList && !ctrl.reasonList.length" class="field-card-header consent-no-options">\n                        {{ __(STR_KEY.CONSENT_FIELD.NO_CONSENTS) }}\n                    </div>\n\n                    <div ng-if="ctrl.reasonList.length">\n\n                        <div class="consent-field-body" ng-class="{\'col-sm-6\': ctrl.privacy.isInline() && !ctrl.privacy.isDisabled()}">\n                            \n                            <div class="field-card-header">\n                                <h2 class="field-card-title-text" id="consent_{{field.id}}_label" ng-bind="field.label"></h2>\n                                <div class="field-card-description-text" ng-if="field.help_text" gecko-bind-html="field.help_text"></div>\n                            </div>\n                            <ul class="field-card-list consent-reasons">\n                                <li \n                                    class="consent-reason" \n                                    ng-repeat="reason in ctrl.reasonList track by $index"\n                                    ng-class="ctrl.isActive(reason.id)"\n                                    ng-click="ctrl.clickHandler(reason.id)" \n                                    ng-keydown="ctrl.keyDownHandler($event, reason.id)">\n                                    <div>\n                                        <div class="consent-reason-checkbox">\n                                            <input type="checkbox" ng-model="ctrl._value[reason.id]" id="consent_{{field.id}}_{{reason.id}}" ng-change="ctrl.updateValue()" />\n                                            <label>&nbsp;</label>\n                                        </div>\n                                        <div class="consent-reason-meta">\n                                            <label class="field-card-header-text consent-reason-title" for="consent_{{field.id}}_{{reason.id}}">\n                                                {{reason.title}}\n                                            </label>\n                                            <div class="field-card-description-text consent-reason-description" ng-if="reason.description">\n                                                {{reason.description}}\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>\n                            </ul>\n                            <div class="field-card-footer clearfix">\n\n                                <button type="button" class="consent-btn-all btn btn-default gecko-btn pull-left" ng-click="ctrl.all(true)" ng-if="ctrl.consentToAll() && !ctrl.allAreActive()">\n                                    <i class="fa fa-check"></i>\n                                    {{ __(STR_KEY.CONSENT_FIELD.CONSENT_TO_ALL) }}\n                                </button>\n                                <button type="button" class="consent-btn-remove btn btn-default gecko-btn pull-left" ng-click="ctrl.all(null)" ng-if="ctrl.consentToAll() && ctrl.allAreActive()">\n                                    <i class="fa fa-times"></i>\n                                    {{ __(STR_KEY.CONSENT_FIELD.REMOVE_ALL) }}\n                                </button>\n\n                                <button type="button" class="consent-btn-privacy-policy btn btn-default gecko-btn pull-right" ng-click="ctrl.openPrivacyPolicy()">\n                                    <i class="fa fa-file"></i>\n                                    {{ __(STR_KEY.CONSENT_FIELD.PRIVACY_POLICY) }}\n                                </button>\n                            </div>\n                            \n                        </div>\n\n                        <div class="consent-field-body consent-field-privacy-policy col-sm-6">\n                            <div gecko-bind-html="ctrl.privacyPolicy"></div>\n                        </div>\n\n                    </div>\n\n                </div>\n\n                <div ng-if="!ctrl.privacy.isDisabled()" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">\n                    <div class="modal-dialog">\n                        <div class="modal-content">\n                            <div class="modal-header">\n                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                    <i class="gecko-icon fa fa-times"></i>\n                                </button>\n                                <h4 class="modal-title">{{ctrl.field.label}}</h4>\n                            </div>\n                            <div class="modal-body" gecko-bind-html="ctrl.privacyPolicy"></div>\n                        </div>\n                    </div>\n                </div>\n            ',restrict:"E",scope:{value:"=",field:"="},controllerAs:"ctrl",controller:"consentFieldCtrl"}})}(),!function(){"use strict";angular.module("GeckoEngage").controller("dateFieldCtrl",function($scope,geckoTranslateService,$element,isMobileDevice){var updateFn,ctrl=this;geckoTranslateService.prepare($scope),ctrl.field=$scope.field,ctrl.value=$scope.value,ctrl.fieldId="form_"+ctrl.field.id,ctrl.isMobile=isMobileDevice(),ctrl.isMobile?(ctrl.formatValue=function(date){return date?moment.utc(date,"X").format("YYYY-MM-DD"):null},ctrl.buildValue=function(date){return date?moment.utc(date,"YYYY-MM-DD").startOf("day").format("X"):null},$scope.$watch("ctrl.value",updateFn=function(value,oldValue){value!==oldValue&&($scope.value=ctrl.buildValue(value))}),$scope.$watch("value",function(value,oldValue){value!==oldValue&&(ctrl.value=ctrl.formatValue(value))})):(ctrl.updateFn=updateFn=function(value,oldValue){return value!==oldValue&&($scope.value=value),Promise.resolve().then(function(){return $scope.$digest()})},$scope.$watch("ctrl.value",updateFn))}).directive("dateField",function(){return{template:'\n                <div ng-if="!ctrl.isMobile">\n                    <date-field-input\n                        role="group"\n                        aria-labelledby="{{ctrl.fieldId}}_label"\n                        field="ctrl.field"\n                        value="value"\n                        update-fn="ctrl.updateFn">\n                    </date-field-input>\n                </div>\n\n                <input\n                    ng-if="ctrl.isMobile"\n                    id="{{ctrl.fieldId}}" \n                    class="form-control" \n                    type="date"\n                    ng-model="ctrl.value" \n                    ng-class="{\'has-value\': ctrl.value}"\n                    placeholder="{{ __(STR_KEY.INPUT.DATE) }}"\n                    aria-required="{{!!field.required}}" />\n            ',restrict:"E",scope:{value:"=",field:"="},controllerAs:"ctrl",controller:"dateFieldCtrl"}})}(),!function(){"use strict";angular.module("GeckoEngage").directive("dateFieldInput",function(){return{restrict:"E",scope:{field:"=",value:"=",updateFn:"="},template:'\n                <div ng-repeat="field in ctrl.fields track by $index" ng-class="\'date-field-input-\'+field.part">\n                    <label for="{{ctrl.fieldId}}_{{field.part}}">\n                        {{field.label}}\n                    </label>\n                    <input \n                        id="{{ctrl.fieldId}}_{{field.part}}"\n                        class="form-control"\n                        type="text"\n                        autocomplete="bday-{{field.part}}"\n                        ng-model="ctrl[field.part]"\n                        ng-change="ctrl.changeFn()"\n                        ng-blur="ctrl.blurFn(field.part)"\n                        ng-keyup="ctrl.keyupFn()"\n                        ng-keydown="ctrl.keydownFn($event, field.part)"\n                        ng-paste="ctrl.pasteFn($event, field)" />\n                </div>\n            ',controllerAs:"ctrl",controller:function($scope,geckoTranslateService){var ctrl=this,unbindValueFn=(geckoTranslateService.prepare($scope),ctrl.field=$scope.field,ctrl.fieldId="form_"+ctrl.field.id,ctrl.day=null,ctrl.month=null,ctrl.year=null,$scope.$watch("value",function(value,oldValue){value=moment(value,"X").startOf("day");value.isValid()&&(ctrl.day=value.format("DD"),ctrl.month=value.format("MM"),ctrl.year=value.format("YYYY"))})),pickerFormat=Gecko.dateFormat.datepicker.split("/"),geckoTranslateService=$scope.__($scope.STR_KEY.INPUT.DAY),month=$scope.__($scope.STR_KEY.INPUT.MONTH),year=$scope.__($scope.STR_KEY.INPUT.YEAR),stringFormat=(ctrl.fields=[{id:"dd",part:"day",label:geckoTranslateService},{id:"mm",part:"month",label:month},{id:"yyyy",part:"year",label:year}].sort(function(a,b){return pickerFormat.indexOf(a.id)-pickerFormat.indexOf(b.id)}),"YYYY-MM-DD HH:mm:ss"),prepareDate=function(){return moment.utc(ctrl.year+"-"+ctrl.month+"-"+ctrl.day+" 00:00:00",stringFormat)};ctrl.changeFn=function(){unbindValueFn(),ctrl.validate().then(function(){$scope.updateFn(prepareDate().format("X"))}).catch(function(){$scope.updateFn(null)})},ctrl.validate=function(){return new Promise(function(resolve,reject){var maxDays={1:31,2:29,3:31,4:30,5:31,6:30,7:31,8:31,9:30,10:31,11:30,12:31},day=Number(ctrl.day),month=Number(ctrl.month),year=Number(ctrl.year);return ctrl.month&&maxDays[month]<day?ctrl.day=maxDays[month]:31<day&&(ctrl.day=31),12<month&&(ctrl.month=12),4<String(year).length&&(ctrl.year=String(year).slice(0,4)),(prepareDate().isValid()?resolve:reject)()})},ctrl.keydownFn=function(evt){var key=evt.which,isNumeric=48<=key&&key<=57||96<=key&&key<=105,key=-1!==[8,9,37,39,46].indexOf(key),isPasteShortcut=(evt.ctrlKey||evt.metaKey)&&86===evt.keyCode;isNumeric||key||isPasteShortcut||evt.preventDefault()},ctrl.keyupFn=function(){},ctrl.blurFn=function(part){-1!==["day","month"].indexOf(part)&&1===String(ctrl[part]).length&&(ctrl[part]="0"+ctrl[part])},ctrl.pasteFn=function(event){var pasted=event.originalEvent.clipboardData.getData("text/plain"),splitDate=pasted.split(/\.|-|\/|\s/);1<splitDate.length&&(event.preventDefault(),splitDate=splitDate.filter(function(date){return!isNaN(Number(date))}),ctrl.day=splitDate[pickerFormat.indexOf("dd")],ctrl.month=splitDate[pickerFormat.indexOf("mm")],ctrl.year=splitDate[pickerFormat.indexOf("yyyy")],ctrl.blurFn(ctrl.fields.find(function(f){return"dd"===f.id}).part),ctrl.blurFn(ctrl.fields.find(function(f){return"mm"===f.id}).part),ctrl.changeFn()),isNaN(Number(pasted))&&event.preventDefault()}}}})}(),!function(){"use strict";angular.module("GeckoEngage").directive("dateFieldInputCalendar",function(){return{require:"?ngModel",restrict:"A",scope:{},link:function($scope,element,attrs,controller){var momentFormat=Gecko.dateFormat.short,pickerFormat=Gecko.dateFormat.datepicker;return null!==controller&&(controller.$formatters.push(function(value){return value?moment(value,"X").format(momentFormat):""}),controller.$parsers.push(function(value){return value?(value=value,format=momentFormat,moment.utc([moment(value,format).year(),moment(value,format).month(),moment(value,format).date()]).startOf("day").format("X")):"";var format})),attrs.$observe("date-field-input-calendar",function(){element.datepicker({format:pickerFormat,orientation:"auto",disableTouchKeyboard:!0,keyboardNavigation:!0,autoclose:!0}).on("show",function(e){controller.$viewValue&&!element.datepicker("getDate")&&element.datepicker("setDate",controller.$viewValue)})})}}})}(),!function(){"use strict";angular.module("GeckoEngage").controller("errorAlertCtrl",function($scope,geckoTranslateService,$element){geckoTranslateService.prepare($scope),this.scrollFn=$scope.scrollFn||function(){}}).directive("errorAlert",function(){return{template:'\n                <div class="alert alert-danger" role="alert" tabindex="-1">\n                    <p id="form-errors">\n                        <strong>{{ __(STR_KEY.ALERT.VALIDATION_DESCRIPTION) }}:</strong>\n                    </p>\n                    <ul>\n                        <li ng-repeat="(fieldId, errorMessages) in errors">\n                            <div ng-repeat="error in errorMessages track by $index" ng-click="ctrl.scrollFn(fieldId)" gecko-bind-html="error"></div>\n                        </li>\n                    </ul>\n                </div>\n            ',restrict:"E",scope:{errors:"=",scrollFn:"="},controllerAs:"ctrl",controller:"errorAlertCtrl"}})}(),!function(){"use strict";function filePickerModalCtrl($scope,$rootScope,geckoTranslateService,$element,geckoFileUploadService){function onChange(files){(Object.keys(files)||[]).forEach(function(key){$scope.files.length<ctrl.maximum&&(key=files[key],$scope.files.push(key))}),$scope.uploadErrors=[],$scope.$digest()}var ctrl=this;geckoTranslateService.prepare($scope),ctrl.utils=$scope.utils,ctrl.maximum=$scope.multiple&&$scope.multiFileLimit||1,ctrl.allowedMimeTypes=geckoFileUploadService.defaultAllowedMimetypes,$scope.files=$scope.files||[],$scope.uploadErrors=[],ctrl.stopEvent=function(event){event.stopPropagation(),event.preventDefault()};$scope.handleFileChange=function(event){ctrl.stopEvent(event),onChange(event.target.files)},$scope.fileDrop=function(event){$(event.target).removeClass("dragging-over"),ctrl.stopEvent(event),onChange(event.dataTransfer.files)},$scope.fileDragOver=function(event){return ctrl.stopEvent(event)},$scope.fileDragEnter=function(event){$(event.target).addClass("dragging-over"),ctrl.stopEvent(event)},$scope.fileDragLeave=function(event){$(event.target).removeClass("dragging-over"),ctrl.stopEvent(event)},ctrl.truncatedFileName=function(name){return name&&name.length<30?name:name?name.slice(0,13)+"..."+name.slice(-13):null},ctrl.removeFile=function(file){file=($scope.files||[]).indexOf(file);-1!==file&&($scope.files.splice(file,1),$scope.value.splice(file,1))},ctrl.setIsUploading=function(){var show=0<arguments.length&&void 0!==arguments[0]&&arguments[0];$scope.$emit("isUploading",show),ctrl.isUploading=show},ctrl.closeModal=function(){return ctrl.utils.modal.close()},ctrl.updateValue=function(newFiles){var existingFiles=$scope.value||[];$scope.value=existingFiles.concat(newFiles||[]).filter(function(v,i,a){return a.indexOf(v)===i}),$scope.updateValue($scope.field,$scope.value)},$scope.uploadFiles=function(){if($scope.uploadErrors=[],$scope.files&&$scope.files.length){var files;if(geckoFileUploadService.isFileTypesValid($scope.files,ctrl.allowedMimeTypes))return(files=$scope.files.filter(function(file){return!file.uploaded})).length?(ctrl.setIsUploading(!0),geckoFileUploadService.uploadFiles(files).then(function(files){return ctrl.updateValue(files),ctrl.closeModal(),files}).then(function(){$scope.files.map(function(file){return file.uploaded=!0,file})}).catch(function(err){$scope.uploadErrors=[err],$scope.$digest()}).finally(function(){ctrl.setIsUploading(!1),$scope.$digest()})):ctrl.closeModal();$scope.uploadErrors.push("The selected file(s) are an invalid type, please select another suitable file.")}else $scope.uploadErrors=[$rootScope.__($rootScope.STR_KEY.FILE_UPLOAD_FIELD.ERROR_2)]},$scope.allowMoreFiles=function(){return!(ctrl.maximum&&$scope.files.length>=ctrl.maximum)},$($element).find(".modal").on("hidden.bs.modal",ctrl.closeModal)}angular.module("GeckoEngage").controller("filePickerFieldCtrl",function($scope,geckoTranslateService,$element,geckoFileUploadService,updateModalPos,$timeout){var ctrl=this;geckoTranslateService.prepare($scope),$scope.files=[],$scope.getIcon=geckoFileUploadService.getIcon,$scope.toggleModal=function(file){ctrl.utils.modal.open()},$scope.removeUpload=function(field,file){!$scope.value||-1!==(file=($scope.files||[]).indexOf(file))&&($scope.files.splice(file,1),$scope.value.splice(file,1))},ctrl.utils={modal:{open:function(){$timeout(function(){return $element.find(".modal").modal("show")}),updateModalPos()},close:function(){$timeout(function(){$element.find(".modal").modal("hide"),ctrl.utils.modal.focusTarget()})},target:null,setTarget:function(evt){ctrl.utils.modal.target=evt.target},focusTarget:function(){ctrl.utils.modal.target&&(ctrl.utils.modal.target.focus(),ctrl.utils.modal.target=null)}}}}).directive("filePickerField",function(){return{templateUrl:"/public/views/_fields/file-picker.fd87eaa4.html",restrict:"E",scope:{file:"=",field:"=",accept:"=",multiple:"=",value:"=",multiFileLimit:"=",updateValue:"="},controllerAs:"ctrl",controller:"filePickerFieldCtrl"}}).directive("filePickerModal",function(){return{restrict:"E",scope:{value:"=",getIcon:"&",field:"=",accept:"=",multiple:"=",multiFileLimit:"=",showModal:"&",files:"=",updateValue:"=",utils:"="},templateUrl:"/public/views/_modals/file-picker-modal.d0b3917f.html",controller:filePickerModalCtrl,controllerAs:"ctrl"}})}(),!function(){"use strict";angular.module("GeckoEngage").controller("organisationFieldCtrl",function($scope,geckoTranslateService,$element,apiService){var ctrl=this,pauseLoad=(geckoTranslateService.prepare($scope),$scope.options=[],$scope.ref=null,ctrl.keyword=null,ctrl.organisationType=$scope.field.organisation_type_id||null,ctrl.organisationCreate=$scope.field.settings&&$scope.field.settings.organisation_create,ctrl.value=null,ctrl.buildValue=function(valObj){return ctrl.organisationCreate&&valObj&&valObj.title?{name:valObj.title}:valObj&&valObj.id&&valObj.title?{organisation_id:valObj.id,name:valObj.title}:null},$scope.$watch("ctrl.value",function(value,oldValue){value!==oldValue&&($scope.value=ctrl.buildValue($scope.ref.options[value]))}),$scope.config={plugins:["no_results","accessibility-2"],create:!(!ctrl.organisationCreate||!ctrl.organisationType),valueField:"id",labelField:"title",searchField:"keyword",search_contains:!0,maxItems:1,placeholder:$scope.field.placeholder||$scope.__($scope.STR_KEY.ORGANISATION_FIELD.TYPE_TO_SEARCH),onInitialize:function(ref){$scope.ref=ref,$element.find("input").on("focus",$scope.config.onFocus),$element.find(".selectize-control").addClass("multi")},onType:function(keyword){return ctrl.load(keyword)},onFocus:function(){if(ctrl.value){for(var k in $scope.options=[{title:ctrl.value}],$scope.$digest(),$scope.ref.options||{})k!==ctrl.value&&$scope.ref.removeOption(k);$scope.ref.refreshOptions(!1)}},onDelete:function(){return ctrl.clear()},render:{option:function(org,escape){var opt='<div class="opt-title">'+escape(org.title)+"</div>";return org.address&&(opt+='<div class="opt-address" style="font-size:11px;">'+escape(org.address)+"</div>"),'<div role="option" id="'+("field_"+$scope.field.id+"-option-"+org.id)+'">'+opt+"</div>"}}},ctrl.clear=function(){$scope.options=[],$scope.$digest(),$scope.ref.clearOptions(),$scope.ref.refreshOptions(!1)},ctrl.applyLoadingClass=function(remove){if(remove)return $element.removeClass("is-loading"),void $scope.$digest();$element.addClass("is-loading")},!(ctrl.applySearchingText=function(remove){if(remove)return $element.find(".no-results").text($scope.__($scope.STR_KEY.ORGANISATION_FIELD.NO_RESULTS_FOUND)),void $scope.$digest();$element.find(".no-results").text($scope.__($scope.STR_KEY.ORGANISATION_FIELD.SEARCHING))}));ctrl.load=function(keyword){if(!pauseLoad&&keyword!==ctrl.value)return ctrl.keyword=keyword,ctrl.keyword?(ctrl.applyLoadingClass(),ctrl.applySearchingText(),pauseLoad=!0,setTimeout(function(){pauseLoad=!1},500),apiService.organisation.get(Gecko.account.uuid,ctrl.keyword,ctrl.organisationType).then(function(orgs){ctrl.keyword&&($scope.options=(orgs.data||[]).map(function(org){return org.keyword=org.title+" "+org.address,org}),$scope.$digest(),$scope.ref.refreshOptions(!0),ctrl.applyLoadingClass(!0),ctrl.applySearchingText(!0),ctrl.keyword&&!$scope.options.length&&$scope.ref.$empty_results_container.show())}).catch(function(err){ctrl.applyLoadingClass(!0),ctrl.applySearchingText(!0)})):ctrl.clear()}}).directive("organisationField",function(){return{template:'\n                <selectize\n                    id="form_{{field.id}}"\n                    aria-labelledby="form_{{field.id}}_label"\n                    config="config" \n                    options="options" \n                    ng-model="ctrl.value">\n                </selectize>\n            ',restrict:"E",scope:{value:"=",field:"="},controllerAs:"ctrl",controller:"organisationFieldCtrl"}})}(),!function(){"use strict";angular.module("GeckoEngage").controller("eventPickerCtrl",function($route,$scope,$location,$q,eventBasket,$rootScope,updateIframeHeight,apiService){$scope.Gecko=Gecko,$scope.shouldBeChosen=function(){return!/iP(od|hone|ad)/i.test(window.navigator.userAgent)};var isDateInEventDateRange=GeckoUI.curry(function(date,event){return-1!==event.date_range.indexOf(date)}),ctrl=this,flattenEvents=(ctrl.category=$scope.field.values.event_category_id,ctrl.events=[],ctrl.parentEvents=[],ctrl.sessions=[],ctrl.availableEvents=[],ctrl.availableSessions=[],ctrl.availableDates=[],ctrl.visibleSessionCount=20,ctrl.noCalendar=$scope.field.values.disable_calendar,ctrl.bookingBasket=eventBasket(),ctrl.pickedSessionTime={},ctrl.availableFilters=[],ctrl.selectedFilters=[],!$scope.field.values.default_status&&$location.search().status?ctrl.defaultStatus=$location.search().status:ctrl.defaultStatus=$scope.field.values.default_status,ctrl.getTimezone=function(event){return(event.timezone||Gecko.account.timezone).replace("Etc/","").replace("/"," - ").replace("_"," ")},ctrl.showDatePicker=function(){return ctrl.availableDates&&0!==ctrl.availableDates.length&&!ctrl.showOldEventPicker()&&!ctrl.noCalendar},ctrl.showEventPicker=function(){return!(!ctrl.pickedDate&&!ctrl.noCalendar||!ctrl.availableEvents||!ctrl.availableEvents.length||ctrl.showOldEventPicker())},ctrl.showSessions=function(){return!(!$scope.values[$scope.field.id].parent_event_id||ctrl.getEvent().registration_type==Gecko.Event.TYPE_SINGLE_EVENT)},ctrl.showSingleSessionPicker=function(){return ctrl.showSessions()&&ctrl.getEvent().registration_type==Gecko.Event.TYPE_SINGLE_SESSION&&!ctrl.showOldEventPicker()},ctrl.showMultiSessionPicker=function(){return ctrl.showSessions()&&ctrl.getEvent().registration_type==Gecko.Event.TYPE_MULTI_SESSION&&!ctrl.showOldEventPicker()},ctrl.showOldEventPicker=function(){return $scope.event},ctrl.showGuestSelection=function(){var event=ctrl.getEvent();return event&&event.maximum_guests},ctrl.areAnyFiltersSelected=function(){return!!ctrl.selectedFilters.length},ctrl.isFilterSelected=function(filter){return-1!==ctrl.selectedFilters.indexOf(filter)},ctrl.filterButtonText=function(){return ctrl.areAnyFiltersSelected()?"Filter Applied":"Filter Sessions"},ctrl.selectFilter=function(_tag){var tag=String(_tag);-1===ctrl.selectedFilters.indexOf(tag)?ctrl.selectedFilters=ctrl.selectedFilters.concat(tag):ctrl.selectedFilters=ctrl.selectedFilters.filter(function(_filter){return _filter!==tag})},ctrl.isInSelectedFilters=function(session){return!ctrl.areAnyFiltersSelected()||!(!session.tags||!Array.isArray(session.tags))&&!!session.tags.find(function(tag){return-1!==ctrl.selectedFilters.indexOf(String(tag))})},ctrl.clearFilters=function(){ctrl.selectedFilters=[]},$(document).on("click",".event-filter-menu",function(e){e.stopPropagation()}),ctrl.isEventFull=function(event){return!!(event="number"!=typeof event&&"string"!=typeof event?event:ctrl.events.find(function(st){return st.id==event}))&&(event.full&&!event.auto_waitlist)},ctrl.spacesLeft=function(event){return!!(event="number"!=typeof event&&"string"!=typeof event?event:ctrl.events.find(function(st){return st.id==event}))&&(event.maximum?event.available_spaces:1/0)},ctrl.isEventWaitlisted=function(event){return!!(event="number"!=typeof event&&"string"!=typeof event?event:ctrl.events.find(function(st){return st.id==event}))&&(event.full&&event.auto_waitlist)},ctrl.willWaitlistApply=function(event){return!!(event="number"!=typeof event&&"string"!=typeof event?event:ctrl.events.find(function(st){return st.id==event}))&&(!ctrl.enoughSpaceInEvent(event)&&event.auto_waitlist)},ctrl.isSingleSessionFilled=function(){return ctrl.getEvent().registration_type==Gecko.Event.TYPE_SINGLE_SESSION&&ctrl.eventHasSessionInBasket(ctrl.getEvent())},ctrl.eventHasSessionInBasket=function(event){var session_ids=event.children.map(function(session){return session.id});return ctrl.getBasketContents().find(function(sessionTime){return-1!==session_ids.indexOf(sessionTime.parent_id)})},ctrl.sessionHasNoTimesInBasket=function(session){return!ctrl.getBasketContents().find(function(sessionTime){return sessionTime.parent_id==session.id})},ctrl.getTopParent=function(event){var parent;return event&&event.parent_id?(parent=ctrl.events.find(function(e){return e.id==event.parent_id}),ctrl.getTopParent(parent)):event},ctrl.renderEventMeta=function(event){var meta="";return event.location&&(meta+=event.location),event.location&&event.cost&&(meta+=", "),event.cost&&(meta+=event.cost+" "+Gecko.account.currency),meta},ctrl.prettyDate=function(date){if(!date)return"";var format=Gecko.DATE_FORMATS[Gecko.account.short_date_format].shortTime;return moment.utc(date,"YYYY-MM-DD HH:mm:ss").format(format)},ctrl.generateEventPrettyTime=function(event){return ctrl.prettyDate(event.start_datetime)+" - "+ctrl.prettyDate(event.end_datetime)},ctrl.updateBookings=function(){$scope.values[$scope.field.id].event_ids=ctrl.bookingBasket.generateEventIdsObject()},ctrl.pickSession=function(sessionId){ctrl.bookingBasket.addItem(sessionId),ctrl.updateBookings()},ctrl.removeSession=function(sessionId){ctrl.bookingBasket.removeItem(sessionId),ctrl.updateBookings(),Number(sessionId)===Number($scope.values[$scope.field.id]._parent_event_id)&&(ctrl.pickedDate=null,$scope.values[$scope.field.id].parent_event_id=null,setTimeout(function(){$scope.eventPickerRef.setValue(null)}),ctrl.changePickedEvent())},ctrl.isSessionInBasket=function(session){return session.children.find(function(sessionTime){return ctrl.bookingBasket.isInBasket(sessionTime.id)})},ctrl.getPickableSessionTimes=function(session){return ctrl.noCalendar?session.children:session.children.filter(isDateInEventDateRange(ctrl.pickedDate))},ctrl.getBasketContents=function(){return ctrl.bookingBasket.contents.map(function(id){return ctrl.events.find(function(event){return event.id==id})})},ctrl.getClashes=function(eventId){if(!eventId)return[];var event=ctrl.events.find(function(e){return e.id==eventId});return ctrl.getBasketContents().reduce(function(conflicts,e){return event.id!=e.id&&event.end_datetime>=e.start_datetime&&event.start_datetime<=e.end_datetime?conflicts.concat(e):conflicts},[])},ctrl.getEventTitles=function(events){return events.map(function(e){return e.title}).join(", ")},ctrl.getEvent=function(){var event=ctrl.parentEvents.find(function(event){return event.id===$scope.values[$scope.field.id].parent_event_id})||{};return $scope.values[$scope.field.id].registration_type=event.registration_type,event},ctrl.getArrayOfMaxGuests=function(){var event=ctrl.getEvent();if(!event)return[];for(var array=[],i=0;i<event.maximum_guests&&!(999<i);i++)array.push(i+1);return array},ctrl.clearBasketWhenGuestCountChanges=function(){ctrl.bookingBasket.contents&&ctrl.bookingBasket.contents.length&&ctrl.bookingBasket.contents.forEach(function(sessionId){ctrl.enoughSpaceInEvent(sessionId)||ctrl.willWaitlistApply(sessionId)||ctrl.removeSession(sessionId)})},ctrl.guestCount=function(){return $scope.values[$scope.field.id].guest_count||0},ctrl.enoughSpaceInEvent=function(event){if(!(event="number"==typeof event?(event=ctrl.events.find(function(e){return e.id==event}))||ctrl.sessions.find(function(e){return e.id==event}):event))return null;var guests_selected=ctrl.guestCount();return event.available_spaces>=parseInt(guests_selected)+1},ctrl.initPickedSessionTime=function(session){return ctrl.pickedSessionTime[session.id]=ctrl.getPickableSessionTimes(session)[0]?ctrl.getPickableSessionTimes(session)[0].id:null},function(events){var sessions=events.reduce(function(sessions,event){return sessions.concat(event.children)},[]),sessionTimes=sessions.reduce(function(sessionTimes,session){return sessionTimes.concat(session.children)},[]);return[].concat(events,sessions,sessionTimes)}),getSessionDates=function(event){return event.children.reduce(function(dates,session){return dates.concat(getSessionTimeDates(session))},[])},getSessionTimeDates=function(session){return session.children.reduce(function(dates,sessionTime){return dates.concat(sessionTime.date_range)},[])},blankSessionPicker=function(){$scope.values[$scope.field.id]&&($scope.values[$scope.field.id].single_session_id=void 0)},blankEventPicker=function(){$scope.values[$scope.field.id]&&($scope.values[$scope.field.id].parent_event_id=void 0),blankSessionPicker()},doesEventHaveSessionOnDate=GeckoUI.curry(function(date,event){return void 0!==event.children.find(doesSessionHaveSessionTimeOnDate(date))}),doesSessionHaveSessionTimeOnDate=GeckoUI.curry(function(date,session){return void 0!==session.children.find(isDateInEventDateRange(date))}),getSessionsOnDate=function(parentEvent,date){return parentEvent.children?parentEvent.children.filter(function(session){return void 0!==session.children.find(isDateInEventDateRange(date))}):[]},hasChildren=function(event){return Array.isArray(event.children)&&event.children.length};ctrl.lastRefresh=-1,ctrl.refreshEvents=function(){if(5e3<Date.now()-ctrl.lastRefresh)return ctrl.lastRefresh=Date.now(),apiService.category.get($route.current.params.uuid,ctrl.category).then(function(category){var prepopulateValue;category=category.category.events,ctrl.events=flattenEvents(category),ctrl.parentEvents=category,ctrl.sessions=category.reduce(function(sessions,event){return sessions.concat(event.children)},[]),ctrl.sessionTimes=ctrl.sessions.reduce(function(sessionTimes,session){return sessionTimes.concat(session.children.map(function(sessionTime){return sessionTime.title=session.title,sessionTime.location=session.location,sessionTime.cost=session.cost,sessionTime}))},[]),ctrl.availableEvents=ctrl.availableEvents.length?ctrl.availableEvents:ctrl.parentEvents,ctrl.noCalendar?(ctrl.changePickedEvent=function(){var eventId=$scope.values[$scope.field.id].parent_event_id;blankSessionPicker(),ctrl.clearFilters(),ctrl.availableSessions=ctrl.sessions.filter(function(session){return session.parent_id===eventId}).filter(hasChildren),ctrl.getEvent().registration_type!==Gecko.Event.TYPE_SINGLE_EVENT||ctrl.isEventFull(ctrl.getEvent())||(ctrl.bookingBasket.addItem(eventId),ctrl.updateBookings()),1===ctrl.availableSessions.length&&($scope.values[$scope.field.id].single_session_id=ctrl.availableSessions[0].id),ctrl.availableFilters=(ctrl.getEvent().available_tags||[]).map(function(tag){return String(tag)})},1===ctrl.availableEvents.length&&($scope.values[$scope.field.id].parent_event_id=ctrl.availableEvents[0].id,setTimeout(function(){$scope.eventPickerRef.setValue(ctrl.availableEvents[0].id)})),(prepopulateValue=$location.search()[$scope.field.tag])&&($scope.values[$scope.field.id].parent_event_id=prepopulateValue,setTimeout(function(){$scope.eventPickerRef.setValue(prepopulateValue)})),ctrl.changePickedEvent()):(ctrl.availableDates=ctrl.parentEvents.reduce(function(dates,event){return-1!==[Gecko.Event.TYPE_SINGLE_SESSION,Gecko.Event.TYPE_MULTI_SESSION].indexOf(event.registration_type)?dates.concat(getSessionDates(event)):event.registration_type===Gecko.Event.TYPE_SINGLE_EVENT?dates.concat(event.date_range):dates},[]),ctrl.changePickedEvent=function(){var eventId=$scope.values[$scope.field.id].parent_event_id,filtersObj=(blankSessionPicker(),ctrl.clearFilters(),eventId&&ctrl.getEvent().registration_type===Gecko.Event.TYPE_SINGLE_EVENT&&!ctrl.isEventFull(ctrl.getEvent())&&(ctrl.bookingBasket.addItem(eventId),ctrl.updateBookings()),ctrl.availableSessions=getSessionsOnDate(ctrl.getEvent(),ctrl.pickedDate).filter(hasChildren),{});ctrl.availableSessions.forEach(function(session){session.tags&&session.tags.forEach(function(tag){filtersObj[String(tag)]=!0})}),ctrl.availableFilters=Object.keys(filtersObj)},ctrl.changePickedDate=function(){blankEventPicker(),ctrl.availableEvents=ctrl.parentEvents.filter(function(event){return(event.registration_type==Gecko.Event.TYPE_SINGLE_SESSION||event.registration_type==Gecko.Event.TYPE_MULTI_SESSION?doesEventHaveSessionOnDate:isDateInEventDateRange)(ctrl.pickedDate,event)}),1===ctrl.availableEvents.length&&($scope.values[$scope.field.id].parent_event_id=ctrl.availableEvents[0].id,setTimeout(function(){$scope.eventPickerRef.setValue(ctrl.availableEvents[0].id)})),ctrl.changePickedEvent()}),updateIframeHeight(),ctrl.loadingEvents=!1,$scope.$digest()}).catch(console.error)},ctrl.showOldEventPicker()?(ctrl.topEventIsSession=function(){return-1!==[Gecko.Event.TYPE_SESSION,Gecko.Event.TYPE_SESSION_LEGACY].indexOf($scope.event.type)},ctrl.sessions=[],ctrl.topEventIsSession()?ctrl.sessions.push($scope.event):angular.forEach($scope.event.related_children,function(event){ctrl.sessions.push(event.toObject())}),$scope.values[$scope.field.id]||($scope.values[$scope.field.id]={parent_event_id:$scope.event.id,default_status:ctrl.defaultStatus,event_ids:{}},0===ctrl.sessions.length&&($scope.values[$scope.field.id].event_ids[$scope.event.id]=""))):ctrl.category&&($scope.values[$scope.field.id]||($scope.values[$scope.field.id]={parent_event_id:void 0,default_status:ctrl.defaultStatus,event_ids:{}}),ctrl.loadingEvents=!0,ctrl.refreshEvents());try{ctrl.category&&$rootScope.$on("event-field-is-full-"+$scope.field.id,function(){return ctrl.refreshEvents()})}catch(e){console.log(e)}ctrl.eventPickerConfig={valueField:"id",labelField:"title",sortField:"start_datetime",search_contains:!0,maxItems:1,placeholder:"- Please select an Event -",render:{option:function(event,escape){var opt='<div class="opt-title">'+escape(event.title)+"</div>";return event.start_datetime&&(opt+='<div class="opt-address" style="font-size:11px;">'+escape(ctrl.prettyDate(event.start_datetime))+"</div>"),"<div>"+opt+"</div>"}},onInitialize:function(ref){($scope.eventPickerRef=ref)._events.change.push(function(value){value&&"number"!=typeof value&&($scope.values[$scope.field.id].parent_event_id=Number(value)),ctrl.changePickedEvent()})}}}).directive("geckoEventPicker",function(){return{templateUrl:"/public/views/_fields/event-picker.0e0fb640.html",scope:{values:"=",field:"=",event:"="},controllerAs:"ctrl",controller:"eventPickerCtrl"}})}(),!function(){"use strict";angular.module("GeckoEngage").factory("eventBasket",function(){return function(){var items=[];return{addItem:function(id){return-1===items.indexOf(id)&&items.push(id),items},removeItem:function(id){id=items.indexOf(id);return-1!==id&&items.splice(id,1),items},isInBasket:function(id){return-1!==items.indexOf(id)},clear:function(){return items=[]},generateEventIdsObject:function(){return items.reduce(function(event_ids,event){return event_ids[event]=null,event_ids},{})},get contents(){return[].concat(items)}}}})}(),!function(){"use strict";angular.module("GeckoEngage").directive("geckoEventField",function(){return{scope:{values:"=",field:"="},controllerAs:"ctrl",controller:"geckoEventFieldCtrl",template:'\n                <div class="field-card" role="group" aria-labelledby="form_{{field.id}}_title">\n\n                    <div ng-if="!ctrl.category && !ctrl.eventId && !ctrl.showOldEventPicker()" class="field-card-body event-picker-container">\n                        <div role="alert" aria-live="assertive" class="alert alert-warning" style="margin:0;">\n                            {{ __(STR_KEY.EVENT_FIELD.CONFIG_ERROR) }}\n                        </div>\n                    </div>\n\n                    <div ng-if="!ctrl.showOldEventPicker() && ctrl.loadingEvents" role="alert" aria-live="assertive" class="alert alert-warning event-picker-loader">\n                        <i class="fa fa-sync fa-spin"></i>\n                        &nbsp;\n                        {{ __(STR_KEY.EVENT_FIELD.LOADING) }}\n                    </div>\n\n                    <div class="field-card-header" ng-if="(field.label || field.help_text) && ctrl.showFieldTitle()">\n                        <h2 id="form_{{field.id}}_title" class="field-card-title-text">\n                            {{ field.label || __(STR_KEY.EVENT_FIELD.EVENT) }}\n                            <span aria-hidden="true" class="required" ng-if="field.required == 1">*</span>\n                        </h2>\n                        <div class="field-card-description-text" ng-if="field.help_text" gecko-bind-html="field.help_text"></div>\n                    </div>\n\n                    <div ng-if="!ctrl.showOldEventPicker() && !ctrl.loadingEvents && (ctrl.category || ctrl.eventId)" class="field-card-body event-picker-container">\n\n                        <div role="alert" aria-live="polite" class="alert alert-warning" style="margin-bottom:0;" ng-if="(!ctrl.showDatePicker() && !ctrl.showEventPicker() && !ctrl.list.length)">\n                            {{ctrl.noResultsStr()}}\n                        </div>\n\n                        <div class="event-picker-event-container" ng-if="ctrl.category">\n                        \n                        \x3c!-- Date picker --\x3e   \n                            <div ng-if="ctrl.showDatePicker()" class="event-picker-available-dates">\n                                <label for="form_{{field.id}}_date">{{ __(STR_KEY.EVENT_FIELD.PICK_DATE) }}</label>\n                                <input\n                                    id="form_{{field.id}}_date"\n                                    aria-label="{{ __(STR_KEY.EVENT_FIELD.PICK_DATE) }}"\n                                    class="form-control"\n                                    type="text"\n                                    ng-model="ctrl.pickedDate"\n                                    ng-change="ctrl.changePickedDate()"\n                                    available-dates="ctrl.availableDates"\n                                    b-datepicker\n                                    utc\n                                    placeholder="{{ __(STR_KEY.EVENT_FIELD.PICK_DATE) }}"\n                                    ng-readonly="!shouldBeChosen()"\n                                    aria-readonly="{{!shouldBeChosen()}}"\n                                    autocomplete="off" />\n                            </div>\n                        \x3c!-- /Date picker --\x3e\n                        \n                        \x3c!-- Event picker --\x3e\n                            <div ng-if="ctrl.showEventPicker()" class="event-picker-available-events">\n                                <label id="form_{{field.id}}_event_label" for="form_{{field.id}}_event">\n                                    {{ __(STR_KEY.EVENT_FIELD.PICK_EVENT) }}\n                                </label>\n                                <selectize\n                                    id="form_{{field.id}}_event"\n                                    aria-labelledby="form_{{field.id}}_event_label"\n                                    config="ctrl.eventPickerConfig" \n                                    options="ctrl.availableEvents" \n                                    ng-model="values[field.id]._parent_event_id"\n                                    ng-if="shouldBeChosen()">\n                                </selectize>\n                                <div class="select-wrapper" ng-if="!shouldBeChosen()">\n                                    <select \n                                        id="form_{{field.id}}_event"\n                                        class="form-control"\n                                        ng-model="values[field.id].parent_event_id"\n                                        ng-change="ctrl.changePickedEvent(); ctrl.clearEventSelectOnMobile()"\n                                        ng-options="event.id as event.title group by event.group_by for event in ctrl.availableEvents">\n                                            <option value="">{{ __(STR_KEY.EVENT_FIELD.PICK_EVENT) }}</option>\n                                    </select>\n                                </div>\n                            </div>\n                        \x3c!-- /Event picker --\x3e\n\n                        </div>\n\n                    \x3c!-- List Card --\x3e\n                        <div class="event-picker-session-container">\n\n                        <div ng-if="ctrl.loadingSingleEvent" role="alert" aria-live="polite" class="alert alert-warning event-picker-loader">\n                            <i class="fa fa-sync fa-spin"></i>\n                            &nbsp;\n                            {{ __(STR_KEY.EVENT_FIELD.LOADING) }}\n                        </div>\n\n                        <div ng-if="!ctrl.loadingSingleEvent && ctrl.noAvailableSessions()" role="alert" aria-live="polite" class="alert alert-warning event-picker-loader">\n                            {{ ctrl.noAvailableSessionsStr() }}\n                        </div>\n\n                        <div ng-if="!ctrl.loadingSingleEvent">\n\n                            \x3c!-- List Title --\x3e\n                               <gecko-event-field-title \n                                    ng-if="ctrl.itemUtils.getEvent().registration_type !== Gecko.Event.TYPE_SINGLE_EVENT && ctrl.list.length"\n                                    utils="ctrl.itemUtils"\n                                    filters="ctrl.availableFilters">\n                                </gecko-event-field-title>\n                            \x3c!-- /List Title --\x3e\n\n                            \x3c!-- Guests --\x3e\n                                <div class="event-field-guests" ng-if="ctrl.showGuestSelection()">\n                                    <label for="form_{{field.label}}_guests">{{ __(STR_KEY.EVENT_FIELD.NUMBER_OF_GUESTS) }}</label>\n                                    <div class="select-wrapper">\n                                        <select \n                                            id="form_{{field.label}}_guests"\n                                            aria-label="{{ __(STR_KEY.EVENT_FIELD.NUMBER_OF_GUESTS) }}"\n                                            class="form-control"\n                                            ng-model="values[field.id].guest_count"\n                                            ng-options="opt as opt for opt in ctrl.getArrayOfMaxGuests()">\n                                                <option value="">0</option>\n                                        </select>\n                                    </div>\n                                </div>\n                            \x3c!-- /Guests --\x3e\n\n                                <div class="session-container" ng-class="{\'list-is-filtered\': ctrl.itemUtils.selectedFilters.length}">\n\n                                    \x3c!-- Session Filter --\x3e\n                                        <gecko-event-field-filter \n                                            ng-if="ctrl.itemUtils.getEvent().registration_type !== Gecko.Event.TYPE_SINGLE_EVENT && ctrl.list.length"\n                                            filters="ctrl.availableFilters"\n                                            utils="ctrl.itemUtils">\n                                        </gecko-event-field-filter>\n                                    \x3c!-- /Session Filter --\x3e\n\n                                    \x3c!-- List --\x3e\n                                        <ul class="field-card-list" style="clear: both;">\n\n                                            <li \n                                                gecko-event-field-filter-item \n                                                utils="ctrl.itemUtils"\n                                                ng-if="ctrl.itemUtils.selectedFilters.length"\n                                                class="event-event-field-item-filter clearfix active">\n                                            </li>  \n\n                                            <li ng-if="ctrl.itemUtils.isFiltered() && !ctrl.list.filter(ctrl.isInSelectedFilters).filter(ctrl.isInSelectedSearch).length">\n                                                <div style="margin:20px 15px" class="alert alert-warning" role="alert" aria-live="polite">\n                                                    {{ __(STR_KEY.EVENT_FIELD.FILTER_NO_RESULTS) }}\n                                                </div>\n                                            </li>\n\n                                            <li\n                                                ng-repeat="item in ctrl.list.filter(ctrl.isInSelectedFilters).filter(ctrl.isInSelectedSearch).filter(ctrl.isInPaginationLimit) track by item.id"\n                                                ng-class="ctrl.renderItemClass(item)"\n                                                gecko-event-field-item \n                                                item="item"\n                                                utils="ctrl.itemUtils">\n                                            </li>\n\n                                        </ul>\n                                    \x3c!-- /List --\x3e\n\n                                </div>\n\n                                <gecko-event-field-pagination \n                                    list="ctrl.list"\n                                    utils="ctrl.itemUtils"\n                                    ng-if="ctrl.list && ctrl.list.filter(ctrl.isInSelectedFilters).filter(ctrl.isInSelectedSearch).length > ctrl.itemUtils.pagination.limit">\n                                </gecko-event-field-pagination>\n                            </div>\n                        \x3c!-- /List Card --\x3e\n\n                        \x3c!-- Summary Basket --\x3e\n                            <gecko-event-field-summary \n                                ng-if="ctrl.itemUtils.getBasketContents().length && ctrl.itemUtils.getEvent().registration_type !== Gecko.Event.TYPE_EVENT"\n                                list="ctrl.list"\n                                utils="ctrl.itemUtils">\n                            </gecko-event-field-summary>\n                        \x3c!-- /Summary Basket--\x3e\n\n                    </div>\n\n                    </div>\n\n                \x3c!-- EFID EVENT FIELD (DO NOT REMOVE) --\x3e\n                    <div ng-if="ctrl.showOldEventPicker() && event">\n                        <ul>\n                            <li class="list-item event-parent" ng-if="!ctrl.topEventIsSession()">\n                                <input id="field_{{field.id}}_event_{{event.id}}" type="checkbox" ng-model="values[field.id].event_ids[event.id]" ng-true-value="{{defaultStatus || \'\'}}">\n                                <label for="field_{{field.id}}_event_{{event.id}}">{{event.title}}</label>\n                            </li>\n\n                            <li class="list-item" ng-repeat="event in ctrl.sessions" ng-class="{\'event-parent\': ctrl.topEventIsSession(), \'event-child\': !ctrl.topEventIsSession()}">\n                        \x3c!-- Legacy Session--\x3e\n                                <div ng-if="event.type === Gecko.Event.TYPE_SESSION_LEGACY">\n                                    <input id="field_{{field.id}}_event_{{event.id}}" type="checkbox" ng-model="values[field.id].event_ids[event.id]" ng-true-value="{{ctrl.defaultStatus || \'\'}}">\n                                    <label for="field_{{field.id}}_event_{{event.id}}">{{event.title}}</label>\n                                </div>\n                        \x3c!-- /Legacy Session--\x3e\n                        \x3c!-- Sessions + Session Times --\x3e\n                                <div ng-if="event.type === Gecko.Event.TYPE_SESSION">\n                                    <span class="session-title">{{event.title}}</span>\n                                    \n                                    <ul ng-if="event.children && event.children.length">\n                                        <li class="list-item" ng-repeat="session_time in event.children">\n                                            <input id="field_{{field.id}}_event_{{session_time.id}}" type="checkbox" ng-model="values[field.id].event_ids[session_time.id]" ng-true-value="{{ctrl.defaultStatus || \'\'}}">\n                                            <label for="field_{{field.id}}_event_{{session_time.id}}">{{session_time.title}}</label>\n                                        </li>\n                                    </ul>\n\n                                </div>\n                        \x3c!-- Sessions + Session Times --\x3e\n                            </li>\n                        </ul>\n                    </div>\n                \x3c!-- /EFID EVENT FIELD (DO NOT REMOVE) --\x3e\n\n                \x3c!-- Event List Modal --\x3e\n                    <gecko-event-field-modal utils="ctrl.itemUtils"></gecko-event-field-modal>\n                \x3c!-- /Event List Modal --\x3e\n\n                </div>\n            '}})}(),!function(){"use strict";angular.module("GeckoEngage").controller("geckoEventFieldCtrl",function($route,$scope,$location,eventBasket,$rootScope,eventFieldService,$element,$timeout,geckoTranslateService,updateIframeHeight,updateModalPos,updateIframePos){function groupAvailableEvents(){ctrl.availableEvents=ctrl.availableEvents.map(function(e){return e.group_by=eventFieldService.date.dayMonthYear(e.start_datetime)+", "+eventFieldService.date.hourMinute(e.start_datetime),e})}$scope.Gecko=Gecko,$scope.shouldBeChosen=function(){return!eventFieldService.isMobile()};var isDateInEventDateRange=GeckoUI.curry(function(date,event){return-1!==(event.date_range||[]).indexOf(date)}),ctrl=this,pagination=(geckoTranslateService.prepare($scope),ctrl.category=$route.current.params.event_field_id?null:$scope.field.values.event_category_id,ctrl.eventId=$route.current.params.event_field_id||$scope.field.values.event_id,ctrl.showFullEvents=!!Number($route.current.params.show_full_events)||$scope.field.values.show_full_events||!1,ctrl.parentEvents=[],ctrl.availableEvents=[],ctrl.availableDates=[],ctrl.noCalendar=$scope.field.values.disable_calendar,ctrl.bookingBasket=eventBasket(),ctrl.availableFilters=[],ctrl.list=[],!$scope.field.values.default_status&&$location.search().status?ctrl.defaultStatus=$location.search().status:ctrl.defaultStatus=$scope.field.values.default_status,ctrl.showDatePicker=function(){return ctrl.availableDates&&0!==ctrl.availableDates.length&&!ctrl.showOldEventPicker()&&!(ctrl.noCalendar||ctrl.eventId)},ctrl.showEventPicker=function(){return!(!ctrl.pickedDate&&!ctrl.noCalendar||!ctrl.availableEvents||!ctrl.availableEvents.length||ctrl.showOldEventPicker())},ctrl.showOldEventPicker=function(){return!!$route.current.params.efid},ctrl.noResultsStr=function(){return ctrl.requestErrorMessage||(ctrl.requestTimedOut?"Sorry, there was a problem loading the event. Please refresh the page to try again or contact us if the problem continues.":ctrl.eventId&&ctrl.getEvent().registration_type!==Gecko.Event.TYPE_SINGLE_EVENT?$scope.__($scope.STR_KEY.EVENT_FIELD.NO_SESSION_RESULTS):$scope.__($scope.STR_KEY.EVENT_FIELD.NO_RESULTS))},ctrl.showGuestSelection=function(){var event=ctrl.getEvent();return event&&event.maximum_guests&&(ctrl.list||[]).length},ctrl.showFieldTitle=function(){return!ctrl.showOldEventPicker()&&!ctrl.loadingEvents&&(ctrl.category||ctrl.eventId)},ctrl.renderItemClass=function(item){if(ctrl.itemUtils.getEvent().registration_type===Gecko.Event.TYPE_SINGLE_EVENT)return ctrl.itemUtils.isInBasket(item)&&!ctrl.itemUtils.isWaitlisting(item)?"active":ctrl.itemUtils.isInBasket(item)&&ctrl.itemUtils.isWaitlisting(item)?"warning":ctrl.itemUtils.isFull(item)?"danger":"info";var isWaitlisting=(item.children||[]).filter(function(c){return ctrl.itemUtils.basket.isInBasket(c.id)&&ctrl.itemUtils.isWaitlisting(c)}).length;return{active:ctrl.itemUtils.isInBasket(item)&&!ctrl.itemUtils.isClashing(item)&&!isWaitlisting,warning:ctrl.itemUtils.isClashing(item)||isWaitlisting}},ctrl.areAnyFiltersSelected=function(){return!!ctrl.itemUtils.selectedFilters.length},ctrl.isInSelectedFilters=function(session){return!ctrl.areAnyFiltersSelected()||!(!session.tags||!Array.isArray(session.tags))&&!!session.tags.find(function(tag){return-1!==ctrl.itemUtils.selectedFilters.indexOf(String(tag))})},ctrl.isInSelectedSearch=function(session){return!ctrl.itemUtils.searchKeyword.length||-1!==(session.title||"").toLowerCase().indexOf(ctrl.itemUtils.searchKeyword.toLowerCase())},ctrl.updateBookings=function(){$scope.values[$scope.field.id].event_ids=ctrl.bookingBasket.generateEventIdsObject()},ctrl.getEvent=function(){var event=ctrl.parentEvents.find(function(event){return event.id===$scope.values[$scope.field.id].parent_event_id})||{};return $scope.values[$scope.field.id].registration_type=event.registration_type,event},ctrl.isVenueEvent=function(){return((0<arguments.length&&void 0!==arguments[0]?arguments[0]:null)||ctrl.getEvent()).delivery_method===Gecko.Event.DELIVERY_METHOD_VENUE},ctrl.isOnlineEvent=function(){return((0<arguments.length&&void 0!==arguments[0]?arguments[0]:null)||ctrl.getEvent()).delivery_method===Gecko.Event.DELIVERY_METHOD_ONLINE},ctrl.isHybridEvent=function(){return((0<arguments.length&&void 0!==arguments[0]?arguments[0]:null)||ctrl.getEvent()).delivery_method===Gecko.Event.DELIVERY_METHOD_HYBRID},ctrl.getArrayOfMaxGuests=function(){var event=ctrl.getEvent();if(!event)return[];for(var array=[],i=0;i<event.maximum_guests&&!(999<i);i++)array.push(i+1);return array},{limit:10,page:1,filter:function(item,index){var index=index+1,lower=pagination.limit*(pagination.page-1),higher=pagination.limit*pagination.page;return lower<index&&index<=higher},change:function(direction){"up"===direction?pagination.page++:"down"===direction&&pagination.page--;direction=document.getElementById("field"+$scope.field.id).getBoundingClientRect().top+window.pageYOffset;window.scrollTo(0,direction),updateIframePos(direction)},reset:function(){pagination.page=1}}),doesSessionHaveSessionTimeOnDate=(ctrl.isInPaginationLimit=pagination.filter,ctrl.itemUtils={field:$scope.field,getEvent:ctrl.getEvent,isVenueEvent:ctrl.isVenueEvent,isOnlineEvent:ctrl.isOnlineEvent,isHybridEvent:ctrl.isHybridEvent,prettyDeliveryMethod:function(event,isSession){var str=void 0,icon=void 0,icon=ctrl.itemUtils.isOnlineEvent(event)?(str=isSession?$scope.__($scope.STR_KEY.EVENT_FIELD.ONLINE_SESSION):$scope.__($scope.STR_KEY.EVENT_FIELD.ONLINE_EVENT),"fa-wifi"):(str=ctrl.itemUtils.isHybridEvent(event)?isSession?$scope.__($scope.STR_KEY.EVENT_FIELD.HYBRID_SESSION):$scope.__($scope.STR_KEY.EVENT_FIELD.HYBRID_EVENT):isSession?$scope.__($scope.STR_KEY.EVENT_FIELD.VENUE_SESSION):$scope.__($scope.STR_KEY.EVENT_FIELD.VENUE_EVENT),"fa-map-marker-alt");return[str,icon]},add:function(sessionId){ctrl.bookingBasket.addItem(sessionId),ctrl.updateBookings()},remove:function(sessionId){ctrl.bookingBasket.removeItem(sessionId),ctrl.updateBookings(),Number(sessionId)===Number(($scope.values[$scope.field.id]||{})._parent_event_id)&&(ctrl.pickedDate=null,$scope.values[$scope.field.id].parent_event_id=null,$scope.shouldBeChosen()&&setTimeout(function(){$scope.eventPickerRef.setValue(null)}),ctrl.changePickedEvent())},basket:ctrl.bookingBasket,getBasketContents:function(){return(ctrl.bookingBasket||{}).contents||[]},isInBasket:function(evt){return evt.registration_type===Gecko.Event.TYPE_SINGLE_EVENT?ctrl.itemUtils.eventIsInBasket(evt):ctrl.itemUtils.sessionIsInBasket(evt)},eventIsInBasket:function(evt){return ctrl.bookingBasket.isInBasket(evt.id)},sessionIsInBasket:function(session){return session.children.find(function(sessionTime){return ctrl.bookingBasket.isInBasket(sessionTime.id)})},getBasketEvents:function(){return(ctrl.itemUtils.basket.contents||[]).map(function(c){var found;return ctrl.list.forEach(function(item){item=(item.children||[]).find(function(i){return i.id===c});item&&(found=item)}),found})},isFull:function(item){if(item.parent_id&&1<(item.children||[]).length)return 0===item.children.filter(function(c){return!ctrl.itemUtils.isFull(c)}).length;item=item.parent_id&&1===(item.children||[]).length?item.children[0]:item;return item.full&&!item.auto_waitlist},isWaitlisting:function(item){item=item.parent_id&&1===(item.children||[]).length?item.children[0]:item;return item.full&&item.auto_waitlist},isBookable:function(item){return!ctrl.itemUtils.isFull(item)||ctrl.itemUtils.isWaitlisting(item)},activeModal:null,openModal:function(evt,$evt){ctrl.itemUtils.getEvent().registration_type===Gecko.Event.TYPE_SINGLE_SESSION&&ctrl.itemUtils.getBasketContents().length&&!ctrl.itemUtils.isInBasket(evt)||(ctrl.itemUtils.refreshModal(evt),$timeout(function(){$element.find(".modal").modal("show"),$evt&&ctrl.itemUtils.focusModalInit($evt),updateModalPos()}))},closeModal:function(){ctrl.itemUtils.activeModal=null,$timeout(function(){return $element.find(".modal").modal("hide")})},refreshModal:function(evt){ctrl.itemUtils.loadingFinished=!1,ctrl.itemUtils.activeModal=null,$timeout(function(){return ctrl.itemUtils.activeModal=evt})},modalFocusTarget:null,focusModalInit:function(evt){ctrl.itemUtils.modalFocusTarget=evt.target},focusModalTarget:function(){ctrl.itemUtils.modalFocusTarget&&(ctrl.itemUtils.modalFocusTarget.focus(),ctrl.itemUtils.modalFocusTarget=null)},keyupFn:function(evt,cb){evt.stopPropagation(),"keyup"===evt.type&&-1!==[13,32].indexOf(evt.keyCode)&&cb&&cb()},prepEmitEvtName:function(evt,id){return evt+"-"+$scope.field.id+"-"+id},sortBy:($scope.field.values||{}).sort_by||"date",sort:function(params){pagination.reset();var sort=(params=(params||"").split("|"))[0],params=2===params.length?params[1]:"";return"title"===sort?"DESC"===params?(ctrl.list||[]).sort(function(a,b){return a.title<b.title?1:b.title<a.title?-1:0}):(ctrl.list||[]).sort(function(a,b){return a.title>b.title?1:b.title>a.title?-1:0}):"date"===sort?"DESC"===params?(ctrl.list||[]).sort(function(a,b){return a.start_datetime<b.start_datetime?1:b.start_datetime<a.start_datetime?-1:0}):(ctrl.list||[]).sort(function(a,b){return a.start_datetime>b.start_datetime?1:b.start_datetime>a.start_datetime?-1:0}):ctrl.list},resetFilters:function(){ctrl.itemUtils.selectedFilters=[],ctrl.itemUtils.searchKeyword=""},selectedFilters:[],searchKeyword:"",isFiltered:function(){return ctrl.itemUtils.selectedFilters.length||ctrl.itemUtils.searchKeyword},clashes:[],isClashing:function(evt){return evt.registration_type===Gecko.Event.TYPE_SINGLE_EVENT?-1!==ctrl.itemUtils.clashes.indexOf(evt.id):(evt.children||[]).filter(function(s){return-1!==ctrl.itemUtils.clashes.indexOf(s.id)}).length},checkForClashes:function(){var basket=ctrl.itemUtils.getBasketEvents(),clashes=basket.sort(function(prev,curr){prev=prev.start_datetime,curr=curr.start_datetime;return prev<curr?-1:prev===curr?0:1}).reduce(function(result,curr,i,arr){return 0!==i&&basket.forEach(function(b){var check1,check2,check3,check4;b.id!==curr.id&&(check1=b.start_datetime>=curr.start_datetime&&b.start_datetime<curr.end_datetime,check2=b.end_datetime>curr.start_datetime&&b.end_datetime<=curr.end_datetime,check3=curr.start_datetime>=b.start_datetime&&curr.start_datetime<b.end_datetime,check4=curr.start_datetime<b.end_datetime&&curr.end_datetime>b.end_datetime,(check1||check2||check3||check4)&&(result.overlap=!0,result.ranges.push({previous:b,current:curr})))}),result},{overlap:!1,ranges:[]});return clashes.overlap?ctrl.itemUtils.clashes=clashes.ranges.map(function(r){return[r.previous.id,r.current.id]}).reduce(function(accumulator,currentValue){return accumulator.concat(currentValue)},[]):ctrl.itemUtils.clashes=[],clashes},pagination:pagination,isInSelectedSearch:ctrl.isInSelectedSearch,isInSelectedFilters:ctrl.isInSelectedFilters},ctrl.doesEventHaveSessionOnDate=GeckoUI.curry(function(date,event){return void 0!==(event.children||[]).find(doesSessionHaveSessionTimeOnDate(date))}),ctrl.doesSessionHaveSessionTimeOnDate=GeckoUI.curry(function(date,session){return void 0!==(session.children||[]).find(isDateInEventDateRange(date))}),ctrl.getSessionsOnDate=function(parentEvent,date){return parentEvent.children?parentEvent.children.filter(function(session){return void 0!==session.children.find(isDateInEventDateRange(date))}):[]},ctrl.noAvailableSessions=function(){var event=ctrl.getEvent();return!(!event.id||event.registration_type===Gecko.Event.TYPE_SINGLE_EVENT)&&(!(!ctrl.pickedDate||ctrl.doesEventHaveSessionOnDate(ctrl.pickedDate,event))||!ctrl.list.length)},ctrl.noAvailableSessionsStr=function(){return ctrl.pickedDate?$scope.__($scope.STR_KEY.ALERT.NO_SESSIONS_ON_DATES):$scope.__($scope.STR_KEY.ALERT.NO_SESSIONS_AVAILABLE)},ctrl.doesEventHaveSessionOnDate,ctrl.doesSessionHaveSessionTimeOnDate),getSessionsOnDate=ctrl.getSessionsOnDate;ctrl.setupFilters=function(list){var filtersObj={};return list.forEach(function(item){item.tags&&item.tags.forEach(function(tag){filtersObj[String(tag)]=!0})}),eventFieldService.sortSessionTags(Object.keys(filtersObj))},ctrl.fetchEvent=function(eventId){return eventFieldService.getById(eventId).then(function(res){return ctrl.parentEvents=ctrl.parentEvents.map(function(event){return event.id===res.event.id?res.event:event}),res.event})},ctrl.clearEventSelectOnMobile=function($event){$scope.shouldBeChosen()||$scope.values[$scope.field.id].parent_event_id||(ctrl.bookingBasket.clear(),$scope.values[$scope.field.id].parent_event_id=null,$scope.values[$scope.field.id].event_ids={},ctrl.list=[])},ctrl.changePickedEvent=function(){ctrl.getEvent().id&&!ctrl.loadingSingleEvent&&(ctrl.loadingSingleEvent=!0,ctrl.fetchEvent(ctrl.getEvent().id).then(function(){ctrl.loadingSingleEvent=!1,ctrl.setupSingleEvent(),$scope.$digest()}).catch(function(err){return ctrl.loadingSingleEvent=!1}))},ctrl.setupSingleEvent=function(){ctrl.bookingBasket.clear(),ctrl.updateBookings(),ctrl.itemUtils.checkForClashes(),ctrl.itemUtils.resetFilters(),ctrl.getEvent().registration_type===Gecko.Event.TYPE_SINGLE_EVENT?ctrl.list=[ctrl.getEvent()]:!ctrl.noCalendar&&ctrl.pickedDate?ctrl.list=getSessionsOnDate(ctrl.getEvent(),ctrl.pickedDate):ctrl.list=ctrl.getEvent().children||[],ctrl.showFullEvents||(ctrl.list=ctrl.list.filter(function(i){return!ctrl.itemUtils.isFull(i)})),ctrl.list=ctrl.itemUtils.sort(ctrl.itemUtils.sortBy),ctrl.showFilter=10<ctrl.list.length&&ctrl.getEvent().registration_type!==Gecko.Event.TYPE_SINGLE_EVENT,1===ctrl.list.length&&(ctrl.getEvent().registration_type===Gecko.Event.TYPE_SINGLE_EVENT?ctrl.itemUtils.isBookable(ctrl.getEvent())&&(ctrl.bookingBasket.addItem(ctrl.list[0].id),ctrl.updateBookings()):1===(ctrl.list[0].children||[]).length&&ctrl.itemUtils.isBookable(ctrl.list[0].children[0])&&setTimeout(function(){ctrl.bookingBasket.addItem(ctrl.list[0].children[0].id),ctrl.updateBookings(),$scope.$digest()})),ctrl.availableFilters=ctrl.setupFilters(ctrl.list),updateIframeHeight(),$scope.$digest()},ctrl.prefillValueWhenSingleResult=function(){var selectedEventId,onlyHasOneAvailableEvent=1===ctrl.availableEvents.length,alreadyHasSetValue=$scope.values[$scope.field.id].parent_event_id&&ctrl.availableEvents.find(function(e){return e.id===$scope.values[$scope.field.id].parent_event_id});(alreadyHasSetValue||onlyHasOneAvailableEvent)&&(selectedEventId=alreadyHasSetValue?$scope.values[$scope.field.id].parent_event_id:ctrl.availableEvents[0].id,$scope.values[$scope.field.id].parent_event_id=selectedEventId,$scope.shouldBeChosen()?setTimeout(function(){$scope.eventPickerRef&&$scope.eventPickerRef.setValue(selectedEventId)}):ctrl.changePickedEvent())},ctrl.setUpEvents=function(events){var prepopulateValue;ctrl.showFullEvents?ctrl.parentEvents=events:ctrl.parentEvents=events.filter(function(e){return!ctrl.itemUtils.isFull(e)}),ctrl.availableEvents=ctrl.availableEvents.length?ctrl.availableEvents:ctrl.parentEvents,groupAvailableEvents(),ctrl.noCalendar||ctrl.eventId?((prepopulateValue=$location.search()[$scope.field.tag])&&($scope.values[$scope.field.id].parent_event_id=Number(prepopulateValue),$scope.shouldBeChosen()&&setTimeout(function(){$scope.eventPickerRef&&$scope.eventPickerRef.setValue(prepopulateValue)})),ctrl.prefillValueWhenSingleResult(),ctrl.setupSingleEvent()):(ctrl.availableDates=ctrl.parentEvents.filter(function(e){return ctrl.showFullEvents?e:!ctrl.itemUtils.isFull(e)}).reduce(function(dates,event){return dates.concat(event.date_range)},[]),ctrl.changePickedDate=function(){var isSetValueAvailable;ctrl.availableEvents=ctrl.parentEvents.filter(function(event){return isDateInEventDateRange(ctrl.pickedDate,event)}),groupAvailableEvents(),ctrl.pickedDate&&-1!==String(ctrl.pickedDate).indexOf("/")||(ctrl.prefillValueWhenSingleResult(),(isSetValueAvailable=!!ctrl.availableEvents.find(function(e){return e.id===$scope.values[$scope.field.id].parent_event_id}))?ctrl.changePickedEvent():!isSetValueAvailable&&$scope.values[$scope.field.id].parent_event_id&&(ctrl.bookingBasket.clear(),$scope.values[$scope.field.id].parent_event_id=null,$scope.values[$scope.field.id].event_ids={},ctrl.list=[]))},ctrl.changePickedDate())},ctrl.refreshEvents=function(){return ctrl.requestErrorMessage="",ctrl.requestTimedOut=!1,ctrl.category?eventFieldService.getByCategory(ctrl.category).then(function(res){ctrl.setUpEvents(res.category.events),ctrl.loadingEvents=!1,$scope.$digest()}).catch(function(err){err=err.errors&&Array.isArray(err.errors)?err.errors[0].title:String(err);ctrl.requestErrorMessage=err,ctrl.requestTimedOut=!0,ctrl.loadingEvents=!1,$scope.$digest()}):ctrl.eventId?eventFieldService.getById(ctrl.eventId).then(function(res){ctrl.setUpEvents([res.event]),ctrl.loadingEvents=!1,$scope.$digest()}).catch(function(err){err=err.errors&&Array.isArray(err.errors)?err.errors[0].title:String(err);ctrl.requestErrorMessage=err,ctrl.requestTimedOut=!0,ctrl.loadingEvents=!1,$scope.$digest()}):void 0},ctrl.showOldEventPicker()?eventFieldService.getEfidField($route.current.params.uuid,$route.current.params.efid).then(function(data){$scope.event=data.event,ctrl.topEventIsSession=function(){return-1!==[Gecko.Event.TYPE_SESSION,Gecko.Event.TYPE_SESSION_LEGACY].indexOf($scope.event.type)},ctrl.sessions=[],ctrl.topEventIsSession()?ctrl.sessions.push($scope.event):angular.forEach($scope.event.children,function(event){ctrl.sessions.push(event)}),$scope.values[$scope.field.id]||($scope.values[$scope.field.id]={parent_event_id:$scope.event.id,default_status:ctrl.defaultStatus,event_ids:{}},0===ctrl.sessions.length&&($scope.values[$scope.field.id].event_ids[$scope.event.id]="")),$scope.$digest()}).catch(console.log):(ctrl.category||ctrl.eventId)&&($scope.values[$scope.field.id]||($scope.values[$scope.field.id]={parent_event_id:void 0,default_status:ctrl.defaultStatus,event_ids:{}}),ctrl.loadingEvents=!0,ctrl.refreshEvents());try{(ctrl.category||ctrl.eventId)&&$rootScope.$on("event-field-is-full-"+$scope.field.id,function(){return ctrl.refreshEvents()})}catch(e){console.log(e)}ctrl.eventPickerConfig={plugins:["no_results","accessibility-2"],valueField:"id",labelField:"title",sortField:"start_datetime",searchField:["title","start_datetime"],search_contains:!0,maxItems:1,placeholder:$scope.__($scope.STR_KEY.EVENT_FIELD.PICK_EVENT),render:{option:function(event,escape){var opt='<div class="opt-title">'+escape(event.title)+"</div>";return ctrl.itemUtils.isFull(event)&&(opt=opt.replace("</div>",'<span class="label label-danger event-field-status-label">'+$scope.__($scope.STR_KEY.EVENT_FIELD.EVENT)+" "+$scope.__($scope.STR_KEY.EVENT_FIELD.FULL)+"</span></div>")),ctrl.itemUtils.isWaitlisting(event)&&(opt=opt.replace("</div>",'<span class="label label-warning event-field-status-label">'+$scope.__($scope.STR_KEY.EVENT_FIELD.EVENT)+" "+$scope.__($scope.STR_KEY.EVENT_FIELD.FULL)+" - "+$scope.__($scope.STR_KEY.EVENT_FIELD.JOIN_WAITLIST)+"</span></div>")),event.start_datetime&&(opt+='<div class="opt-address" style="font-size:11px;">'+escape(event.group_by)+"</div>"),'<div role="option" id="'+("field_"+$scope.field.id+"-option-"+event.id)+'">'+opt+"</div>"}},onInitialize:function(ref){($scope.eventPickerRef=ref).off("change"),ref.on("change",function(value){value&&"number"!=typeof value&&($scope.values[$scope.field.id].parent_event_id=Number(value)),ctrl.changePickedEvent()})}}})}(),!function(){"use strict";angular.module("GeckoEngage").directive("eventFieldDeliveryMethod",function(){return{restrict:"E",scope:{event:"=",utils:"="},controllerAs:"ctrl",controller:"eventFieldDeliveryMethodCtrl",template:'\n                <div>\n                    <i class="far {{ctrl.icon}}"></i>\n                    {{ctrl.str}}\n                </div>  \n            '}}).controller("eventFieldDeliveryMethodCtrl",function($scope){this.event=$scope.event,this.utils=$scope.utils,$scope=this.utils.prettyDeliveryMethod(this.utils.isHybridEvent()?this.event:this.utils.getEvent(),!0),this.str=$scope[0],this.icon=$scope[1]})}(),!function(){"use strict";angular.module("GeckoEngage").directive("geckoEventFieldFilterItem",function(){return{restrict:"A",scope:{item:"=",utils:"="},controllerAs:"ctrl",controller:"geckoEventFieldFilterItemCtrl",template:'\n                <div class="clearfix">\n                    <span>\n                        <span>{{ __(STR_KEY.EVENT_FIELD.FILTER_FILTERED_BY) }}: </span>\n                        \n                        {{ctrl.filterStr()}}\n                        \n                        <span class="clear-btn" ng-click="ctrl.remove()" style="border-left: 1px solid; margin-left: 8px; padding-left: 10px;">\n                            {{ __(STR_KEY.EVENT_FIELD.FILTER_CLEAR) }}\n                        </span>\n                    </span>\n                </div>\n            '}}).controller("geckoEventFieldFilterItemCtrl",function($scope,geckoTranslateService){var ctrl=this;geckoTranslateService.prepare($scope),ctrl.utils=$scope.utils,ctrl.filterStr=function(){return(ctrl.utils.selectedFilters||[]).map(function(f){return""+f}).join(", ")},ctrl.remove=function(){ctrl.utils.searchKeyword="",ctrl.utils.selectedFilters=[]}})}(),!function(){"use strict";angular.module("GeckoEngage").directive("geckoEventFieldFilter",function(){return{restrict:"E",scope:{utils:"=",filters:"="},controllerAs:"ctrl",controller:"geckoEventFieldFilterCtrl",template:'\n                <div class="clearfix event-field-filter">\n\n                    <div class="event-field-filter-fields row">\n\n                        <div class="session-search col-sm-4">\n                            <label for="form_{{ctrl.field.id}}_search">\n                                {{ __(STR_KEY.EVENT_FIELD.FILTER_KEYWORD) }}\n                            </label>\n                            <input\n                                id="form_{{ctrl.field.id}}_search"\n                                class="form-control"\n                                placeholder="&#xf002; {{ __(STR_KEY.EVENT_FIELD.FILTER_KEYWORD) }}"\n                                ng-model="ctrl.utils.searchKeyword"\n                                ng-change="ctrl.resetPagination()" />\n                        </div>\n                        \n                        <div class="session-filter col-sm-4" ng-if="ctrl.filters.length">\n                            <label id="form_{{ctrl.field.id}}_tags_label" for="form_{{ctrl.field.id}}_tags">\n                                {{ __(STR_KEY.EVENT_FIELD.FILTER_TAG) }}\n                            </label>\n                            <button\n                                tabindex="-1"\n                                class="btn btn-default gecko-btn">\n                                <span class="sr-only">Filter</span>\n                                <i class="fa fa-sliders-h"></i>\n                            </button>\n                            <select\n                                id="form_{{ctrl.field.id}}_tags"\n                                chosen="{width : \'100%\', inherit_select_classes: true, placeholder_text_single: __(STR_KEY.EVENT_FIELD.FILTER_TAG)}"\n                                make-chosen-accessible\n                                multiple\n                                class="form-control"\n                                ng-model="ctrl.utils.selectedFilters"\n                                ng-options="f as f for f in ctrl.filters"\n                                ng-change="ctrl.resetPagination()">\n                            </select>\n\n                            <div class="session-filter-fallback" ng-if="ctrl.isMobile">\n                                <select\n                                    id="form_{{ctrl.field.id}}_tags"\n                                    data-placeholder="{{ __(STR_KEY.EVENT_FIELD.FILTER_TAG) }}"\n                                    multiple\n                                    ng-model="ctrl.utils.selectedFilters"\n                                    ng-options="f as f for f in ctrl.filters">\n                                </select>\n                            </div>\n                        </div>\n\n                        <div class="session-sort col-sm-2 pull-right">\n                            <label id="form_{{ctrl.field.id}}_sort_label" for="form_{{ctrl.field.id}}_sort">\n                                {{ __(STR_KEY.EVENT_FIELD.FILTER_SORT) }}\n                            </label>\n                            <button\n                                tabindex="-1"\n                                class="btn btn-default gecko-btn">\n                                <span class="sr-only">{{ __(STR_KEY.EVENT_FIELD.FILTER_SORT) }}</span>\n                                <i class="fa fa-sort-amount-asc"></i>\n                            </button>\n                            <select\n                                ng-if="!ctrl.isMobile"\n                                id="form_{{ctrl.field.id}}_sort"\n                                chosen="{width : \'100%\', inherit_select_classes: true, placeholder_text_single: __(STR_KEY.EVENT_FIELD.FILTER_SORT) }"\n                                make-chosen-accessible\n                                data-placeholder="{{ __(STR_KEY.EVENT_FIELD.FILTER_SORT) }}"\n                                class="form-control"\n                                ng-model="ctrl.sortBy"\n                                ng-options="o.value as o.label for o in ctrl.sortOptions"\n                                ng-change="ctrl.utils.sort(ctrl.sortBy)">\n                                    <option value=""></option>\n                            </select>\n                            <select\n                                ng-if="ctrl.isMobile"\n                                id="form_{{ctrl.field.id}}_sort"\n                                data-placeholder="{{ __(STR_KEY.EVENT_FIELD.FILTER_SORT) }}"\n                                class="form-control"\n                                ng-model="ctrl.sortBy"\n                                ng-options="o.value as o.label for o in ctrl.sortOptions"\n                                ng-change="ctrl.utils.sort(ctrl.sortBy)">\n                                    <option value="" disabled>{{ __(STR_KEY.EVENT_FIELD.FILTER_SORT) }}</option>\n                            </select>\n                        </div>\n\n                    </div>\n\n                </div> \n            '}}).controller("geckoEventFieldFilterCtrl",function($scope,eventFieldService,geckoTranslateService){geckoTranslateService.prepare($scope),this.isMobile=eventFieldService.isMobile(),this.list=$scope.list,this.filters=$scope.filters,this.utils=$scope.utils,this.field=this.utils.field,this.sortBy=null,this.resetPagination=this.utils.pagination.reset,this.sortOptions=[{value:"title|ASC",label:$scope.__($scope.STR_KEY.EVENT_FIELD.FILTER_SORT_TITLE)},{value:"date|ASC",label:$scope.__($scope.STR_KEY.EVENT_FIELD.FILTER_SORT_DATE)}]})}(),!function(){"use strict";angular.module("GeckoEngage").directive("geckoEventFieldItemBtn",function(){return{restrict:"E",scope:{item:"=",utils:"="},controllerAs:"ctrl",controller:"geckoEventFieldItemBtnCtrl",template:'\n                <div class="event-picker-button">\n\n                    <div ng-if="ctrl.times.length < 2 || ctrl.activeTime">\n                        <button \n                            role="button"\n                            aria-label="{{ctrl.renderTime(ctrl.item)}}" \n                            class="btn gecko-btn" \n                            ng-class="ctrl.renderSingleBtnClass()" \n                            ng-click="ctrl.update(); $event.stopPropagation()"\n                            ng-keyup="$event.stopPropagation()"\n                            gecko-bind-html="ctrl.renderSingleBtnTitle()"\n                            ng-disabled="!ctrl.isBookable"\n                            aria-disabled="{{!ctrl.isBookable}}">\n                        </button>\n                    </div>\n\n                    <div ng-if="ctrl.times.length > 1 && !ctrl.activeTime">\n                        <div>\n                            <button\n                                tabindex="-1"\n                                class="btn gecko-btn" \n                                ng-class="{\'btn-primary\': !ctrl.activeTime, \'btn-default\': ctrl.activeTime, \'btn-focused\': ctrl.focused}" \n                                gecko-bind-html="ctrl.renderTimesBtnTitle()">\n                            </button>\n\n                            <select\n                                aria-label="{{ __(STR_KEY.EVENT_FIELD.SELECT_TIME) }}"\n                                ng-click="$event.stopPropagation()"\n                                ng-focus="ctrl.optionFocus()"\n                                ng-blur="ctrl.optionBlur()"\n                                ng-model="ctrl.activeTimeId"\n                                ng-change="ctrl.optionChange()"\n                                ng-options="o.id as o.label for o in ctrl.options"\n                                options-disabled="o.isFull for o in ctrl.options">\n                                    <option value="">{{ __(STR_KEY.EVENT_FIELD.SELECT_TIME) }}</option>\n                            </select>\n                        </div>\n                    </div>               \n\n                </div>\n            '}}).controller("geckoEventFieldItemBtnCtrl",function($scope,$rootScope,eventFieldService,geckoTranslateService){var basket,ctrl=this,geckoTranslateService=(geckoTranslateService.prepare($scope),ctrl.item=$scope.item,ctrl.utils=$scope.utils,ctrl.isMobile=eventFieldService.isMobile(),ctrl.isBookable=ctrl.utils.isBookable(ctrl.item),ctrl.item.registration_type!==Gecko.Event.TYPE_SINGLE_EVENT?ctrl.times=ctrl.item.children:ctrl.times=[],ctrl.utils.isInBasket(ctrl.item)?(basket=ctrl.utils.getBasketContents(),ctrl.activeTime=(ctrl.times||[]).filter(function(t){return-1!==basket.indexOf(t.id)})[0],ctrl.activeTime&&(ctrl.activeTimeId=ctrl.activeTime.id)):ctrl.activeTime=null,window.itemRemovedFromBasketListener||(window.itemRemovedFromBasketListener={}),ctrl.utils.prepEmitEvtName("item-removed-from-basket",ctrl.item.id)),geckoTranslateService=(1<(ctrl.item.children||[]).length&&!window.itemRemovedFromBasketListener[geckoTranslateService]&&(window.itemRemovedFromBasketListener[geckoTranslateService]=$rootScope.$on(ctrl.utils.prepEmitEvtName("item-removed-from-basket",ctrl.item.id),function(evt,removedId){ctrl.activeTimeId===removedId&&(ctrl.activeTime=null,ctrl.activeTimeId=null)})),window.itemAddedToBasketListener||(window.itemAddedToBasketListener={}),ctrl.utils.prepEmitEvtName("item-added-to-basket",ctrl.item.id)),timesAreOnSameDate=(1<(ctrl.item.children||[]).length&&!window.itemAddedToBasketListener[geckoTranslateService]&&(window.itemAddedToBasketListener[geckoTranslateService]=$rootScope.$on(ctrl.utils.prepEmitEvtName("item-added-to-basket",ctrl.item.id),function(evt,added){ctrl.update(added)})),ctrl.renderSingleBtnTitle=function(){var title="";return'<i class="fa fa-fw '+(ctrl.activeTime?(title=ctrl.utils.isWaitlisting(ctrl.activeTime)?$scope.__($scope.STR_KEY.EVENT_FIELD.WAITLISTED):ctrl.renderTime(ctrl.activeTime),"fa-times-circle"):(title=ctrl.item.parent_id?ctrl.utils.isWaitlisting(ctrl.item)&&ctrl.utils.isInBasket(ctrl.item)?$scope.__($scope.STR_KEY.EVENT_FIELD.WAITLISTED):1===(ctrl.item.children||[]).length?ctrl.renderTime(ctrl.item.children[0]):ctrl.renderTime(ctrl.item):ctrl.utils.isWaitlisting(ctrl.item)?ctrl.utils.isInBasket(ctrl.item)?$scope.__($scope.STR_KEY.EVENT_FIELD.WAITLISTED):$scope.__($scope.STR_KEY.EVENT_FIELD.JOIN_WAITLIST):ctrl.utils.isInBasket(ctrl.item)?$scope.__($scope.STR_KEY.EVENT_FIELD.CANCEL):$scope.__($scope.STR_KEY.EVENT_FIELD.REGISTER),ctrl.utils.isWaitlisting(ctrl.item)&&ctrl.utils.isInBasket(ctrl.item)?"fa-list-ol":ctrl.utils.isInBasket(ctrl.item)?"fa-times-circle":"fa-plus-circle"))+'"></i> '+title},ctrl.renderSingleBtnClass=function(){return{"btn-primary":!ctrl.utils.isInBasket(ctrl.item),"btn-default":ctrl.utils.isInBasket(ctrl.item)}},ctrl.renderTimesBtnTitle=function(){var title=$scope.__($scope.STR_KEY.EVENT_FIELD.SELECT_TIME),icon="fa-clock";return(icon=ctrl.activeTime?ctrl.activeTime.full&&ctrl.activeTime.auto_waitlist?(title=$scope.__($scope.STR_KEY.EVENT_FIELD.WAITLISTED),"fa-list-ol"):ctrl.activeTime.full&&!ctrl.activeTime.auto_waitlist?(title="No Spaces",""):(title=ctrl.renderTime(ctrl.activeTime),"fa-sort"):icon)?'<i class="fa fa-fw '+icon+'"></i> '+title:title},eventFieldService.date.isSameDay(ctrl.item.start_datetime,ctrl.item.end_datetime));ctrl.renderTime=function(time){return eventFieldService.renderTime(time,!timesAreOnSameDate)},ctrl.prepareTimeOptions=function(times){return(times||[]).map(function(t){t={id:t.id,label:ctrl.renderTime(t),isFull:ctrl.utils.isFull(t),isWaitlist:ctrl.utils.isWaitlisting(t)};return t.isFull&&!t.isWaitlist&&(t.label+=" ("+$scope.__($scope.STR_KEY.EVENT_FIELD.FULL)+")"),t.isWaitlist&&(t.label+=" ("+$scope.__($scope.STR_KEY.EVENT_FIELD.WAITLIST)+")"),t})},ctrl.options=ctrl.prepareTimeOptions(ctrl.times),ctrl.optionChange=function(){return ctrl.update(ctrl.times.find(function(t){return t.id===ctrl.activeTimeId})||null)},ctrl.optionFocus=function(){return ctrl.focused=1},ctrl.optionBlur=function(){return ctrl.focused=0},ctrl.update=function(time){void 0!==time?ctrl.change(time):ctrl.activeTime?ctrl.change():ctrl.utils.isInBasket(ctrl.item)?ctrl.remove():ctrl.add(),ctrl.utils.checkForClashes()},ctrl.change=function(time){ctrl.activeTime&&ctrl.remove(ctrl.activeTime.id),time?(ctrl.add(time.id),ctrl.activeTime=time,ctrl.activeTimeId=time.id):(ctrl.activeTime=null,ctrl.activeTimeId=null)},ctrl.add=function(id){id?ctrl.utils.add(id):ctrl.item.registration_type===Gecko.Event.TYPE_SINGLE_EVENT?ctrl.utils.add(ctrl.item.id):ctrl.utils.add(ctrl.item.children[0].id)},ctrl.remove=function(id){id?ctrl.utils.remove(id):ctrl.item.registration_type===Gecko.Event.TYPE_SINGLE_EVENT?ctrl.utils.remove(ctrl.item.id):ctrl.utils.remove(ctrl.item.children[0].id),ctrl.activeTime&&(ctrl.activeTime=null)}})}(),!function(){"use strict";angular.module("GeckoEngage").directive("geckoEventFieldItemSession",function(){return{restrict:"E",scope:{item:"=",utils:"="},controllerAs:"ctrl",controller:"geckoEventFieldItemSessionCtrl",template:'\n                <div class="clearfix">\n                    <div class="pull-left {{ctrl.isMobile ? \'session-title\' : \'dynamic-session-title\'}}">\n                        <div>\n                            <h4 ng-if="ctrl.item.parent_id">\n                                {{ctrl.item.title}}\n                            </h4>\n\n                            <span ng-if="ctrl.item.parent_id && ctrl.date" class="event-item-desc">\n                                {{ctrl.date}} ({{ctrl.timezone}})\n                            </span>\n\n                            <div class="event-item-labels" ng-if="ctrl.allTimesAreFull || ctrl.allTimesAreWaitlisting || ctrl.chosenTimeIsWaitlisting()">\n                                <span class="label label-danger event-field-status-label" ng-if="ctrl.allTimesAreFull">\n                                    {{__(STR_KEY.EVENT_FIELD.SESSION)}} {{__(STR_KEY.EVENT_FIELD.FULL)}}\n                                </span>\n\n                                <span class="label label-warning event-field-status-label" ng-if="ctrl.allTimesAreWaitlisting || ctrl.chosenTimeIsWaitlisting()">\n                                    {{__(STR_KEY.EVENT_FIELD.SESSION)}} {{__(STR_KEY.EVENT_FIELD.FULL)}} - {{__(STR_KEY.EVENT_FIELD.JOIN_WAITLIST)}}\n                                </span>\n                            </div>\n\n                            <div role="alert" aria-live="polite" style="font-size:12px;" ng-if="ctrl.alert()">\n                                <i class="fa fa-warning"></i>\n                                {{ctrl.alert()}}\n                            </div>\n\n                            <span class="session-category-tag" ng-if="ctrl.item.tags && ctrl.item.tags.length" ng-click="$event.stopPropagation()">\n                                <i class="fa fa-tags"></i>\n                                <span ng-repeat="tag in ctrl.sortTags track by $index" \n                                      title="Filter by {{tag}}"\n                                      class="session-tag"\n                                      ng-click="ctrl.pushTagToSelectedFilters(tag)">\n                                      {{tag}}\n                                </span>\n                            </span>\n                            <div class="event-item-desc">\n                                <event-field-delivery-method\n                                    event="ctrl.item"\n                                    utils="ctrl.utils">\n                                </event-field-delivery-method>\n                            </div>    \n\n                            <div class="event-item-info">\n                                <span role="button" tabindex="0" ng-click="ctrl.openModal()" ng-keyup="ctrl.keyupFn($event)" aria-label="{{ctrl.ariaLabel}}">\n                                    <i class="fa fa-arrow-circle-right"></i>\n                                    {{ __(STR_KEY.EVENT_FIELD.VIEW_SESSION_INFO) }}\n                                </span>\n                            </div>                       \n                        </div>\n                    </div>\n\n                    <gecko-event-field-item-btn \n                        ng-if="!ctrl.isMobile"\n                        class="pull-right"\n                        item="ctrl.item"\n                        utils="ctrl.utils">\n                    </gecko-event-field-item-btn>\n\n                    <div class="mobile-btns" ng-if="ctrl.isMobile">\n\n                    <div class="col-xs-2 mobile-button-padding" ng-if="ctrl.isMobile">\n                        <button tabindex="-1" class="btn gecko-btn ng-binding btn-default">\n                            <i class="fa fa-info-circle"></i>\n                        </button>\n                    </div>\n\n                    <gecko-event-field-item-btn\n                        ng-if="ctrl.isMobile"\n                        class="col-xs-10 mobile-button-padding"\n                        item="ctrl.item"\n                        utils="ctrl.utils">\n                    </gecko-event-field-item-btn>\n\n                    </div>\n\n                    <div ng-if="ctrl.showMask()" class="gecko-event-field-item-mask"></div>\n\n                </div>\n            '}}).controller("geckoEventFieldItemSessionCtrl",function($scope,eventFieldService,geckoTranslateService){var _this=this,ctrl=this;geckoTranslateService.prepare($scope),ctrl.utils=$scope.utils,ctrl.item=$scope.item,ctrl.timezone=ctrl.utils.getEvent().timezone,ctrl.isMobile=eventFieldService.isMobile(),ctrl.isOnlineEvent=ctrl.utils.isOnlineEvent,ctrl.allTimesAreFull=0===(ctrl.item.children||[]).filter(function(t){return ctrl.utils.isBookable(t)}).length,ctrl.allTimesAreWaitlisting=0===(ctrl.item.children||[]).filter(function(t){return!ctrl.utils.isWaitlisting(t)}).length,ctrl.chosenTimeIsWaitlisting=function(){return(ctrl.item.children||[]).filter(function(c){return ctrl.utils.basket.isInBasket(c.id)&&ctrl.utils.isWaitlisting(c)}).length},ctrl.renderDate=function(){return eventFieldService.date.startDateEndDate(ctrl.item.start_datetime,ctrl.item.end_datetime)},ctrl.date=ctrl.renderDate(),ctrl.ariaLabel=$scope.__($scope.STR_KEY.EVENT_FIELD.VIEW_SESSION_INFO)+" - "+ctrl.item.title+" - "+ctrl.date,ctrl.showMask=function(){return ctrl.utils.getEvent().registration_type===Gecko.Event.TYPE_SINGLE_SESSION&&0<ctrl.utils.getBasketContents().length&&!ctrl.utils.isInBasket(ctrl.item)},ctrl.alert=function(){return!!(ctrl.utils.getEvent().registration_type===Gecko.Event.TYPE_MULTI_SESSION&&1<ctrl.utils.getBasketContents().length&&ctrl.utils.isClashing(ctrl.item))&&$scope.__($scope.STR_KEY.EVENT_FIELD.CLASHING_RESULTS)},ctrl.waitlistAlert=function(){return!!ctrl.chosenTimeIsWaitlisting()&&$scope.__($scope.STR_KEY.EVENT_FIELD.WAITLIST_ALERT_SESSION)},ctrl.sortTags=eventFieldService.sortSessionTags(ctrl.item.tags),ctrl.pushTagToSelectedFilters=function(tag){-1===ctrl.utils.selectedFilters.indexOf(tag)&&(ctrl.utils.selectedFilters.push(tag),ctrl.utils.pagination.reset())},ctrl.openModal=function(evt){ctrl.utils.openModal(ctrl.item,evt)},ctrl.keyupFn=function(evt){return ctrl.utils.keyupFn(evt,ctrl.openModal.bind(_this,evt))}})}(),!function(){"use strict";angular.module("GeckoEngage").directive("geckoEventFieldItemSingleEvent",function(){return{restrict:"E",scope:{item:"=",utils:"="},controllerAs:"ctrl",controller:"geckoEventFieldItemSingleEventCtrl",template:' \n                <div class="gecko-event-field-item-single-event-container clearfix" ng-class="ctrl.renderClass()">\n                    <h3>{{ __(STR_KEY.EVENT_FIELD.YOUR_BOOKING) }}</h3>\n                    <div class="gecko-event-field-item-single-event-container-title">\n                        {{ctrl.item.title}}\n                    </div>\n                    <div class="gecko-event-field-item-single-event-container-date">\n                        {{ctrl.date}}\n                        ({{ctrl.item.timezone}})\n                    </div>\n                    <div ng-if="ctrl.isFull || ctrl.isWaitlisting" class="gecko-event-field-item-single-event-container-waitlist">\n                        <span class="label label-danger event-field-status-label" ng-if="ctrl.isFull">\n                            {{__(STR_KEY.EVENT_FIELD.EVENT)}} {{__(STR_KEY.EVENT_FIELD.FULL)}}\n                        </span>\n                        <span class="label label-warning event-field-status-label" ng-if="ctrl.isWaitlisting">\n                            {{__(STR_KEY.EVENT_FIELD.EVENT)}} {{__(STR_KEY.EVENT_FIELD.FULL)}} - {{__(STR_KEY.EVENT_FIELD.JOIN_WAITLIST)}}\n                        </span>\n                    </div>\n                    <div class="gecko-event-field-item-single-event-container-controls">\n                        <span role="button" tabindex="0" ng-click="ctrl.openModal()" ng-keyup="ctrl.keyupFn($event)" aria-label="{{ctrl.ariaLabel}}">\n                            <i class="fa fa-arrow-circle-right"></i>\n                            {{ __(STR_KEY.EVENT_FIELD.VIEW_EVENT_INFO) }}\n                        </span>\n                        \n                        <span ng-if="ctrl.isOnlineEvent()">\n                            &nbsp;\n                            |\n                            &nbsp;\n                            <i class="fa fa-wifi"></i>\n                            {{__(STR_KEY.EVENT_FIELD.ONLINE)}} {{__(STR_KEY.EVENT_FIELD.EVENT)}}\n                        </span>\n                        \n                        <span ng-if="ctrl.isBookable">\n                            &nbsp;\n                            |\n                            &nbsp;\n                            <span role="button" tabindex="0"  ng-click="ctrl.toggleFn()" ng-keyup="ctrl.utils.keyupFn($event, ctrl.toggleFn)" aria-live="assertive">\n                                <span ng-if="!ctrl.utils.isInBasket(ctrl.item)">\n                                    <i class="fa fa-plus"></i>\n                                    {{ __(STR_KEY.EVENT_FIELD.ADD) }}\n                                </span>\n                                <span ng-if="ctrl.utils.isInBasket(ctrl.item)">\n                                    <i class="fa fa-ban"></i>\n                                    {{ __(STR_KEY.EVENT_FIELD.CANCEL) }}\n                                </span>\n                            </span>\n                        </span>\n                    </div>\n                </div>\n            '}}).controller("geckoEventFieldItemSingleEventCtrl",function($scope,eventFieldService,geckoTranslateService){var _this=this,ctrl=this;geckoTranslateService.prepare($scope),ctrl.utils=$scope.utils,ctrl.item=$scope.item,ctrl.isBookable=ctrl.utils.isBookable(ctrl.item),ctrl.isFull=!ctrl.utils.isBookable(ctrl.item),ctrl.isWaitlisting=ctrl.utils.isWaitlisting(ctrl.item),ctrl.openModal=function(evt){ctrl.utils.openModal(ctrl.item,evt)},ctrl.keyupFn=function(evt){return ctrl.utils.keyupFn(evt,ctrl.openModal.bind(_this,evt))},ctrl.toggleFn=function(){ctrl.utils.isInBasket(ctrl.item)?ctrl.utils.remove(ctrl.item.id):ctrl.utils.add(ctrl.item.id)},ctrl.isOnlineEvent=ctrl.utils.isOnlineEvent,ctrl.date=eventFieldService.renderTime(ctrl.item,!0,"to"),ctrl.ariaLabel=$scope.__($scope.STR_KEY.EVENT_FIELD.VIEW_EVENT_INFO)+" - "+ctrl.item.title+" - "+ctrl.date,ctrl.renderClass=function(){return{warning:ctrl.utils.isWaitlisting(ctrl.item),info:!ctrl.utils.isInBasket(ctrl.item)&&!ctrl.utils.isWaitlisting(ctrl.item),success:ctrl.utils.isInBasket(ctrl.item)&&!ctrl.utils.isWaitlisting(ctrl.item)}}})}(),!function(){"use strict";angular.module("GeckoEngage").directive("geckoEventFieldItem",function(){return{restrict:"A",scope:{item:"=",utils:"="},controllerAs:"ctrl",controller:"geckoEventFieldItemCtrl",template:'\n                <div class="clearfix" ng-if="ctrl.isSingleEvent()">\n                    <gecko-event-field-item-single-event \n                        item="ctrl.item" \n                        utils="ctrl.utils">\n                    </gecko-event-field-item-single-event>\n                </div>\n                <div class="clearfix" ng-if="!ctrl.isSingleEvent()" aria-label="{{ctrl.item.title}}">\n                    <gecko-event-field-item-session \n                        item="ctrl.item" \n                        utils="ctrl.utils">\n                    </gecko-event-field-item-session>\n                </div>\n            '}}).controller("geckoEventFieldItemCtrl",function($scope,eventFieldService){var ctrl=this;ctrl.utils=$scope.utils,ctrl.item=$scope.item,ctrl.isSingleEvent=function(){return ctrl.utils.getEvent().registration_type===Gecko.Event.TYPE_SINGLE_EVENT}})}(),!function(){"use strict";angular.module("GeckoEngage").directive("geckoEventFieldModalBtn",function(){return{restrict:"E",scope:{item:"=",utils:"="},controllerAs:"ctrl",controller:"geckoEventFieldModalBtnCtrl",template:'\n                <div class="event-picker-button">\n\n                    <div ng-if="ctrl.times.length < 2">\n                        <button \n                            role="button"\n                            aria-label="{{ctrl.renderSingleBtnTitle(false)}}" \n                            class="btn gecko-btn" \n                            ng-class="ctrl.renderSingleBtnClass()" \n                            ng-disabled="!!ctrl.utils.isInBasket(ctrl.item)"\n                            ng-click="!ctrl.utils.isInBasket(ctrl.item) ? ctrl.update() : $event.stopPropagation() ; $event.stopPropagation()"\n                            gecko-bind-html="ctrl.renderSingleBtnTitle()">\n                        </button>\n                    </div>\n\n                    <div ng-if="ctrl.times.length > 1">\n                        <div>\n                            <button\n                                tabindex="-1"\n                                class="btn gecko-btn" \n                                ng-class="{\'btn-primary\': !ctrl.activeTime, \'btn-default\': ctrl.activeTime, \'btn-focused\': ctrl.focused}" \n                                aria-label="{{ctrl.renderTimesBtnTitle(false)}}"\n                                gecko-bind-html="ctrl.renderTimesBtnTitle()">\n                            </button>\n\n                            <select\n                                aria-label="{{ __(STR_KEY.EVENT_FIELD.SELECT_TIME) }}"\n                                ng-click="$event.stopPropagation()"\n                                ng-focus="ctrl.optionFocus()"\n                                ng-blur="ctrl.optionBlur()"\n                                ng-model="ctrl.activeTimeId"\n                                ng-change="ctrl.optionChange()"\n                                ng-options="o.id as o.label for o in ctrl.options"\n                                options-disabled="o.isFull for o in ctrl.options">\n                                    <option value="">{{ __(STR_KEY.EVENT_FIELD.SELECT_TIME) }}</option>\n                            </select>\n                        </div>\n                    </div>   \n\n                    <div class="cancel-btn" ng-if="ctrl.utils.isInBasket(ctrl.item)">\n                        <button \n                            role="button"\n                            aria-label="{{ __(STR_KEY.EVENT_FIELD.CANCEL) }}" \n                            class="btn gecko-btn btn-danger"\n                            ng-click="ctrl.activeTime ? ctrl.change() : ctrl.remove()">\n                                <i class="fa fa-times"></i>\n                                {{ __(STR_KEY.EVENT_FIELD.CANCEL) }}\n                        </button>\n                    </div>\n                </div>\n            '}}).controller("geckoEventFieldModalBtnCtrl",function($scope,$rootScope,eventFieldService,geckoTranslateService){var basket,ctrl=this,timesAreOnSameDate=(geckoTranslateService.prepare($scope),ctrl.item=$scope.item,ctrl.utils=$scope.utils,ctrl.isMobile=eventFieldService.isMobile(),ctrl.isBookable=ctrl.utils.isBookable(ctrl.item),ctrl.item.registration_type!==Gecko.Event.TYPE_SINGLE_EVENT?ctrl.times=ctrl.item.children:ctrl.times=[],ctrl.utils.isInBasket(ctrl.item)?(basket=ctrl.utils.getBasketContents(),ctrl.activeTime=(ctrl.times||[]).filter(function(t){return-1!==basket.indexOf(t.id)})[0],ctrl.activeTime&&(ctrl.activeTimeId=ctrl.activeTime.id)):ctrl.activeTime=null,ctrl.renderSingleBtnTitle=function(){var includeIcon=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],title="",icon="";return ctrl.activeTime?ctrl.utils.isWaitlisting(ctrl.activeTime)?(title=$scope.__($scope.STR_KEY.EVENT_FIELD.WAITLISTED),icon="fa-list-ol"):title=ctrl.renderTime(ctrl.activeTime):(title=ctrl.isBookable?ctrl.utils.isWaitlisting(ctrl.item)?ctrl.utils.isInBasket(ctrl.item)?$scope.__($scope.STR_KEY.EVENT_FIELD.WAITLISTED):ctrl.item.registration_type===Gecko.Event.TYPE_SINGLE_EVENT?$scope.__($scope.STR_KEY.EVENT_FIELD.EVENT)+" "+$scope.__($scope.STR_KEY.EVENT_FIELD.FULL)+" - "+$scope.__($scope.STR_KEY.EVENT_FIELD.JOIN_WAITLIST):$scope.__($scope.STR_KEY.EVENT_FIELD.SESSION)+" "+$scope.__($scope.STR_KEY.EVENT_FIELD.FULL)+" - "+$scope.__($scope.STR_KEY.EVENT_FIELD.JOIN_WAITLIST):(ctrl.item.registration_type===Gecko.Event.TYPE_SINGLE_EVENT&&ctrl.utils.isInBasket(ctrl.item),$scope.__($scope.STR_KEY.EVENT_FIELD.REGISTER)):ctrl.item.registration_type===Gecko.Event.TYPE_SINGLE_EVENT?$scope.__($scope.STR_KEY.EVENT_FIELD.EVENT)+" "+$scope.__($scope.STR_KEY.EVENT_FIELD.FULL):$scope.__($scope.STR_KEY.EVENT_FIELD.SESSION)+" "+$scope.__($scope.STR_KEY.EVENT_FIELD.FULL),icon=ctrl.utils.isWaitlisting(ctrl.item)&&ctrl.utils.isInBasket(ctrl.item)?"fa-list-ol":ctrl.utils.isInBasket(ctrl.item)||!ctrl.isBookable?"":"fa-plus-circle"),icon&&includeIcon?'<i class="fa fa-fw '+icon+'"></i> '+title:title},ctrl.renderSingleBtnClass=function(){return{"btn-warning":ctrl.utils.isWaitlisting(ctrl.item)&&!ctrl.utils.isInBasket(ctrl.item),"btn-primary":ctrl.isBookable&&!ctrl.utils.isInBasket(ctrl.item),"btn-default":ctrl.utils.isInBasket(ctrl.item)||!ctrl.isBookable}},ctrl.renderTimesBtnTitle=function(){var includeIcon=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],title=$scope.__($scope.STR_KEY.EVENT_FIELD.SELECT_TIME),icon="fa-clock";return(icon=ctrl.activeTime?ctrl.activeTime.full&&ctrl.activeTime.auto_waitlist?(title=$scope.__($scope.STR_KEY.EVENT_FIELD.WAITLISTED),"fa-list-ol"):ctrl.activeTime.full&&!ctrl.activeTime.auto_waitlist?(title="No Spaces",""):(title=ctrl.renderTime(ctrl.activeTime),"fa-sort"):icon)&&includeIcon&&icon?'<i class="fa fa-fw '+icon+'"></i> '+title:title},eventFieldService.date.isSameDay(ctrl.item.start_datetime,ctrl.item.end_datetime));ctrl.renderTime=function(time){return eventFieldService.renderTime(time,!timesAreOnSameDate)},ctrl.prepareTimeOptions=function(times){return(times||[]).map(function(t){t={id:t.id,label:ctrl.renderTime(t),isFull:ctrl.utils.isFull(t),isWaitlist:ctrl.utils.isWaitlisting(t)};return t.isFull&&!t.isWaitlist&&(t.label+=" ("+$scope.__($scope.STR_KEY.EVENT_FIELD.FULL)+")"),t.isWaitlist&&(t.label+=" ("+$scope.__($scope.STR_KEY.EVENT_FIELD.WAITLIST)+")"),t})},ctrl.options=ctrl.prepareTimeOptions(ctrl.times),ctrl.optionChange=function(){return ctrl.update(ctrl.times.find(function(t){return t.id===ctrl.activeTimeId})||null)},ctrl.optionFocus=function(){return ctrl.focused=1},ctrl.optionBlur=function(){return ctrl.focused=0},ctrl.update=function(time){void 0!==time?ctrl.change(time):ctrl.activeTime?ctrl.change():ctrl.isBookable&&(ctrl.utils.isInBasket(ctrl.item)?ctrl.remove():ctrl.add()),ctrl.utils.checkForClashes()},ctrl.change=function(time){ctrl.activeTime&&ctrl.remove(ctrl.activeTime.id),time?(ctrl.add(time.id),ctrl.activeTime=time,$rootScope.$emit(ctrl.utils.prepEmitEvtName("item-added-to-basket",ctrl.item.id),time)):(ctrl.activeTime=null,ctrl.activeTimeId=null)},ctrl.add=function(id){id?ctrl.utils.add(id):ctrl.item.registration_type===Gecko.Event.TYPE_SINGLE_EVENT?ctrl.utils.add(ctrl.item.id):ctrl.utils.add(ctrl.item.children[0].id)},ctrl.remove=function(id){id?ctrl.utils.remove(id):ctrl.item.registration_type===Gecko.Event.TYPE_SINGLE_EVENT?(ctrl.utils.remove(ctrl.item.id),ctrl.utils.closeModal()):ctrl.utils.remove(ctrl.item.children[0].id),ctrl.utils.checkForClashes(),ctrl.activeTime&&($rootScope.$emit(ctrl.utils.prepEmitEvtName("item-removed-from-basket",ctrl.item.id),ctrl.activeTime.id),ctrl.activeTime=null)}})}(),!function(){"use strict";angular.module("GeckoEngage").directive("geckoEventFieldModalDescription",function(){return{restrict:"E",scope:{item:"=",utils:"="},controllerAs:"ctrl",controller:"geckoEventFieldModalDescriptionCtrl",template:'\n                        <div class="row" ng-if="ctrl.item.tags.length || ctrl.hasDescription">\n                            <div class="col-xs-12 section-label" role="heading" aria-level="2">\n                                {{ ctrl.getTitle() }}\n                            </div>\n                        </div>\n                        <div class="row">\n                            <div class="col-xs-12">\n                                <div>\n                                    <div class="clearfix" ng-if="ctrl.hasDescription" gecko-bind-html="ctrl.item.description"></div>\n\n                                    <div class="d-flex flex-wrap" ng-if="ctrl.item.tags">\n                                        <div class="col-xs-12 session-tags">\n                                            <i class="fa fa-tags"></i>\n                                            <span ng-repeat="tag in ctrl.item.tags | orderBy:\'toString()\'" \n                                                class="session-tag"\n                                                ng-click="ctrl.setFilterTags(tag)">\n                                                {{tag}}\n                                            </span>\n                                        </div>\n                                    </div>\n\n                                </div>\n                            </div>\n                        </div>'}}).controller("geckoEventFieldModalDescriptionCtrl",function($scope,geckoTranslateService){var ctrl=this;geckoTranslateService.prepare($scope),ctrl.utils=$scope.utils,ctrl.item=$scope.item,ctrl.hasDescription=!!((ctrl.item||{}).description||"").replace(/(<([^>]+)>)/gi,""),ctrl.setFilterTags=function(tag){-1===ctrl.utils.selectedFilters.indexOf(tag)&&ctrl.utils.selectedFilters.push(tag),ctrl.utils.closeModal()},ctrl.getTitle=function(){return ctrl.utils.getEvent().registration_type===Gecko.Event.TYPE_SINGLE_EVENT?$scope.__($scope.STR_KEY.EVENT_FIELD.MODAL_ABOUT_THE_EVENT):$scope.__($scope.STR_KEY.EVENT_FIELD.MODAL_ABOUT_THE_SESSION)}})}(),!function(){"use strict";angular.module("GeckoEngage").directive("geckoEventFieldModalHeader",function(){return{restrict:"E",scope:{item:"=",utils:"="},controllerAs:"ctrl",controller:"geckoEventFieldModalHeaderCtrl",template:'\n                        <div class="rounded-edge" style="{{ ctrl.renderHeaderBackground().banner[\'background-image\'] }}">\n                            <div class="gradient-overlay display-gradient rounded-edge" style="{{ ctrl.renderHeaderBackground().bannerMask[\'background\'] }}">\n                                \n                                <div class="row no-gutters">\n                                    <div class="col">\n                                    </div>\n                                    <div class="col d-flex justify-content-end">\n                                        <button type="button" class="close-modal" tabindex="0" aria-label="Close" ng-click="ctrl.utils.closeModal()">\n                                            <i class="gecko-icon fa fa-times"></i>\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>'}}).controller("geckoEventFieldModalHeaderCtrl",function($scope){var ctrl=this;ctrl.utils=$scope.utils,ctrl.account=Gecko.account,ctrl.item=$scope.item;var width=($scope=Math.floor(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth))<800?$scope:800;ctrl.renderHeaderBackground=function(){var parent=ctrl.utils.getEvent();return ctrl.item.image||ctrl.item.color?{banner:{"background-image":ctrl.item.image?"background-image: url("+ctrl.item.image+"?w="+width+");":"background-color: "+ctrl.item.color},bannerMask:{background:"background: "+(ctrl.item.image?ctrl.item.color?ctrl.item.color+"b3":parent.color+"b3":null)}}:parent.image||parent.color?{banner:{"background-image":parent.image?"background-image: url("+parent.image+"?w="+width+");":"background-color: "+parent.color},bannerMask:{background:"background: "+(parent.image?parent.color?parent.color+"b3":ctrl.account.color+"b3":null)}}:{banner:{"background-image":ctrl.account.header_bg?"background-image: url("+ctrl.account.header_bg+"?w="+width+");":"background-color: "+ctrl.account.color},bannerMask:{background:"background: "+(ctrl.account.header_bg?ctrl.account.color+"b3":null)}}}})}(),!function(){"use strict";angular.module("GeckoEngage").directive("geckoEventFieldModalHosts",function(){return{restrict:"E",scope:{item:"=",hosts:"="},controllerAs:"ctrl",controller:"geckoEventFieldModalHostsCtrl",template:'\n                        <div class="session-block clearfix">\n                            <div class="col-xs-12 section-label" role="heading" aria-level="2">\n                                {{ctrl.hosts.length > 1 ? __(STR_KEY.EVENT_FIELD.MODAL_ABOUT_THE_HOSTS) : __(STR_KEY.EVENT_FIELD.MODAL_ABOUT_THE_HOSTS) }}\n                            </div>\n                            <div class="col-xs-12">\n                                <div gecko-bind-html="ctrl.renderHostsSection()"></div>\n                            </div>\n                        </div>'}}).controller("geckoEventFieldModalHostsCtrl",function($scope,geckoTranslateService){var ctrl=this;geckoTranslateService.prepare($scope),ctrl.item=$scope.item,ctrl.hosts=$scope.hosts,ctrl.getHostName=function(host){return host.first_name+" "+host.last_name},ctrl.renderLink=function(link){return link=-1===String(link).indexOf("://")?"http://"+link:link},ctrl.renderSocialLinks=function(host){if(!host.social_options)return"";if(0===host.social_options.length)return"";var socialOptions=host.social_options;return socialOptions.website||socialOptions.twitter||socialOptions.linkedin?'\n                    <div class="social-icons">\n                        '+(socialOptions.website?"<a href="+ctrl.renderLink(socialOptions.website)+' target="_blank" aria-label="'+ctrl.getHostName(host)+'\'s Website"><i class="fa fa-link"></i></a>':"")+"\n\n                        "+(socialOptions.twitter?"<a href="+ctrl.renderLink(socialOptions.twitter)+' target="_blank" aria-label="'+ctrl.getHostName(host)+'\'s Twitter"><i class="fa fa-twitter"></i></a>':"")+"\n\n                        "+(socialOptions.linkedin?"<a href="+ctrl.renderLink(socialOptions.linkedin)+' target="_blank" aria-label="'+ctrl.getHostName(host)+'\'s Linkedin"><i class="fa fa-linkedin"></i></a>':"")+"\n                    </div>\n                ":void 0},ctrl.renderHostImage=function(host){return host.avatar?'\n                <div class="col-xs-12 col-sm-4 no-padding">\n                    <div class="host-image-container">\n                        <img class="host-image" src="'+host.avatar+'?w=200" alt="" />\n                    </div>\n                </div>\n            ':""},ctrl.renderHostSection=function(host){var position=host.position||"",bio=host.bio||"",hostTitle=host.title?host.title+" ":"";return'\n                <div class="row session-host" key="'+host.id+'">\n                    '+ctrl.renderHostImage(host)+'\n                    <div class="col-xs-12 col-sm-8 no-padding">\n                        <p class="host-title">\n                            '+hostTitle+ctrl.getHostName(host)+'\n                        </p>\n                        <p class="host-position">'+position+'</p>\n                        <p class="host-bio">'+bio+"</p>\n                        "+ctrl.renderSocialLinks(host)+"\n                    </div>\n                </div>\n            "},ctrl.renderHostsSection=function(){var hosts=ctrl.hosts,noOfHosts=hosts.length,renderedHosts="";if(noOfHosts){for(var i=0;i<noOfHosts;i++)renderedHosts=""+ctrl.renderHostSection(hosts[i])+renderedHosts;return renderedHosts}return""}})}(),!function(){"use strict";angular.module("GeckoEngage").directive("geckoEventFieldModalMeta",function(){return{restrict:"E",scope:{item:"=",location:"=",utils:"="},controllerAs:"ctrl",controller:"geckoEventFieldModalMetaCtrl",template:'\n                        <div class="row">\n                            <div class="col-xs-12">\n                                <div class="session-meta-icon">\n                                    <i class="far fa-calendar-alt"></i>\n                                </div>\n                                <div class="session-meta-details">\n                                    <div class="session-meta-field">\n                                        {{ ctrl.renderDate() }}\n                                    </div>\n                                    <div class="session-meta-sub-field">\n                                        {{ctrl.renderTime()}}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="row" ng-if="ctrl.showDmMeta">\n                            <div class="col-xs-12">\n                                <div class="session-meta-icon">\n                                    <i class="far {{ctrl.deliveryMethodIcon}}"></i>\n                                </div>\n                                <div class="session-meta-details">\n                                    <div class="session-meta-field">\n                                        {{ ctrl.deliveryMethodStr }}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="row" ng-if="ctrl.showLocation && !ctrl.showDmMeta">\n                            <div class="col-xs-12">\n                                <div class="session-meta-icon">\n                                    <i class="far fa-map-marker-alt"></i>\n                                </div>\n                                <div class="session-meta-details" gecko-bind-html="ctrl.renderLocation()"></div>\n                            </div>\n                        </div>'}}).controller("geckoEventFieldModalMetaCtrl",function($scope,geckoTranslateService,eventFieldService){var ctrl=this,various_times=(geckoTranslateService.prepare($scope),ctrl.location=$scope.location,ctrl.utils=$scope.utils,ctrl.item=$scope.item,ctrl.parentEvent=ctrl.utils.getEvent(),$scope.__($scope.STR_KEY.EVENT_FIELD.VARIOUS_TIMES)),geckoTranslateService=(ctrl.renderDate=function(){return eventFieldService.date.isSameDay(ctrl.item.start_datetime,ctrl.item.end_datetime)?eventFieldService.date.dayMonthDateYear(ctrl.item.start_datetime):eventFieldService.date.dayMonthDateYear(ctrl.item.start_datetime)+" to "+eventFieldService.date.dayMonthDateYear(ctrl.item.end_datetime)},ctrl.renderTime=function(){return eventFieldService.date.isSameDay(ctrl.item.start_datetime,ctrl.item.end_datetime)?eventFieldService.date.startTimeEndTime(ctrl.item.start_datetime,ctrl.item.end_datetime):ctrl.item.type===Gecko.Event.TYPE_EVENT?""+eventFieldService.date.hourMinute(ctrl.item.start_datetime):various_times},ctrl.showLocation=!(!ctrl.utils.isVenueEvent(ctrl.item)||!ctrl.location&&!ctrl.item.location_title_legacy&&!ctrl.parentEvent.location&&!ctrl.parentEvent.location_title_legacy),ctrl.renderLocation=function(){var location=ctrl.location,title="",subTitle=(location?title=location.title:ctrl.item.location_title_legacy?title=ctrl.item.location_title_legacy:ctrl.parentEvent.location?title=ctrl.parentEvent.location.title:ctrl.parentEvent.location_title_legacy&&(title=ctrl.parentEvent.location_title_legacy),""),location=(location?subTitle=location.address:ctrl.item.country?subTitle=ctrl.item.country:ctrl.parentEvent.location?subTitle=ctrl.parentEvent.location.address:ctrl.parentEvent.country&&(subTitle=ctrl.parentEvent.country),location?"click":"");return'\n                <a href="'+ctrl.utils.mapsSelector()+'" class="session-meta-field '+location+'">\n                    '+title+'\n                </a>\n                <div class="session-meta-sub-field '+location+'">\n                    '+subTitle+"\n                </div>\n            "},ctrl.utils.isHybridEvent()?ctrl.item:ctrl.utils.getEvent()),$scope=(ctrl.showDmMeta=ctrl.utils.isOnlineEvent(geckoTranslateService)||ctrl.utils.isVenueEvent(geckoTranslateService)&&!ctrl.showLocation,ctrl.utils.prettyDeliveryMethod(geckoTranslateService,ctrl.item.type===Gecko.Event.TYPE_SESSION));ctrl.deliveryMethodStr=$scope[0],ctrl.deliveryMethodIcon=$scope[1]})}(),!function(){"use strict";angular.module("GeckoEngage").directive("geckoEventFieldModalStub",function(){return{restrict:"E",scope:{item:"=",utils:"="},controllerAs:"ctrl",controller:"geckoEventFieldModalStubCtrl",template:'\n                <div class="row justify-content-center">\n                    <div class="col-xs-12">\n                        <div class="title-card">\n                            <div class="row">\n\n                                <div class="col-xs-5 col-sm-4 session-time-component text-center flex-column d-flex justify-content-center" gecko-bind-html="ctrl.renderTime()">\n                                </div>\n\n                                <div class="col-xs-7 col-sm-8 session-title-column flex-column d-flex justify-content-center">\n                                    <div id="form_{{ctrl.utils.field.id}}_event_modal_title" class="session-title" role="heading" aria-level="1">{{ ctrl.item.title }}</div>\n                                    <div class="session-location">\n                                        <i class="far {{ctrl.deliveryMethodIcon}}"></i>\n                                        {{ ctrl.deliveryMethodStr }}\n                                    </div>\n                                </div>\n\n                            </div>\n                        </div>\n                    </div>\n                </div>'}}).controller("geckoEventFieldModalStubCtrl",function($scope,eventFieldService){var ctrl=this,$scope=(ctrl.item=$scope.item,ctrl.utils=$scope.utils,ctrl.parentEvent=ctrl.utils.getEvent(),ctrl.renderTime=function(){var start,end;return end=eventFieldService.date.isSameDay(ctrl.item.start_datetime,ctrl.item.end_datetime)?(start=eventFieldService.date.hourMinute(ctrl.item.start_datetime),eventFieldService.date.hourMinute(ctrl.item.end_datetime)):(start=eventFieldService.date.dayMonth(ctrl.item.start_datetime),eventFieldService.date.dayMonth(ctrl.item.end_datetime)),start===end?'\n                    <div class="row">\n                        <div class="col-xs-12 stub-time center-time">'+start+"</div>\n                    </div>\n                ":'\n                    <div class="row">\n                        <div class="col-xs-12 stub-time">'+start+'</div>\n                    </div>\n\n                    <div class="row">\n                        <i class="fa fa-angle-down"></i>\n                    </div>\n\n                    <div class="row">\n                        <div class="col-xs-12 stub-time">'+end+"</div>\n                    </div>\n                "},ctrl.utils.prettyDeliveryMethod(ctrl.utils.isHybridEvent()?ctrl.item:ctrl.utils.getEvent(),ctrl.item.type===Gecko.Event.TYPE_SESSION));ctrl.deliveryMethodStr=$scope[0],ctrl.deliveryMethodIcon=$scope[1]})}(),!function(){"use strict";angular.module("GeckoEngage").directive("geckoEventFieldModal",function(){return{restrict:"E",scope:{item:"=",utils:"="},controllerAs:"ctrl",controller:"geckoEventFieldModalCtrl",template:'\n                <div class="modal fade" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="form_{{ctrl.utils.field.id}}_event_modal_title" trap-modal-focus>\n                    <div class="modal-dialog">\n                        <div class="session-modal modal-content">\n\n                            <div style="height:100px" ng-if="!ctrl.utils.loadingFinished">\n                                <div class="loader-loader"></div>\n                            </div>\n\n                            <div class="session-header" ng-if="ctrl.utils.loadingFinished">\n                                <gecko-event-field-modal-header\n                                    item="ctrl.item"\n                                    utils="ctrl.utils">\n                                </gecko-event-field-modal-header>\n                            </div>\n\n                            <div class="title-card-container" ng-if="ctrl.utils.loadingFinished">\n                                <gecko-event-field-modal-stub\n                                    item="ctrl.item"\n                                    utils="ctrl.utils"\n                                    location="ctrl.location">\n                                </gecko-event-field-modal-stub>\n                            </div>\n\n                            <div class="modal-body" ng-if="ctrl.utils.loadingFinished">\n\n                                <div class="modal-meta">\n                                    <gecko-event-field-modal-meta\n                                        item="ctrl.item"\n                                        utils="ctrl.utils"\n                                        location="ctrl.location">\n                                    </gecko-event-field-modal-meta>\n                                </div>\n\n                                <div class="session-block session-times">\n                                    <div class="row">\n                                        <div class="col-xs-12 section-label" role="heading" aria-level="2">\n                                            {{ __(STR_KEY.EVENT_FIELD.BOOK) }} {{ ctrl.getTitle() }}\n                                        </div>\n                                    </div>\n                                    <div class="row flex-wrap">\n\n                                        <gecko-event-field-modal-btn\n                                            class="col-xs-12"\n                                            item="ctrl.item"\n                                            utils="ctrl.utils">\n                                        </gecko-event-field-modal-btn>\n\n                                    </div>\n                                </div>\n\n                                <div class="session-block session-description" ng-if="ctrl.item.description || ctrl.item.tags">\n                                    <gecko-event-field-modal-description\n                                        item="ctrl.item"\n                                        utils="ctrl.utils">\n                                    </gecko-event-field-modal-description>\n                                </div>\n\n                                <div class="row" ng-if="ctrl.hosts.length">\n                                    <gecko-event-field-modal-hosts\n                                        item="ctrl.item"\n                                        hosts="ctrl.hosts">\n                                    </gecko-event-field-modal-hosts>\n                                </div>\n\n                                <div class="session-block session-map" ng-if="ctrl.renderLocation()">\n                                    <div class="row">\n                                        <div class="col-xs-12 section-label" role="heading" aria-level="2">\n                                            {{ ctrl.getTitle() }} {{ __(STR_KEY.EVENT_FIELD.MODAL_LOCATION) }}\n                                        </div>\n                                        <div class="col-xs-12">\n                                            <map-field\n                                                lat="{{ctrl.location ? ctrl.location.lat : ctrl.parentEvent.location.lat }}"\n                                                lng="{{ctrl.location ? ctrl.location.lng : ctrl.parentEvent.location.lng }}"\n                                                title="{{ctrl.location ? ctrl.location.title : ctrl.parentEvent.location.title }}"\n                                                address="{{ctrl.location ? ctrl.location.address : ctrl.parentEvent.location.address }}"\n                                                draggable="false"\n                                                zoom="true"\n                                                scrollwheel="true"\n                                                doubleclickzoom="true"\n                                                defaultui="false">\n                                            </map-field>\n                                        </div>\n\n                                        <div class="col-xs-12 session-direction">\n                                            <a tabindex="0" ng-href="{{ctrl.utils.mapsSelector()}}">\n                                                <i class="fa fa-location-arrow"></i>\n                                                Get Directions\n                                            </a>\n                                        </div>\n                                    </div>\n                                </div>\n\n                            </div>\n\n                        </div>\n                    </div>\n                </div>\n            '}}).controller("geckoEventFieldModalCtrl",function($scope,eventFieldService,$route,geckoTranslateService,$element){var _this=this,ctrl=this;geckoTranslateService.prepare($scope),ctrl.utils=$scope.utils,ctrl.item={},$scope.$watch("utils.activeModal",function(value,oldValue){value&&JSON.stringify(value)!==JSON.stringify(oldValue)&&(ctrl.item=value||{},ctrl.getData())},!0),ctrl.getData=function(){var locationRequest=void 0,hostsRequest=void 0,locationRequest=ctrl.item.locationId?eventFieldService.getLocation.bind(_this,ctrl.item.locationId):function(){return Promise.resolve(null)},hostsRequest=ctrl.item.hostIds.length?eventFieldService.getHosts.bind(_this,ctrl.item.hostIds):function(){return Promise.resolve([])};return Promise.all([locationRequest(),hostsRequest()]).then(function(res){ctrl.location=res[0],ctrl.hosts=res[1],ctrl.parentEvent=ctrl.utils.getEvent(),ctrl.utils.loadingFinished=!0,$scope.$digest()}).catch(function(err){ctrl.parentEvent=ctrl.utils.getEvent(),ctrl.utils.loadingFinished=!0,$scope.$digest()})},ctrl.utils.loadingFinished=!1,ctrl.getTitle=function(){return ctrl.utils.getEvent().registration_type===Gecko.Event.TYPE_SINGLE_EVENT?$scope.__($scope.STR_KEY.EVENT_FIELD.EVENT):$scope.__($scope.STR_KEY.EVENT_FIELD.SESSION)},ctrl.renderLocation=function(){return!$scope.utils.isOnlineEvent()&&!(!ctrl.location&&!(ctrl.parentEvent||{}).location)},ctrl.utils.mapsSelector=function(){var lat,lng;return ctrl.location||ctrl.parentEvent.location?(lat=(ctrl.location?ctrl:ctrl.parentEvent).location.lat,lng=(ctrl.location?ctrl:ctrl.parentEvent).location.lng,-1!==navigator.platform.indexOf("iPhone")||-1!==navigator.platform.indexOf("iPod")||-1!==navigator.platform.indexOf("iPad")?"maps://maps.google.com/maps?saddr=My+Location&daddr="+lat+","+lng+"&amp;ll=":"https://maps.google.com/maps?saddr=My+Location&daddr="+lat+","+lng+"&amp;ll="):""},$element.find(".modal").on("hidden.bs.modal",function(evt){ctrl.utils.focusModalTarget()})})}(),!function(){"use strict";angular.module("GeckoEngage").directive("geckoEventFieldPagination",function(){return{restrict:"E",scope:{list:"=",utils:"="},controllerAs:"ctrl",controller:"geckoEventFieldPaginationCtrl",template:'\n                <div class="clearfix">\n\n                    <div class="gecko-event-field-pagination-meta text-left" gecko-bind-html="ctrl.renderPaginationStr()"></div>\n\n                    <div class="gecko-event-field-pagination-btns text-right">\n                        <button \n                            class="btn btn-default"\n                            ng-click="ctrl.change(\'down\')"\n                            ng-disabled="ctrl.disabledWhen(\'down\')"\n                            aria-disabled="{{ctrl.disabledWhen(\'down\')}}"\n                            aria-label="Previous"\n                            role="button">\n                                <i class="fa fa-chevron-left"></i>\n                        </button>\n                        <button \n                            class="btn btn-default"\n                            ng-click="ctrl.change(\'up\')"\n                            ng-disabled="ctrl.disabledWhen(\'up\')"\n                            aria-disabled="{{ctrl.disabledWhen(\'up\')}}"\n                            aria-label="Next"\n                            role="button">\n                                <i class="fa fa-chevron-right"></i>\n                        </button>\n                    </div>\n\n                </div>\n            '}}).controller("geckoEventFieldPaginationCtrl",function($scope,geckoTranslateService){var ctrl=this,pagination=(geckoTranslateService.prepare($scope),ctrl.utils=$scope.utils,ctrl.utils.pagination);ctrl.change=pagination.change,ctrl.list=function(){return($scope.list||[]).filter(ctrl.utils.isInSelectedSearch).filter(ctrl.utils.isInSelectedFilters)},ctrl.renderPaginationStr=function(){var total=ctrl.list().length,limit=pagination.limit,page=pagination.page,lower=limit*(page-1)+1,higher=limit*page;return $scope.__($scope.STR_KEY.MISC.DISPLAYING)+" "+(total<=limit*page?total%(limit*(page-1))==1?"last":lower+" - "+total:lower+" - "+higher)+" "+$scope.__($scope.STR_KEY.MISC.OF)+" "+total+" "+$scope.__($scope.STR_KEY.MISC.SESSIONS)},ctrl.disabledWhen=function(direction){var page=pagination.page;return"up"===direction?page===Math.ceil(ctrl.list().length/pagination.limit):"down"===direction&&1===page}})}(),!function(){"use strict";angular.module("GeckoEngage").directive("geckoEventFieldSummary",function(){return{restrict:"E",scope:{list:"=",utils:"="},controllerAs:"ctrl",controller:"geckoEventFieldSummaryCtrl",template:'\n                <div class="field-card" role="group" aria-label="{{ __(STR_KEY.EVENT_FIELD.YOUR_BOOKING) }}">\n                    <div class="gecko-event-field-summary-container clearfix">\n                        <h3>{{ __(STR_KEY.EVENT_FIELD.YOUR_BOOKING) }}</h3>\n                        <ul>\n                            <li class="clearfix" ng-repeat="item in ctrl.utils.getBasketEvents() track by $index">\n                                <span>{{ctrl.title(item)}}</span>\n\n                                <span role="button" tabindex="0" class="gecko-event-field-summary-cancel pull-right" ng-click="ctrl.remove(item)" ng-keyup="ctrl.keyupFn($event, item)">\n                                    <i class="fa fa-ban"></i>\n                                    {{ __(STR_KEY.EVENT_FIELD.CANCEL) }}\n                                </span>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            '}}).controller("geckoEventFieldSummaryCtrl",function($scope,$rootScope,eventFieldService,geckoTranslateService){var ctrl=this;geckoTranslateService.prepare($scope),ctrl.list=$scope.list,ctrl.utils=$scope.utils,ctrl.renderTime=function(time){return eventFieldService.renderTime(time,!0)},ctrl.title=function(item){if(!item)return"";if((item||{}).type===Gecko.Event.TYPE_SESSION_TIME){var session=ctrl.list.find(function(i){return i.id===item.parent_id});if(session&&session.title)return session.title+" - "+ctrl.renderTime(item)+" "+(ctrl.utils.isWaitlisting(item)?" ("+$scope.__($scope.STR_KEY.EVENT_FIELD.WAITLISTED)+")":"")}return(item||{}).title},ctrl.remove=function(item){ctrl.utils.remove(item.id),$rootScope.$emit(ctrl.utils.prepEmitEvtName("item-removed-from-basket",item.parent_id),item.id),ctrl.utils.checkForClashes()},ctrl.keyupFn=function(evt,item){return ctrl.utils.keyupFn(evt,function(){return ctrl.remove(item)})}})}(),!function(){"use strict";angular.module("GeckoEngage").directive("geckoEventFieldTitle",function(){return{restrict:"E",scope:{utils:"=",filters:"="},controllerAs:"ctrl",controller:"geckoEventFieldTitleCtrl",template:'\n                <div class="clearfix">\n\n                    <h3>{{ctrl.event().title}}</h3> \n                    <p>\n                        {{ctrl.renderDate()}}\n                        ({{ctrl.event().timezone}})\n                    </p>\n                </div>\n            '}}).controller("geckoEventFieldTitleCtrl",function($scope,eventFieldService){var ctrl=this;ctrl.utils=$scope.utils,ctrl.event=ctrl.utils.getEvent,ctrl.renderDate=function(){return eventFieldService.renderTime(ctrl.event(),!0,"to")}})}(),!function(){"use strict";angular.module("GeckoEngage").factory("eventBasket",function(){return function(){var items=[];return{addItem:function(id){return-1===items.indexOf(id)&&items.push(id),items},removeItem:function(id){id=items.indexOf(id);return-1!==id&&items.splice(id,1),items},isInBasket:function(id){return-1!==items.indexOf(id)},clear:function(){return items=[]},generateEventIdsObject:function(){return items.reduce(function(event_ids,event){return event_ids[event]=null,event_ids},{})},get contents(){return[].concat(items)}}}})}(),!function(){"use strict";function buildCacheBustParam(){return Math.ceil(100*Math.random()*(100*Math.random()))}angular.module("GeckoEngage").factory("eventFieldService",function(requestService,portalRequestService,isMobileDevice){var _this={isMobile:isMobileDevice,prepareDateRange:function(startDate,endDate){for(var startDate=Number(moment.utc(startDate,"YYYY-MM-DD HH:mm:ss").startOf("day").format("X")),end=Number(moment.utc(endDate,"YYYY-MM-DD HH:mm:ss").startOf("day").format("X")),range=[String(startDate)],i=startDate;i<end;){var add=i+86400;range.push(String(add)),i=add}return range},prepareEventStructure:function(event){return event.sessions&&(event.children=event.sessions.map(function(session){return session.children=session.sessionTimes,delete session.sessionTimes,session}),delete event.sessions),_this.prepareEventObj(event)},prepareEventObj:function(data,parentId,type,registrationType,autoWaitlist){var obj={id:data.id,parent_id:parentId||null,registration_type:registrationType||data.registrationType||null,title:data.name||null,description:data.description||null,image:data.image||null,color:null,tags:data.tags||[],start_datetime:data.startDate||null,end_datetime:data.endDate||null,timezone:data.timezone||null,full:data.full||null,auto_waitlist:autoWaitlist||data.autoWaitlist||!1,location_title_legacy:null,maximum:data.maximum||null,maximum_guests:data.maximumGuests||null,type:type||data.type||null,delivery_method:data.deliveryMethod||null,locationId:data.locationId||null,hostIds:data.hostIds||[]};return obj.date_range=_this.prepareDateRange(data.startDate,data.endDate),data.children&&(obj.parent_id?obj.children=data.children.map(function(c){return _this.prepareEventObj(c,data.id,window.Gecko.Event.TYPE_SESSION_TIME,obj.registration_type,data.autoWaitlist)}):obj.children=data.children.map(function(c){return _this.prepareEventObj(c,data.id,window.Gecko.Event.TYPE_SESSION,obj.registration_type)})),obj},getByCategory:function(categoryId){categoryId={categoryId:categoryId,orderBy:"startDate,name",closed:"no",status:"active",perPage:1e4};return 1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&(categoryId.cb=buildCacheBustParam()),portalRequestService.get("/events",categoryId).then(function(res){return{category:{events:res.data.map(function(event){return _this.prepareEventObj(event)})}}})},getById:function(eventId){var params={orderBy:"startDate,name",closed:"no",status:"active"};return 1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&(params.cb=buildCacheBustParam()),portalRequestService.get("/events/"+eventId,params).then(function(res){return{event:_this.prepareEventStructure(res.data)}})},getSessionData:function(uuid,eventId){return requestService.get("/events/public/"+uuid+"/"+eventId,{include:"location,hosts",event_rfields:"id"})},getEfidField:function(uuid,eventId){return requestService.get("/events/public/"+uuid+"/"+eventId,{include:"children.children:all",event_rfields:"title,type,start_date,end_date"})},prepareLocationObj:function(data){return{id:data.id,address:data.address||null,google_place_id:data.googlePlaceId||null,lat:data.lat||null,lng:data.lon||null,map_url:data.mapUrl||null,title:data.title||null}},getLocation:function(locationId){return portalRequestService.get("/locations/"+locationId).then(function(res){return _this.prepareLocationObj(res.data)})},prepareHostObj:function(data){return{id:data.id,avatar:data.avatar||null,bio:data.bio||null,email:data.email||null,first_name:data.firstName||null,last_name:data.lastName||null,position:data.position||null,social_options:data.socialOptions||{},title:data.title||null}},getHosts:function(hostIds){return Promise.all((hostIds||[]).map(function(hostId){return portalRequestService.get("/hosts/"+hostId)})).then(function(res){return res.map(function(host){return _this.prepareHostObj(host.data)})})},renderTime:function(time,datePrefix){var seperator=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"-",start=time.start_datetime,time=time.end_datetime;return datePrefix?_this.date.isSameDay(start,time)?_this.date.startDateEndDate(start,time)+", "+_this.date.startTimeEndTime(start,time,seperator):_this.date.startDateEndDate(start,time):_this.date.startTimeEndTime(start,time,seperator)},date:{timeFormat:function(){return Gecko.account&&"g:i A"===Gecko.account.time_format?"h:mm A":"H:mm"},year:function(date){return moment.utc(date,"YYYY-MM-DD HH:mm:ss").format("YYYY")},month:function(date){return moment.utc(date,"YYYY-MM-DD HH:mm:ss").format("MMM")},day:function(date){return moment.utc(date,"YYYY-MM-DD HH:mm:ss").format("DD")},dayMonth:function(date){return moment.utc(date,"YYYY-MM-DD HH:mm:ss").format("Do MMMM")},dayMonthYear:function(date){return moment.utc(date,"YYYY-MM-DD HH:mm:ss").format("DD MMM YYYY")},hour:function(date){return moment.utc(date,"YYYY-MM-DD HH:mm:ss").format("HH")},minute:function(date){return moment.utc(date,"YYYY-MM-DD HH:mm:ss").format("mm")},hourMinute:function(date){return moment.utc(date,"YYYY-MM-DD HH:mm:ss").format(_this.date.timeFormat())},hourMinutePrefix:function(date){return moment.utc(date,"YYYY-MM-DD HH:mm:ss").format("h:mma")},dayDateMonth:function(date){return moment.utc(date,"YYYY-MM-DD HH:mm:ss").format("ddd D MMM")},dayMonthDateYear:function(date){return moment.utc(date,"YYYY-MM-DD HH:mm:ss").format("dddd, MMMM Do YYYY")},isSameDay:function(start,end){return _this.date.dayMonthYear(start)===_this.date.dayMonthYear(end)},isSameHour:function(start,end){return _this.date.hourMinute(start)===_this.date.hourMinute(end)},startDateEndDate:function(start,end){return _this.date.isSameDay(start,end)?_this.date.dayDateMonth(start):_this.date.dayDateMonth(start)+" to "+_this.date.dayDateMonth(end)},startTimeEndTime:function(start,end){var seperator=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"to";return _this.date.isSameHour(start,end)?_this.date.hourMinute(start):_this.date.hourMinute(start)+" "+seperator+" "+_this.date.hourMinute(end)}},sortSessionTags:function(tags){function sortFn(a,b){return a.localeCompare(b)}var strArr=tags.filter(function(tag){tag=String(tag);return tag&&tag[0]&&/^[A-Za-z]*$/.test(tag[0])}).sort(sortFn),numberArr=tags.filter(function(tag){tag=String(tag);return tag&&tag[0]&&/^[0-9]*$/.test(tag[0])}).sort(sortFn),tags=tags.filter(function(tag){tag=String(tag);return tag&&tag[0]&&/^[^A-Za-z0-9]*$/.test(tag[0])}).sort(sortFn);return[].concat(strArr,numberArr,tags)}};return _this})}(),!function(){"use strict";angular.module("GeckoEngage").directive("mapField",function(){return{restrict:"E",template:'<div class="map" ng-init="ctrl.loadMap()"></div>',scope:{lat:"@",lng:"@",title:"@",address:"@",draggable:"=",zoom:"=",scrollwheel:"=",doubleclickzoom:"=",defaultui:"="},controllerAs:"ctrl",bindToController:!0,controller:function($attrs,$scope){var ctrl=this,buildMap=(ctrl.loadMap=function(){var script;document.getElementById("google-maps-api")?"undefined"==typeof google?setTimeout(function(){ctrl.loadMap()},500):buildMap():((script=document.createElement("script")).src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAS9QXHFdfVsUrKQ-PSKPqn7GIe2PKGV3o",script.onload=buildMap,script.id="google-maps-api",document.body.appendChild(script))},function(){var latlng={lat:Number($scope.lat),lng:Number($scope.lng)},infowindow=new google.maps.InfoWindow({content:getInfoText()});(ctrl.initialised?recenterMap:buildNewMap)(latlng,infowindow)}),getInfoText=function(){var infoText="";return $scope.title&&(infoText+="<h2>"+$scope.title+"</h2>"),$scope.address&&(infoText+=$scope.address.split("\n").map(function(line){return"<span>"+line+"</span><br/>"}).join("")),infoText},buildNewMap=function(latlng,infowindow){var mapElement=document.getElementsByClassName("map")[0];ctrl.map=new google.maps.Map(mapElement,{center:latlng,zoom:12}),ctrl.map.setOptions(getMapOptions()),ctrl.marker=new google.maps.Marker({position:latlng,map:ctrl.map,title:$scope.title}),addMarkerListener(ctrl.marker,infowindow,ctrl.map),ctrl.initialised=!0,google.maps.event.addListenerOnce(ctrl.map,"idle",function(){try{this.getDiv().querySelector("iframe").title=($scope.title||"Map")+" Location"}catch(err){}})},recenterMap=function(latlng,infowindow){ctrl.map.setCenter(latlng),ctrl.marker.setMap(null),ctrl.marker=new google.maps.Marker({position:latlng,map:ctrl.map,title:$scope.title}),addMarkerListener(ctrl.marker,infowindow,ctrl.map)},getMapOptions=function(){var draggable=$scope.draggable,zoomControl=$scope.zoom,scrollwheel=$scope.scrollwheel,doubleClickZoom=$scope.doubleclickzoom,disableDefaultUI=$scope.defaultui;return{draggable:draggable=!1!==draggable?!0:draggable,zoomControl:zoomControl=!1!==zoomControl?!0:zoomControl,scrollwheel:scrollwheel=!1!==scrollwheel?!0:scrollwheel,disableDoubleClickZoom:!(doubleClickZoom=!1!==doubleClickZoom?!0:doubleClickZoom),disableDefaultUI:!(disableDefaultUI=!1!==disableDefaultUI?!0:disableDefaultUI)}},addMarkerListener=function(marker,infowindow,map){marker.addListener("click",function(){infowindow.open(map,marker)})};$attrs.$observe("lat",function(){ctrl.loadMap()}),$attrs.$observe("lng",function(){ctrl.loadMap()}),$attrs.$observe("title",function(){ctrl.loadMap()}),$attrs.$observe("address",function(){ctrl.loadMap()})}}})}(),!function(){"use strict";function getDeepLink(uuid){return param(window.location.href,"gecko_events_embed_"+uuid+"_event_id")}var param=function(src,_param){_param=new RegExp(_param+"=([^&]*)",""),src=src.match(_param);return src&&decodeURIComponent(src[1])};angular.module("GeckoEngage").directive("geckoEventsEmbedContainer",function(){return{restrict:"E",scope:{hosted:"="},controllerAs:"ctrl",controller:"geckoEventsEmbedContainerCtrl",template:'\n                <div role="main">\n\n                    <events-embed-loading ng-if="hosted && showLoading()"></events-embed-loading>\n\n    \t\t\t\t<events-embed-events \n    \t\t\t\t\tclass="gecko-events-embed-events" \n    \t\t\t\t\tng-if="showEventsList()">\t\n    \t\t\t\t</events-embed-events>\n\n    \t\t\t\t<events-embed-event \n    \t\t\t\t\tclass="gecko-events-embed-event" \n    \t\t\t\t\tng-if="showSingleEvent()">\t\t\n    \t\t\t\t</events-embed-event>\n\n                </div>\n\n\t\t\t\t<style>\n                    gecko-events-embed-container,\n\t\t\t\t\tevents-embed-events,\n\t\t\t\t\t[events-embed-event-item],\n\t\t\t\t\tevents-embed-event,\n\t\t\t\t\tevents-embed-pagination,\n                    events-embed-loading \n\t\t\t\t\t{\n\t\t\t\t\t    position:relative;\n\t\t\t\t\t    display: block;\n                        clear:both;\n\t\t\t\t\t}\n\n                    gecko-events-embed-container * \n                    {\n                        box-sizing: border-box;\n                        line-height: 1.4;\n                    }\n\n                    gecko-events-embed-container .clearfix::after {\n                        display: block;\n                        content: "";\n                        clear: both;\n                    }\n\n                    gecko-events-embed-container .gecko-events-embed-icon \n                    {   \n                        display: inline-flex;\n                        align-self: center;\n                    }\n\n                    gecko-events-embed-container .gecko-events-embed-icon svg \n                    {\n                        height:1em;\n                        width:1em;\n                        top: .125em;\n                        position: relative;\n                    }\n\n                    .flatpickr-calendar\n                    {\n                        display:none;\n                    }\n\t\t\t\t</style>\n            '}}).controller("geckoEventsEmbedContainerCtrl",function($scope,eventsEmbedService){$scope.hosted?(uuid=param(window.location.href,"uuid"),singleEventId=param(window.location.href,"event_field_id"),deepLinkEventId=getDeepLink(uuid),catId=param(window.location.href,"cat_id"),dateFormat=param(window.location.href,"date_format"),timeFormat=param(window.location.href,"time_format"),hideFilter=param(window.location.href,"hide_filter")):(scriptElement=document.getElementById("gecko-events-embed-script"))&&(uuid=param(scriptElement.src,"uuid"),singleEventId=param(scriptElement.src,"event_field_id"),deepLinkEventId=getDeepLink(uuid),catId=param(scriptElement.src,"cat_id"),dateFormat=param(scriptElement.src,"date_format"),timeFormat=param(scriptElement.src,"time_format"),hideFilter=param(scriptElement.src,"hide_filter"),embedUrl=scriptElement.src,eventsEmbedService.initEmbededVersion(embedUrl));var uuid,singleEventId,deepLinkEventId,catId,dateFormat,timeFormat,hideFilter,embedUrl,scriptElement=deepLinkEventId||singleEventId;if(!uuid)return console.warn("Form uuid required to use Gecko Embedded Events");($scope.eventsEmbedService=eventsEmbedService).uuid=uuid,eventsEmbedService.eventId=scriptElement,eventsEmbedService.catId=catId,eventsEmbedService.isSingle=!!singleEventId,eventsEmbedService.hosted=!!$scope.hosted,eventsEmbedService.dateFormat=dateFormat,eventsEmbedService.timeFormat=timeFormat,eventsEmbedService.hideFilter=!!Number(hideFilter),eventsEmbedService.embedUrl=embedUrl,eventsEmbedService.listModeFn=function(){$scope.showEventsList=function(){return!eventsEmbedService.eventId||!eventsEmbedService.event||eventsEmbedService.eventId&&eventsEmbedService.loading},$scope.showSingleEvent=function(){return eventsEmbedService.eventId||eventsEmbedService.event&&eventsEmbedService.loading},$scope.showLoading=function(){return eventsEmbedService.loading&&!eventsEmbedService.event&&!eventsEmbedService.eventId}},eventsEmbedService.singleModeFn=function(){$scope.showEventsList=function(){return!1},$scope.showSingleEvent=function(){return!0},$scope.showLoading=function(){return eventsEmbedService.loading&&!eventsEmbedService.event}},eventsEmbedService.isSingle||deepLinkEventId?eventsEmbedService.singleModeFn():eventsEmbedService.listModeFn()})}(),!function(){"use strict";angular.module("GeckoEngage").directive("deliveryMethod",function(){return{restrict:"E",scope:{event:"="},controllerAs:"ctrl",controller:"deliveryMethodCtrl",template:'\n                <div class="gecko-events-embed-event-summary-times">\n                    <events-embed-icon icon="{{ctrl.icon}}"></events-embed-icon>\n                    {{ctrl.str}}\n                </div>\n            '}}).controller("deliveryMethodCtrl",function($scope,eventsEmbedService){this.event=$scope.event,eventsEmbedService.isOnlineEvent(this.event)?(this.str="Online Event",this.icon="wifi"):(eventsEmbedService.isHybridEvent(this.event)?this.str="Venue & Online Event":this.str="Venue Event",this.icon="map-marker")})}(),!function(){"use strict";angular.module("GeckoEngage").directive("eventsEmbedEvent",function(){return{restrict:"E",scope:{},controllerAs:"ctrl",controller:"eventsEmbedEventCtrl",template:'\n                <div ng-if="ctrl.error" role="alert" aria-live="assertive">\n                    No events found.\n                </div>\n\n                <div ng-if="ctrl.event" class="clearfix">\n\n                    <div ng-if="!ctrl.isSingle" class="gecko-events-embed-event-nav">\n                        <a \n                            href="" \n                            ng-click="ctrl.openList($event)" \n                            tabindex="0" \n                            ng-keydown="ctrl.handleKeyDown($event, false, ctrl.openList, [$event])"\n                            >\n                            <events-embed-icon icon="long-arrow-alt-left"></events-embed-icon>\n                            Back to events list\n                        </a>\n                    </div>\n\n                    <section class="gecko-events-embed-event-summary clearfix">\n\n                        <div ng-if="ctrl.event.image" class="gecko-events-embed-event-summary-left gecko-events-embed-branding-img gecko-events-embed-item-img">\n                            <img \n                                ng-src="{{ctrl.event.image}}?w={{ctrl.eventImgWidth}}"\n                                alt="{{ctrl.event.title}}" />\n                        </div>\n                        \n                        <div class="gecko-events-embed-event-summary-right">\n\n                            <h2 class="gecko-events-embed-event-summary-title" id="gecko-events-embed-event-summary-title">\n                                {{ctrl.event.title}}\n                            </h2>\n                            <div class="gecko-events-embed-event-summary-times">\n                                <events-embed-icon icon="calendar-alt"></events-embed-icon>\n                                {{ ctrl.date }}\n                            </div>\n                            <div class="gecko-events-embed-event-summary-times">\n                                <events-embed-icon icon="clock"></events-embed-icon>\n                                {{ ctrl.times }} ({{ ctrl.event.timezone }})\n                            </div>\n                            <delivery-method event="ctrl.event"></delivery-method>\n                            <button \n                                ng-if="ctrl.tabs.length > 1"\n                                type="button" \n                                role="button"\n                                ng-click="ctrl.setTab(3);ctrl.setFocus(\'gecko-events-embed-event-3\')"\n                                class="gecko-events-embed-event-summary-btn btn btn-primary">\n                                    <events-embed-icon icon="book"></events-embed-icon> Book Event\n                            </button>\n                       \n                        </div>\n\n                    </section>\n\n                    <div class="gecko-events-embed-event-tabs-wrapper">\n                        <ul class="gecko-events-embed-event-tabs" \n                            ng-if="ctrl.tabs.length > 1" \n                            role="tablist" \n                            aria-labelledby="gecko-events-embed-event-summary-title"\n                            >\n                            <li \n                                ng-class="{active: ctrl.activeTab === tab.index}"\n                                tabindex="{{ctrl.activeTab === tab.index ? \'0\' : \'-1\'}}"\n                                ng-repeat="tab in ctrl.tabs track by $index"\n                                ng-click="ctrl.setTab(tab.index)"\n                                ng-keydown="ctrl.tabKeydownFn($event)"\n                                role="tab"\n                                id="gecko-events-embed-event-{{tab.index}}-tab"\n                                aria-selected="{{ ctrl.activeTab === tab.index }}"\n                                aria-controls="gecko-events-embed-event-{{ tab.index }}"\n                                >\n                                    <events-embed-icon icon="{{tab.icon}}" class="hide-gecko-icon"></events-embed-icon>\n                                    <span>{{tab.title}}</span>\n                            </li>\n                        </ul>\n                        <div class="gecko-events-embed-event-tabs-container">\n                            \n                            <div class="gecko-events-embed-event-description" ng-if="ctrl.activeTab === 0" role="tabpanel" id="gecko-events-embed-event-0" aria-labelledby="gecko-events-embed-event-0-tab" tabindex="0">\n                                <div gecko-bind-html="ctrl.event.description"></div>\n                            </div>\n\n                            <div class="gecko-events-embed-event-hosts" ng-if="ctrl.activeTab === 1" role="tabpanel" id="gecko-events-embed-event-1" aria-labelledby="gecko-events-embed-event-1-tab" tabindex="0">\n                                <ul class="gecko-events-embed-event-hosts-list">\n                                    <li class="gecko-events-embed-event-host clearfix" ng-repeat="h in ctrl.hosts track by $index">\n                                        <div class="gecko-events-embed-event-host-left gecko-events-embed-event-host-img gecko-events-embed-branding-img" ng-if="h.avatar">\n                                            <img \n                                                ng-src="{{h.avatar}}?w={{ctrl.hostImgWidth}}" \n                                                alt="{{h.name}}" />\n                                        </div>\n                                        <div class="gecko-events-embed-event-host-right">\n                                            <h3>{{h.name}}</h3>\n                                            \n                                            <div ng-if="h.bio" class="gecko-events-embed-event-host-bio">\n                                               {{h.bio}}\n                                            </div>\n                                            \n                                            <div ng-if="h.social_options || h.social_options.length > 0" class="gecko-host-social-icons">\n                                                <div ng-repeat="(key, value) in h.social_options track by $index" ng-if="value">\n                                                    <a href="{{ctrl.renderLink(value)}}" target="_blank" aria-label="Go to the host\'s {{key}}">\n                                                        <events-embed-icon icon="{{key}}"></events-embed-icon>\n                                                    </a>\n                                                </div>\n                                            </div>\n\n                                        </div>\n                                    </li>\n                                </ul>\n                            </div>\n\n                            <div class="gecko-events-embed-event-location" ng-if="ctrl.activeTab === 2" role="tabpanel" id="gecko-events-embed-event-2" aria-labelledby="gecko-events-embed-event-2-tab" tabindex="0">\n                                <map-field\n                                    lat="{{ctrl.location.lat}}"\n                                    lng="{{ctrl.location.lng}}"\n                                    title="{{ctrl.location.title}}"\n                                    address="{{ctrl.location.address}}"\n                                    draggable="false"\n                                    zoom="true"\n                                    scrollwheel="true"\n                                    doubleclickzoom="true"\n                                    defaultui="false">\n                                </map-field>\n                                <div class="gecko-events-embed-event-location-directions">\n                                    <a href="" ng-click="ctrl.mapsSelector($event)">\n                                        <events-embed-icon icon="location-arrow"></events-embed-icon>\n                                        Get Directions\n                                    </a>\n                                </div>\n                            </div>\n                            <div class="gecko-events-embed-event-form" ng-show="ctrl.activeTab === 3" role="tabpanel" id="gecko-events-embed-event-3" aria-labelledby="gecko-events-embed-event-3-tab" tabindex="0">\n                                <h3 class="gecko-events-embed-event-summary-title" ng-if="ctrl.tabs.length === 1">Booking</h3>\n                                <events-embed-form event-field-id="ctrl.event.id"></events-embed-form>\n                            </div>\n                            \n                        </div>\n                    </div>\n                    \n                </div>\n            '}}).controller("eventsEmbedEventCtrl",function($scope,$rootScope,eventsEmbedService,$timeout){var ctrl=this,windowWidth=(ctrl.isSingle=eventsEmbedService.isSingle,ctrl.uuid=eventsEmbedService.uuid,ctrl.activeTab=eventsEmbedService.activeTab||0,ctrl.error=!1,ctrl.handleKeyDown=eventsEmbedService.handleKeyDown,Math.floor(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth));ctrl.eventImgWidth=windowWidth<576?windowWidth:300,ctrl.hostImgWidth=windowWidth<576?windowWidth:150,ctrl.openList=function($event){$event&&$event.preventDefault(),eventsEmbedService.eventId=null,eventsEmbedService.listModeFn(),eventsEmbedService.setDeepLink("gecko_events_embed_"+eventsEmbedService.uuid+"_event_id",null)},window.onpopstate||(window.onpopstate=function(event){eventsEmbedService.eventId&&(ctrl.openList(),$rootScope.$digest())}),ctrl.buildTabs=function(){var tabs=[];return(ctrl.event.description||"").replace(/(<([^>]+)>)/gi,"")&&tabs.push({index:0,title:"Description",icon:"align-left"}),ctrl.hosts&&ctrl.hosts.length&&tabs.push({index:1,title:"Hosts",icon:"user"}),eventsEmbedService.isVenueEvent(ctrl.event)&&ctrl.location&&tabs.push({index:2,title:"Location",icon:"map-marker"}),tabs.push({index:3,title:"Booking",icon:"ticket"}),ctrl.activeTab=eventsEmbedService.activeTab||tabs[0].index,tabs},ctrl.mapsSelector=function($event){var lng;return $event.preventDefault(),ctrl.location&&-1!==navigator.platform.indexOf("iPhone")||-1!==navigator.platform.indexOf("iPod")||-1!==navigator.platform.indexOf("iPad")?($event=ctrl.location.lat,lng=ctrl.location.lng,window.open("maps://maps.google.com/maps?saddr=My+Location&daddr="+$event+","+lng+"&amp;ll=")):!(!ctrl.location&&!ctrl.parentEvent.location)&&($event=ctrl.location.lat,lng=ctrl.location.lng,window.open("https://maps.google.com/maps?saddr=My+Location&daddr="+$event+","+lng+"&amp;ll="))},ctrl.initEvent=function(data){ctrl.event=eventsEmbedService.event,ctrl.event?(ctrl.date=eventsEmbedService.renderDate(eventsEmbedService.event),ctrl.times=eventsEmbedService.renderTimes(eventsEmbedService.event),ctrl.hosts=eventsEmbedService.event.hosts,ctrl.location=eventsEmbedService.event.location,ctrl.tabs=ctrl.buildTabs(),ctrl.error=!1):ctrl.error=!0},ctrl.renderLink=function(link){return link=-1===String(link).indexOf("://")?"http://"+link:link},ctrl.setTab=function(tab){ctrl.activeTab=tab},ctrl.setFocus=function(selector){$timeout(function(){try{document.getElementById(selector).focus()}catch(err){}})},ctrl.tabKeydownFn=function(evt){var newTabIndex,indexMap;[37,39].includes(evt.keyCode)&&(indexMap=ctrl.tabs.map(function(t){return t.index}),37===evt.keyCode&&0<indexMap.indexOf(ctrl.activeTab)&&(newTabIndex=indexMap[indexMap.indexOf(ctrl.activeTab)-1]),void 0!==(newTabIndex=39===evt.keyCode&&indexMap.indexOf(ctrl.activeTab)<ctrl.tabs.length-1?indexMap[indexMap.indexOf(ctrl.activeTab)+1]:newTabIndex)&&(ctrl.setTab(newTabIndex),ctrl.setFocus("gecko-events-embed-event-"+ctrl.activeTab+"-tab")),evt.preventDefault())},eventsEmbedService.eventId&&eventsEmbedService.loadSingle(eventsEmbedService.eventId).then(function(data){ctrl.initEvent(data),$scope.$digest()}).then(function(){eventsEmbedService.scroll()}).then(function(){return eventsEmbedService.inited=!0})})}(),!function(){"use strict";angular.module("GeckoEngage").directive("eventsEmbedEventItem",function(){return{restrict:"A",scope:{item:"="},controllerAs:"ctrl",controller:"eventsEmbedEventItemCtrl",template:'\n                <section class="clearfix">\n\n                    <div class="gecko-events-embed-item-left">\n                        <events-embed-icon icon="calendar-alt"></events-embed-icon>\n                        <div>{{ ctrl.date }}</div>\n                    </div>\n                    \n                    <div class="gecko-events-embed-item-right">\n\n                        <div>\n\n                            <div class="gecko-events-embed-item-info">\n                                <h2 class="gecko-events-embed-item-title" \n                                    tabindex="0" \n                                    role="link"\n                                    ng-click="ctrl.openEvent($event)"\n                                    ng-keydown="ctrl.handleKeyDown($event, false, ctrl.openEvent, [$event])"\n                                    >\n                                    <span>{{ctrl.item.title}}</span>\n                                </h2>\n                                <div class="gecko-events-embed-item-date">\n                                    <events-embed-icon icon="calendar-alt"></events-embed-icon>\n                                    {{ ctrl.date }}\n                                </div>\n                                <div class="gecko-events-embed-item-times">\n                                    <events-embed-icon icon="clock"></events-embed-icon>\n                                    {{ ctrl.times }} ({{ ctrl.item.timezone }})\n                                </div>\n                                <delivery-method event="ctrl.item"></delivery-method>\n                            </div>\n                            <div class="gecko-events-embed-item-link">\n                                <a href="" class="btn btn-primary" ng-click="ctrl.openEvent($event, 3)">\n                                    <events-embed-icon icon="book"></events-embed-icon> Book\n                                </a>\n                                <a href="" class="btn btn-default" ng-click="ctrl.openEvent($event)" ng-if="ctrl.item.description">\n                                    <events-embed-icon icon="info"></events-embed-icon> More Information\n                                </a>\n                            </div>\n\n                        </div>\n\n                    </div>\n\n                </section>\n            '}}).controller("eventsEmbedEventItemCtrl",function($scope,eventsEmbedService){var ctrl=this,$scope=(ctrl.item=$scope.item,ctrl.date=eventsEmbedService.renderDate(ctrl.item),ctrl.times=eventsEmbedService.renderTimes(ctrl.item),ctrl.handleKeyDown=eventsEmbedService.handleKeyDown,Math.floor(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth));ctrl.eventImgWidth=$scope<576?$scope:300,ctrl.openEvent=function($event,activeTab){$event.preventDefault(),eventsEmbedService.eventId=ctrl.item.id,eventsEmbedService.activeTab=activeTab||null}})}(),!function(){"use strict";angular.module("GeckoEngage").directive("eventsEmbedEvents",function(){return{restrict:"E",scope:{},controllerAs:"ctrl",controller:"eventsEmbedEventsCtrl",template:'\n                <div class="clearfix">\n\n                    <events-embed-filter \n                        ng-if="!ctrl.eventsEmbedService.hideFilter"\n                        handler="ctrl.loadEventsHandler">\n                    </events-embed-filter>\n\n                    <div role="alert" aria-live="assertive" class="alert alert-warning" ng-if="ctrl.showNoResults()">\n                        No events found.\n                    </div>\n                    \n                    <ul class="gecko-events-embed-events-list clearfix" ng-if="ctrl.events.length">\n                        <li \n                            class="gecko-events-embed-item"\n                            events-embed-event-item\n                            item="item"\n                            ng-repeat="item in ctrl.events track by $index">\n                        </li>\n                    </ul>\n\n                    <events-embed-pagination\n                        class="gecko-events-embed-pagination"\n                        ng-if="ctrl.events.length"\n                        pagination="ctrl.pagination"\n                        handler="ctrl.loadEventsHandler">\n                    </events-embed-pagination>\n                    \n                </div>\n            '}}).controller("eventsEmbedEventsCtrl",function($scope,$rootScope,eventsEmbedService){var ctrl=this;ctrl.events=[],ctrl.pagination={},ctrl.error=!1,ctrl.eventsEmbedService=eventsEmbedService,ctrl.showNoResults=function(){return ctrl.error||!eventsEmbedService.loading&&!ctrl.events.length},ctrl.loadEventsHandler=function(page){return eventsEmbedService.loadList(page||1,eventsEmbedService.fromDate,eventsEmbedService.toDate,eventsEmbedService.keyword).then(function(data){return ctrl.events=[],ctrl.pagination={},ctrl.error=!1,$scope.$digest(),data}).then(function(data){ctrl.events=data.events,ctrl.pagination=data.pagination,data.message&&(ctrl.error=!0),$scope.$digest()}).then(function(){eventsEmbedService.scroll()}).then(function(){return eventsEmbedService.inited=!0})},ctrl.loadEventsHandler()})}(),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj});function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}!function(e,t){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).flatpickr=t()}(this,function(){"use strict";var _e=function(){return(_e=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},t=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],n={_disable:[],_enable:[],allowInput:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==("undefined"==typeof window?"undefined":_typeof(window))&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var e=new Date(e.getTime()),n=(e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7),new Date(e.getFullYear(),0,4));return 1+Math.round(((e.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},a={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){e%=100;if(3<e&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year"},_i=function(e){return("0"+e).slice(-2)},o=function(e){return!0===e?1:0};function r(e,t,n){var a;return void 0===n&&(n=!1),function(){var i=this,o=arguments;null!==a&&clearTimeout(a),a=window.setTimeout(function(){a=null,n||e.apply(i,o)},t),n&&!a&&e.apply(i,o)}}var l=function(e){return e instanceof Array?e:[e]};function c(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function d(e,t,n){e=window.document.createElement(e);return n=n||"",e.className=t=t||"",void 0!==n&&(e.textContent=n),e}function s(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function u(e,t){var n=d("div","numInputWrapper"),a=d("input","numInput "+e),e=d("span","arrowUp"),o=d("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?a.type="number":(a.type="text",a.pattern="\\d*"),void 0!==t)for(var r in t)a.setAttribute(r,t[r]);return n.appendChild(a),n.appendChild(e),n.appendChild(o),n}function f(){}var m=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},g={D:f,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours(parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*o(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t){t=parseInt(t);return new Date(e.getFullYear(),0,2+7*(t-1),0,0,0,0)},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours(parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:f,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:f,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},p={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},h={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[h.w(e,t,n)]},F:function(e,t,n){return m(h.n(e,t,n)-1,!1,t)},G:function(e,t,n){return _i(h.h(e,t,n))},H:function(e){return _i(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[o(11<e.getHours())]},M:function(e,t){return m(e.getMonth(),!0,t)},S:function(e){return _i(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return e.getFullYear()},d:function(e){return _i(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return _i(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return _i(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},v=function(e){var t=e.config,i=void 0===t?n:t,t=e.l10n,r=void 0===t?a:t;return function(e,t,n){var a=n||r;return void 0!==i.formatDate?i.formatDate(e,t,a):t.split("").map(function(t,n,o){return h[t]&&"\\"!==o[n-1]?h[t](e,a,i):"\\"!==t?t:""}).join("")}},D=function(e){var t=e.config,i=void 0===t?n:t,t=e.l10n,r=void 0===t?a:t;return function(e,t,a,o){if(0===e||e){var c=o||r,o=e;if(e instanceof Date)l=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)l=new Date(e);else if("string"==typeof e){var s=t||(i||n).dateFormat,t=String(e).trim();if("today"===t)l=new Date,a=!0;else if(/Z$/.test(t)||/GMT$/.test(t))l=new Date(e);else if(i&&i.parseDate)l=i.parseDate(e,s);else{for(var l=i&&i.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),f=void 0,m=[],h=0,v=0,D="";h<s.length;h++){var w=s[h],b="\\"===w,y="\\"===s[h-1]||b;p[w]&&!y?(D+=p[w],(y=new RegExp(D).exec(e))&&(f=!0)&&m["Y"!==w?"push":"unshift"]({fn:g[w],val:y[++v]})):b||(D+="."),m.forEach(function(e){var t=e.fn,e=e.val;return l=t(l,e,c)||l})}l=f?l:void 0}}if(l instanceof Date&&!isNaN(l.getTime()))return!0===a&&l.setHours(0,0,0,0),l;i.errorHandler(new Error("Invalid date provided: "+o))}}};function w(e,t,n){return!1!==(n=void 0===n?!0:n)?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var b=function(e,t,n){return e>Math.min(t,n)&&e<Math.max(t,n)},y={DAY:864e5},C=("function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var i=0,o=t;i<o.length;i++)!function(t){t&&Object.keys(t).forEach(function(n){return e[n]=t[n]})}(o[i]);return e}),300);function M(n,f){var g={config:_e({},E.defaultConfig),l10n:a};function h(e){return e.bind(g)}function M(){var e=g.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame(function(){var t;void 0!==g.calendarContainer&&(g.calendarContainer.style.visibility="hidden",g.calendarContainer.style.display="block"),void 0!==g.daysContainer&&(t=(g.days.offsetWidth+1)*e.showMonths,g.daysContainer.style.width=t+"px",g.calendarContainer.style.width=t+(void 0!==g.weekWrapper?g.weekWrapper.offsetWidth:0)+"px",g.calendarContainer.style.removeProperty("visibility"),g.calendarContainer.style.removeProperty("display"))})}function x(e){0===g.selectedDates.length&&ne(),void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var f,t="keydown"===e.type,n=e.target,a=(void 0!==g.amPM&&e.target===g.amPM&&(g.amPM.textContent=g.l10n.amPM[o(g.amPM.textContent===g.l10n.amPM[0])]),parseFloat(n.getAttribute("min"))),r=parseFloat(n.getAttribute("max")),l=parseFloat(n.getAttribute("step")),c=parseInt(n.value,10),t=c+l*(e.delta||(t?38===e.which?1:-1:0));void 0!==n.value&&2===n.value.length&&(e=n===g.hourElement,f=n===g.minuteElement,t<a?(t=r+t+o(!e)+(o(e)&&o(!g.amPM)),f&&Y(void 0,-1,g.hourElement)):r<t&&(t=n===g.hourElement?t-r-o(!g.amPM):a,f&&Y(void 0,1,g.hourElement)),g.amPM&&e&&(1===l?t+c===23:Math.abs(t-c)>l)&&(g.amPM.textContent=g.l10n.amPM[o(g.amPM.textContent===g.l10n.amPM[0])]),n.value=_i(t))}(e);e=g._input.value;T(),ve(),g._input.value!==e&&g._debouncedChange()}function T(){var n,a,i,e,t;void 0!==g.hourElement&&void 0!==g.minuteElement&&(n=(parseInt(g.hourElement.value.slice(-2),10)||0)%24,a=(parseInt(g.minuteElement.value,10)||0)%60,i=void 0!==g.secondElement?(parseInt(g.secondElement.value,10)||0)%60:0,void 0!==g.amPM&&(e=n,t=g.amPM.textContent,n=e%12+12*o(t===g.l10n.amPM[1])),e=void 0!==g.config.minTime||g.config.minDate&&g.minDateHasTime&&g.latestSelectedDateObj&&0===w(g.latestSelectedDateObj,g.config.minDate,!0),(void 0!==g.config.maxTime||g.config.maxDate&&g.maxDateHasTime&&g.latestSelectedDateObj&&0===w(g.latestSelectedDateObj,g.config.maxDate,!0))&&(t=void 0!==g.config.maxTime?g.config.maxTime:g.config.maxDate,(a=(n=Math.min(n,t.getHours()))===t.getHours()?Math.min(a,t.getMinutes()):a)===t.getMinutes()&&(i=Math.min(i,t.getSeconds()))),e&&(t=void 0!==g.config.minTime?g.config.minTime:g.config.minDate,(a=(n=Math.max(n,t.getHours()))===t.getHours()?Math.max(a,t.getMinutes()):a)===t.getMinutes()&&(i=Math.max(i,t.getSeconds()))),O(n,a,i))}function k(e){e=e||g.latestSelectedDateObj;e&&O(e.getHours(),e.getMinutes(),e.getSeconds())}function I(){var a,i,e=g.config.defaultHour,t=g.config.defaultMinute,n=g.config.defaultSeconds;void 0!==g.config.minDate&&(a=g.config.minDate.getHours(),i=g.config.minDate.getMinutes(),(e=Math.max(e,a))===a&&(t=Math.max(i,t)),e===a&&t===i&&(n=g.config.minDate.getSeconds())),void 0!==g.config.maxDate&&(a=g.config.maxDate.getHours(),i=g.config.maxDate.getMinutes(),(e=Math.min(e,a))===a&&(t=Math.min(i,t)),e===a&&t===i&&(n=g.config.maxDate.getSeconds())),O(e,t,n)}function O(e,t,n){void 0!==g.latestSelectedDateObj&&g.latestSelectedDateObj.setHours(e%24,t,n||0,0),g.hourElement&&g.minuteElement&&!g.isMobile&&(g.hourElement.value=_i(g.config.time_24hr?e:(12+e)%12+12*o(e%12==0)),g.minuteElement.value=_i(t),void 0!==g.amPM&&(g.amPM.textContent=g.l10n.amPM[o(12<=e)]),void 0!==g.secondElement&&(g.secondElement.value=_i(n)))}function S(e){var t=parseInt(e.target.value)+(e.delta||0);(1<t/1e3||"Enter"===e.key&&!/[^\d]/.test(t.toString()))&&V(t)}function _(e,t,n,a){return t instanceof Array?t.forEach(function(t){return _(e,t,n,a)}):e instanceof Array?e.forEach(function(e){return _(e,t,n,a)}):(e.addEventListener(t,n,a),void g._handlers.push({element:e,event:t,handler:n,options:a}))}function N(e){return function(t){1===t.which&&e(t)}}function F(){fe("onChange")}function P(e){var t=void 0!==e?g.parseDate(e):g.latestSelectedDateObj||(g.config.minDate&&g.config.minDate>g.now?g.config.minDate:g.config.maxDate&&g.config.maxDate<g.now?g.config.maxDate:g.now);try{void 0!==t&&(g.currentYear=t.getFullYear(),g.currentMonth=t.getMonth())}catch(e){e.message="Invalid date supplied: "+t,g.config.errorHandler(e)}g.redraw()}function A(e){~e.target.className.indexOf("arrow")&&Y(e,e.target.classList.contains("arrowUp")?1:-1)}function Y(e,t,n){e=e&&e.target,n=n||e&&e.parentNode&&e.parentNode.firstChild,e=me("increment");e.delta=t,n&&n.dispatchEvent(e)}function j(e,t,n,a){var i=Z(t,!0),o=d("span","flatpickr-day "+e,t.getDate().toString());return o.dateObj=t,o.$i=a,o.setAttribute("aria-label",g.formatDate(t,g.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===w(t,g.now)&&((g.todayDateElem=o).classList.add("today"),o.setAttribute("aria-current","date")),i?(o.tabIndex=-1,ge(t)&&(o.classList.add("selected"),g.selectedDateElem=o,"range"===g.config.mode&&(c(o,"startRange",g.selectedDates[0]&&0===w(t,g.selectedDates[0],!0)),c(o,"endRange",g.selectedDates[1]&&0===w(t,g.selectedDates[1],!0)),"nextMonthDay"===e&&o.classList.add("inRange")))):o.classList.add("disabled"),"range"===g.config.mode&&function(e){return!("range"!==g.config.mode||g.selectedDates.length<2)&&0<=w(e,g.selectedDates[0])&&w(e,g.selectedDates[1])<=0}(t)&&!ge(t)&&o.classList.add("inRange"),g.weekNumbers&&1===g.config.showMonths&&"prevMonthDay"!==e&&n%7==1&&g.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+g.config.getWeek(t)+"</span>"),fe("onDayCreate",o),o}function H(e){e.focus(),"range"===g.config.mode&&ee(e)}function L(e){for(var t=0<e?0:g.config.showMonths-1,n=0<e?g.config.showMonths:-1,a=t;a!=n;a+=e)for(var i=g.daysContainer.children[a],o=0<e?0:i.children.length-1,r=0<e?i.children.length:-1,l=o;l!=r;l+=e){var c=i.children[l];if(-1===c.className.indexOf("hidden")&&Z(c.dateObj))return c}}function W(e,t){var n=Q(document.activeElement||document.body),e=void 0!==e?e:n?document.activeElement:void 0!==g.selectedDateElem&&Q(g.selectedDateElem)?g.selectedDateElem:void 0!==g.todayDateElem&&Q(g.todayDateElem)?g.todayDateElem:L(0<t?1:-1);void 0===e?g._input.focus():n?function(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():g.currentMonth,a=0<t?g.config.showMonths:-1,i=0<t?1:-1,o=n-g.currentMonth;o!=a;o+=i)for(var r=g.daysContainer.children[o],l=n-g.currentMonth===o?e.$i+t:t<0?r.children.length-1:0,c=r.children.length,d=l;0<=d&&d<c&&d!=(0<t?c:-1);d+=i){var s=r.children[d];if(-1===s.className.indexOf("hidden")&&Z(s.dateObj)&&Math.abs(e.$i-d)>=Math.abs(t))return H(s)}g.changeMonth(i),W(L(i),0)}(e,t):H(e)}function B(){if(void 0!==g.daysContainer){s(g.daysContainer),g.weekNumbers&&s(g.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<g.config.showMonths;t++){var n=new Date(g.currentYear,g.currentMonth,1);n.setMonth(g.currentMonth+t),e.appendChild(function(e,t){for(var n=(new Date(e,t,1).getDay()-g.l10n.firstDayOfWeek+7)%7,a=g.utils.getDaysInMonth((t-1+12)%12),i=g.utils.getDaysInMonth(t),o=window.document.createDocumentFragment(),r=1<g.config.showMonths,l=r?"prevMonthDay hidden":"prevMonthDay",c=r?"nextMonthDay hidden":"nextMonthDay",s=a+1-n,u=0;s<=a;s++,u++)o.appendChild(j(l,new Date(e,t-1,s),s,u));for(s=1;s<=i;s++,u++)o.appendChild(j("",new Date(e,t,s),s,u));for(var f=i+1;f<=42-n&&(1===g.config.showMonths||u%7!=0);f++,u++)o.appendChild(j(c,new Date(e,t+1,f%i),f,u));return(r=d("div","dayContainer")).appendChild(o),r}(n.getFullYear(),n.getMonth()))}g.daysContainer.appendChild(e),g.days=g.daysContainer.firstChild,"range"===g.config.mode&&1===g.selectedDates.length&&ee()}}function J(){s(g.monthNav),g.monthNav.appendChild(g.prevMonthNav),g.config.showMonths&&(g.yearElements=[],g.monthElements=[]);for(var e=g.config.showMonths;e--;){var t=function(){var e=d("div","flatpickr-month"),t=window.document.createDocumentFragment(),n=d("span","cur-month"),a=u("cur-year",{tabindex:"-1"}),i=a.getElementsByTagName("input")[0],o=(i.setAttribute("aria-label",g.l10n.yearAriaLabel),g.config.minDate&&i.setAttribute("min",g.config.minDate.getFullYear().toString()),g.config.maxDate&&(i.setAttribute("max",g.config.maxDate.getFullYear().toString()),i.disabled=!!g.config.minDate&&g.config.minDate.getFullYear()===g.config.maxDate.getFullYear()),d("div","flatpickr-current-month"));return o.appendChild(n),o.appendChild(a),t.appendChild(o),e.appendChild(t),{container:e,yearElement:i,monthElement:n}}();g.yearElements.push(t.yearElement),g.monthElements.push(t.monthElement),g.monthNav.appendChild(t.container)}g.monthNav.appendChild(g.nextMonthNav)}function U(){g.weekdayContainer?s(g.weekdayContainer):g.weekdayContainer=d("div","flatpickr-weekdays");for(var e=g.config.showMonths;e--;){var t=d("div","flatpickr-weekdaycontainer");g.weekdayContainer.appendChild(t)}return q(),g.weekdayContainer}function q(){var e=g.l10n.firstDayOfWeek,t=g.l10n.weekdays.shorthand.slice();0<e&&e<t.length&&(t=t.splice(e,t.length).concat(t.splice(0,e)));for(var n=g.config.showMonths;n--;)g.weekdayContainer.children[n].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+t.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}function $(e,t){t=(t=void 0===t?!0:t)?e:e-g.currentMonth;t<0&&!0===g._hidePrevMonthArrow||0<t&&!0===g._hideNextMonthArrow||(g.currentMonth+=t,(g.currentMonth<0||11<g.currentMonth)&&(g.currentYear+=11<g.currentMonth?1:-1,g.currentMonth=(g.currentMonth+12)%12,fe("onYearChange")),B(),fe("onMonthChange"),pe())}function z(e){return!(!g.config.appendTo||!g.config.appendTo.contains(e))||g.calendarContainer.contains(e)}function G(e){var t,a,r;g.isOpen&&!g.config.inline&&(r=z(t="function"==typeof(r=e).composedPath?r.composedPath()[0]:r.target),a=t===g.input||t===g.altInput||g.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(g.input)||~e.path.indexOf(g.altInput)),a="blur"===e.type?a&&e.relatedTarget&&!z(e.relatedTarget):!a&&!r&&!z(e.relatedTarget),r=!g.config.ignoredFocusElements.some(function(e){return e.contains(t)}),a&&r&&(g.close(),"range"===g.config.mode&&1===g.selectedDates.length&&(g.clear(!1),g.redraw())))}function V(e){var n;!e||g.config.minDate&&e<g.config.minDate.getFullYear()||g.config.maxDate&&e>g.config.maxDate.getFullYear()||(n=g.currentYear!==e,g.currentYear=e||g.currentYear,g.config.maxDate&&g.currentYear===g.config.maxDate.getFullYear()?g.currentMonth=Math.min(g.config.maxDate.getMonth(),g.currentMonth):g.config.minDate&&g.currentYear===g.config.minDate.getFullYear()&&(g.currentMonth=Math.max(g.config.minDate.getMonth(),g.currentMonth)),n&&(g.redraw(),fe("onYearChange")))}function Z(e,t){var n=g.parseDate(e,void 0,t=void 0===t?!0:t);if(g.config.minDate&&n&&w(n,g.config.minDate,void 0!==t?t:!g.minDateHasTime)<0||g.config.maxDate&&n&&0<w(n,g.config.maxDate,void 0!==t?t:!g.maxDateHasTime))return!1;if(0===g.config.enable.length&&0===g.config.disable.length)return!0;if(void 0===n)return!1;for(var l,a=0<g.config.enable.length,i=a?g.config.enable:g.config.disable,o=0,r=void 0;o<i.length;o++){if("function"==typeof(r=i[o])&&r(n))return a;if(r instanceof Date&&void 0!==n&&r.getTime()===n.getTime())return a;if("string"==typeof r&&void 0!==n)return(l=g.parseDate(r,void 0,!0))&&l.getTime()===n.getTime()?a:!a;if("object"==(void 0===r?"undefined":_typeof(r))&&void 0!==n&&r.from&&r.to&&n.getTime()>=r.from.getTime()&&n.getTime()<=r.to.getTime())return a}return!a}function Q(e){return void 0!==g.daysContainer&&-1===e.className.indexOf("hidden")&&g.daysContainer.contains(e)}function X(e){var t=e.target===g._input,n=g.config.allowInput,a=g.isOpen&&(!n||!t),i=g.config.inline&&t&&!n;if(13===e.keyCode&&t){if(n)return g.setDate(g._input.value,!0,e.target===g.altInput?g.config.altFormat:g.config.dateFormat),e.target.blur();g.open()}else if(z(e.target)||a||i){var d,o=!!g.timeContainer&&g.timeContainer.contains(e.target);switch(e.keyCode){case 13:o?(x(),le()):ce(e);break;case 27:e.preventDefault(),le();break;case 8:case 46:t&&!g.config.allowInput&&(e.preventDefault(),g.clear());break;case 37:case 39:o?g.hourElement&&g.hourElement.focus():(e.preventDefault(),void 0!==g.daysContainer&&(!1===n||document.activeElement&&Q(document.activeElement))&&(r=39===e.keyCode?1:-1,e.ctrlKey?(e.stopPropagation(),$(r),W(L(1),0)):W(void 0,r)));break;case 38:case 40:e.preventDefault();var r=40===e.keyCode?1:-1;g.daysContainer&&void 0!==e.target.$i||e.target===g.input?e.ctrlKey?(e.stopPropagation(),V(g.currentYear-r),W(L(1),0)):o||W(void 0,7*r):g.config.enableTime&&(!o&&g.hourElement&&g.hourElement.focus(),x(e),g._debouncedChange());break;case 9:!o||-1!==(d=(r=[g.hourElement,g.minuteElement,g.secondElement,g.amPM].filter(function(e){return e})).indexOf(e.target))&&(void 0!==(r=r[d+(e.shiftKey?-1:1)])?(e.preventDefault(),r.focus()):e.shiftKey&&(e.preventDefault(),g._input.focus()))}}if(void 0!==g.amPM&&e.target===g.amPM)switch(e.key){case g.l10n.amPM[0].charAt(0):case g.l10n.amPM[0].charAt(0).toLowerCase():g.amPM.textContent=g.l10n.amPM[0],T(),ve();break;case g.l10n.amPM[1].charAt(0):case g.l10n.amPM[1].charAt(0).toLowerCase():g.amPM.textContent=g.l10n.amPM[1],T(),ve()}fe("onKeyDown",e)}function ee(e){if(1===g.selectedDates.length&&(!e||e.classList.contains("flatpickr-day")&&!e.classList.contains("disabled"))){for(var t=(e||g.days.firstElementChild).dateObj.getTime(),n=g.parseDate(g.selectedDates[0],void 0,!0).getTime(),a=Math.min(t,g.selectedDates[0].getTime()),i=Math.max(t,g.selectedDates[0].getTime()),o=g.daysContainer.lastChild.lastChild.dateObj.getTime(),r=!1,l=0,c=0,d=a;d<o;d+=y.DAY)Z(new Date(d),!0)||(r=r||a<d&&d<i,d<n&&(!l||l<d)?l=d:n<d&&(!c||d<c)&&(c=d));for(var s=0;s<g.config.showMonths;s++)for(var u=g.daysContainer.children[s],f=g.daysContainer.children[s-1],p=0,h=u.children.length;p<h;p++)!function(a){var m,o=u.children[a],a=o.dateObj.getTime();(m=0<l&&a<l||0<c&&c<a)?(o.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(e){o.classList.remove(e)})):r&&!m||(["startRange","inRange","endRange","notAllowed"].forEach(function(e){o.classList.remove(e)}),void 0!==e&&(e.classList.add(t<g.selectedDates[0].getTime()?"startRange":"endRange"),!u.contains(e)&&0<s&&f&&f.lastChild.dateObj.getTime()>=a||(n<t&&a===n?o.classList.add("startRange"):t<n&&a===n&&o.classList.add("endRange"),l<=a&&(0===c||a<=c)&&b(a,n,t)&&o.classList.add("inRange"))))}(p)}}function te(){!g.isOpen||g.config.static||g.config.inline||oe()}function ne(){g.setDate(void 0!==g.config.minDate?new Date(g.config.minDate.getTime()):new Date,!1),I(),ve()}function ae(e){return function(t){var t=g.config["_"+e+"Date"]=g.parseDate(t,g.config.dateFormat),a=g.config["_"+("min"===e?"max":"min")+"Date"];void 0!==t&&(g["min"===e?"minDateHasTime":"maxDateHasTime"]=0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()),g.selectedDates&&(g.selectedDates=g.selectedDates.filter(function(e){return Z(e)}),g.selectedDates.length||"min"!==e||k(t),ve()),g.daysContainer&&(re(),void 0!==t?g.currentYearElement[e]=t.getFullYear().toString():g.currentYearElement.removeAttribute(e),g.currentYearElement.disabled=!!a&&void 0!==t&&a.getFullYear()===t.getFullYear())}}function ie(){"object"!=_typeof(g.config.locale)&&void 0===E.l10ns[g.config.locale]&&g.config.errorHandler(new Error("flatpickr: invalid locale "+g.config.locale)),g.l10n=_e({},E.l10ns.default,"object"==_typeof(g.config.locale)?g.config.locale:"default"!==g.config.locale?E.l10ns[g.config.locale]:void 0),p.K="("+g.l10n.amPM[0]+"|"+g.l10n.amPM[1]+"|"+g.l10n.amPM[0].toLowerCase()+"|"+g.l10n.amPM[1].toLowerCase()+")",g.formatDate=v(g),g.parseDate=D({config:g.config,l10n:g.l10n})}function oe(e){var l,n,d,i,o,a;void 0!==g.calendarContainer&&(fe("onPreCalendarPosition"),e=e||g._positionElement,n=Array.prototype.reduce.call(g.calendarContainer.children,function(e,t){return e+t.offsetHeight},0),a=g.calendarContainer.offsetWidth,o=(i=g.config.position.split(" "))[0],i=1<i.length?i[1]:null,l=e.getBoundingClientRect(),d=window.innerHeight-l.bottom,o="above"===o||"below"!==o&&d<n&&l.top>n,d=window.pageYOffset+l.top+(o?-n-2:e.offsetHeight+2),c(g.calendarContainer,"arrowTop",!o),c(g.calendarContainer,"arrowBottom",o),g.config.inline||(n=window.pageXOffset+l.left-(null!=i&&"center"===i?(a-l.width)/2:0),e=window.document.body.offsetWidth-l.right,o=n+a>window.document.body.offsetWidth,i=e+a>window.document.body.offsetWidth,c(g.calendarContainer,"rightMost",o),g.config.static||(g.calendarContainer.style.top=d+"px",o?i?void 0!==(d=document.styleSheets[0])&&(o=window.document.body.offsetWidth,i=Math.max(0,o/2-a/2),o=d.cssRules.length,a="{left:"+l.left+"px;right:auto;}",c(g.calendarContainer,"rightMost",!1),c(g.calendarContainer,"centerMost",!0),d.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+a,o),g.calendarContainer.style.left=i+"px",g.calendarContainer.style.right="auto"):(g.calendarContainer.style.left="auto",g.calendarContainer.style.right=e+"px"):(g.calendarContainer.style.left=n+"px",g.calendarContainer.style.right="auto"))))}function re(){g.config.noCalendar||g.isMobile||(pe(),B())}function le(){g._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(g.close,0):g.close()}function ce(e){e.preventDefault(),e.stopPropagation();var i,a,o,e=function e(t,n){return n(t)?t:t.parentNode?e(t.parentNode,n):void 0}(e.target,function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("disabled")&&!e.classList.contains("notAllowed")});void 0!==e&&(e=e,i=((a=g.latestSelectedDateObj=new Date(e.dateObj.getTime())).getMonth()<g.currentMonth||a.getMonth()>g.currentMonth+g.config.showMonths-1)&&"range"!==g.config.mode,g.selectedDateElem=e,"single"===g.config.mode?g.selectedDates=[a]:"multiple"===g.config.mode?(o=ge(a))?g.selectedDates.splice(parseInt(o),1):g.selectedDates.push(a):"range"===g.config.mode&&(2===g.selectedDates.length&&g.clear(!1,!1),g.latestSelectedDateObj=a,g.selectedDates.push(a),0!==w(a,g.selectedDates[0],!0)&&g.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()})),T(),i&&(o=g.currentYear!==a.getFullYear(),g.currentYear=a.getFullYear(),g.currentMonth=a.getMonth(),o&&fe("onYearChange"),fe("onMonthChange")),pe(),B(),ve(),g.config.enableTime&&setTimeout(function(){return g.showTimeInput=!0},50),i||"range"===g.config.mode||1!==g.config.showMonths?void 0!==g.selectedDateElem&&void 0===g.hourElement&&g.selectedDateElem&&g.selectedDateElem.focus():H(e),void 0!==g.hourElement&&void 0!==g.hourElement&&g.hourElement.focus(),g.config.closeOnSelect&&(a="single"===g.config.mode&&!g.config.enableTime,o="range"===g.config.mode&&2===g.selectedDates.length&&!g.config.enableTime,(a||o)&&le()),F())}g.parseDate=D({config:g.config,l10n:g.l10n}),g._handlers=[],g._bind=_,g._setHoursFromDate=k,g._positionCalendar=oe,g.changeMonth=$,g.changeYear=V,g.clear=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),g.input.value="",void 0!==g.altInput&&(g.altInput.value=""),void 0!==g.mobileInput&&(g.mobileInput.value=""),g.selectedDates=[],!(g.latestSelectedDateObj=void 0)===t&&(g.currentYear=g._initialDate.getFullYear(),g.currentMonth=g._initialDate.getMonth()),!(g.showTimeInput=!1)===g.config.enableTime&&I(),g.redraw(),e&&fe("onChange")},g.close=function(){g.isOpen=!1,g.isMobile||(void 0!==g.calendarContainer&&g.calendarContainer.classList.remove("open"),void 0!==g._input&&g._input.classList.remove("active")),fe("onClose")},g._createElement=d,g.destroy=function(){void 0!==g.config&&fe("onDestroy");for(var e=g._handlers.length;e--;){var t=g._handlers[e];t.element.removeEventListener(t.event,t.handler,t.options)}if(g._handlers=[],g.mobileInput)g.mobileInput.parentNode&&g.mobileInput.parentNode.removeChild(g.mobileInput),g.mobileInput=void 0;else if(g.calendarContainer&&g.calendarContainer.parentNode)if(g.config.static&&g.calendarContainer.parentNode){var n=g.calendarContainer.parentNode;if(n.lastChild&&n.removeChild(n.lastChild),n.parentNode){for(;n.firstChild;)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}}else g.calendarContainer.parentNode.removeChild(g.calendarContainer);g.altInput&&(g.input.type="text",g.altInput.parentNode&&g.altInput.parentNode.removeChild(g.altInput),delete g.altInput),g.input&&(g.input.type=g.input._type,g.input.classList.remove("flatpickr-input"),g.input.removeAttribute("readonly"),g.input.value=""),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(e){try{delete g[e]}catch(e){}})},g.isEnabled=Z,g.jumpToDate=P,g.open=function(e,t){if(void 0===t&&(t=g._positionElement),!0===g.isMobile)return e&&(e.preventDefault(),e.target&&e.target.blur()),void 0!==g.mobileInput&&(g.mobileInput.focus(),g.mobileInput.click()),void fe("onOpen");var n;g._input.disabled||g.config.inline||(n=g.isOpen,g.isOpen=!0,n||(g.calendarContainer.classList.add("open"),g._input.classList.add("active"),fe("onOpen"),oe(t)),!0===g.config.enableTime&&!0===g.config.noCalendar&&(0===g.selectedDates.length&&ne(),!1!==g.config.allowInput||void 0!==e&&g.timeContainer.contains(e.relatedTarget)||setTimeout(function(){return g.hourElement.select()},50)))},g.redraw=re,g.set=function(e,n){null!==e&&"object"==(void 0===e?"undefined":_typeof(e))?Object.assign(g.config,e):(g.config[e]=n,void 0!==de[e]?de[e].forEach(function(e){return e()}):-1<t.indexOf(e)&&(g.config[e]=l(n))),g.redraw(),ve(!1)},g.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=g.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return g.clear(t);se(e,n),g.showTimeInput=0<g.selectedDates.length,g.latestSelectedDateObj=g.selectedDates[0],g.redraw(),P(),k(),ve(t),t&&fe("onChange")},g.toggle=function(e){if(!0===g.isOpen)return g.close();g.open(e)};var e,de={locale:[ie,q],showMonths:[J,M,U]};function se(e,t){var n=[];if(e instanceof Array)n=e.map(function(e){return g.parseDate(e,t)});else if(e instanceof Date||"number"==typeof e)n=[g.parseDate(e,t)];else if("string"==typeof e)switch(g.config.mode){case"single":case"time":n=[g.parseDate(e,t)];break;case"multiple":n=e.split(g.config.conjunction).map(function(e){return g.parseDate(e,t)});break;case"range":n=e.split(g.l10n.rangeSeparator).map(function(e){return g.parseDate(e,t)})}else g.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));g.selectedDates=n.filter(function(e){return e instanceof Date&&Z(e,!1)}),"range"===g.config.mode&&g.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()})}function ue(e){return e.slice().map(function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?g.parseDate(e,void 0,!0):e&&"object"==(void 0===e?"undefined":_typeof(e))&&e.from&&e.to?{from:g.parseDate(e.from,void 0),to:g.parseDate(e.to,void 0)}:e}).filter(function(e){return e})}function fe(e,t){if(void 0!==g.config){var n=g.config[e];if(void 0!==n&&0<n.length)for(var a=0;n[a]&&a<n.length;a++)n[a](g.selectedDates,g.input.value,g,t);"onChange"===e&&(g.input.dispatchEvent(me("change")),g.input.dispatchEvent(me("input")))}}function me(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function ge(e){for(var t=0;t<g.selectedDates.length;t++)if(0===w(g.selectedDates[t],e))return""+t;return!1}function pe(){g.config.noCalendar||g.isMobile||!g.monthNav||(g.yearElements.forEach(function(e,t){var n=new Date(g.currentYear,g.currentMonth,1);n.setMonth(g.currentMonth+t),g.monthElements[t].textContent=m(n.getMonth(),g.config.shorthandCurrentMonth,g.l10n)+" ",e.value=n.getFullYear().toString()}),g._hidePrevMonthArrow=void 0!==g.config.minDate&&(g.currentYear===g.config.minDate.getFullYear()?g.currentMonth<=g.config.minDate.getMonth():g.currentYear<g.config.minDate.getFullYear()),g._hideNextMonthArrow=void 0!==g.config.maxDate&&(g.currentYear===g.config.maxDate.getFullYear()?g.currentMonth+1>g.config.maxDate.getMonth():g.currentYear>g.config.maxDate.getFullYear()))}function he(e){return g.selectedDates.map(function(t){return g.formatDate(t,e)}).filter(function(e,t,n){return"range"!==g.config.mode||g.config.enableTime||n.indexOf(e)===t}).join("range"!==g.config.mode?g.config.conjunction:g.l10n.rangeSeparator)}function ve(e){if(void 0===e&&(e=!0),0===g.selectedDates.length)return g.clear(e);void 0!==g.mobileInput&&g.mobileFormatStr&&(g.mobileInput.value=void 0!==g.latestSelectedDateObj?g.formatDate(g.latestSelectedDateObj,g.mobileFormatStr):""),g.input.value=he(g.config.dateFormat),void 0!==g.altInput&&(g.altInput.value=he(g.config.altFormat)),!1!==e&&fe("onValueUpdate")}function De(e){e.preventDefault();var t=g.prevMonthNav.contains(e.target),n=g.nextMonthNav.contains(e.target);t||n?$(t?-1:1):0<=g.yearElements.indexOf(e.target)?e.target.select():e.target.classList.contains("arrowUp")?g.changeYear(g.currentYear+1):e.target.classList.contains("arrowDown")&&g.changeYear(g.currentYear-1)}return g.element=g.input=n,g.isOpen=!1,function(){function c(e){return function(t){g.config["min"===e?"_minTime":"_maxTime"]=g.parseDate(t,"H:i")}}var a=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],i=_e({},f,JSON.parse(JSON.stringify(n.dataset||{}))),o={},r=(g.config.parseDate=i.parseDate,g.config.formatDate=i.formatDate,Object.defineProperty(g.config,"enable",{get:function(){return g.config._enable},set:function(e){g.config._enable=ue(e)}}),Object.defineProperty(g.config,"disable",{get:function(){return g.config._disable},set:function(e){g.config._disable=ue(e)}}),"time"===i.mode);i.dateFormat||!i.enableTime&&!r||(o.dateFormat=i.noCalendar||r?"H:i"+(i.enableSeconds?":S":""):E.defaultConfig.dateFormat+" H:i"+(i.enableSeconds?":S":"")),i.altInput&&(i.enableTime||r)&&!i.altFormat&&(o.altFormat=i.noCalendar||r?"h:i"+(i.enableSeconds?":S K":" K"):E.defaultConfig.altFormat+" h:i"+(i.enableSeconds?":S":"")+" K"),Object.defineProperty(g.config,"minDate",{get:function(){return g.config._minDate},set:ae("min")}),Object.defineProperty(g.config,"maxDate",{get:function(){return g.config._maxDate},set:ae("max")});Object.defineProperty(g.config,"minTime",{get:function(){return g.config._minTime},set:c("min")}),Object.defineProperty(g.config,"maxTime",{get:function(){return g.config._maxTime},set:c("max")}),"time"===i.mode&&(g.config.noCalendar=!0,g.config.enableTime=!0),Object.assign(g.config,o,i);for(var d=0;d<a.length;d++)g.config[a[d]]=!0===g.config[a[d]]||"true"===g.config[a[d]];t.filter(function(e){return void 0!==g.config[e]}).forEach(function(e){g.config[e]=l(g.config[e]||[]).map(h)}),g.isMobile=!g.config.disableMobile&&!g.config.inline&&"single"===g.config.mode&&!g.config.disable.length&&!g.config.enable.length&&!g.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(d=0;d<g.config.plugins.length;d++){var u,s=g.config.plugins[d](g)||{};for(u in s)-1<t.indexOf(u)?g.config[u]=l(s[u]).map(h).concat(g.config[u]):void 0===i[u]&&(g.config[u]=s[u])}fe("onParseConfig")}(),ie(),g.input=g.config.wrap?n.querySelector("[data-input]"):n,g.input?(g.input._type=g.input.type,g.input.type="text",g.input.classList.add("flatpickr-input"),g._input=g.input,g.config.altInput&&(g.altInput=d(g.input.nodeName,g.input.className+" "+g.config.altInputClass),g._input=g.altInput,g.altInput.placeholder=g.input.placeholder,g.altInput.disabled=g.input.disabled,g.altInput.required=g.input.required,g.altInput.tabIndex=g.input.tabIndex,g.altInput.type="text",g.input.setAttribute("type","hidden"),!g.config.static&&g.input.parentNode&&g.input.parentNode.insertBefore(g.altInput,g.input.nextSibling)),g.config.allowInput||g._input.setAttribute("readonly","readonly"),g._positionElement=g.config.positionElement||g._input):g.config.errorHandler(new Error("Invalid input element specified")),g.selectedDates=[],g.now=g.parseDate(g.config.now)||new Date,(e=g.config.defaultDate||("INPUT"!==g.input.nodeName&&"TEXTAREA"!==g.input.nodeName||!g.input.placeholder||g.input.value!==g.input.placeholder?g.input.value:null))&&se(e,g.config.dateFormat),g._initialDate=0<g.selectedDates.length?g.selectedDates[0]:g.config.minDate&&g.config.minDate.getTime()>g.now.getTime()?g.config.minDate:g.config.maxDate&&g.config.maxDate.getTime()<g.now.getTime()?g.config.maxDate:g.now,g.currentYear=g._initialDate.getFullYear(),g.currentMonth=g._initialDate.getMonth(),0<g.selectedDates.length&&(g.latestSelectedDateObj=g.selectedDates[0]),void 0!==g.config.minTime&&(g.config.minTime=g.parseDate(g.config.minTime,"H:i")),void 0!==g.config.maxTime&&(g.config.maxTime=g.parseDate(g.config.maxTime,"H:i")),g.minDateHasTime=!!g.config.minDate&&(0<g.config.minDate.getHours()||0<g.config.minDate.getMinutes()||0<g.config.minDate.getSeconds()),g.maxDateHasTime=!!g.config.maxDate&&(0<g.config.maxDate.getHours()||0<g.config.maxDate.getMinutes()||0<g.config.maxDate.getSeconds()),Object.defineProperty(g,"showTimeInput",{get:function(){return g._showTimeInput},set:function(e){g._showTimeInput=e,g.calendarContainer&&c(g.calendarContainer,"showTimeInput",e),g.isOpen&&oe()}}),g.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=g.currentMonth),void 0===t&&(t=g.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:g.l10n.daysInMonth[e]}},g.isMobile||function(){var n,e=window.document.createDocumentFragment(),t=(g.calendarContainer=d("div","flatpickr-calendar"),g.calendarContainer.tabIndex=-1,g.config.noCalendar||(e.appendChild((g.monthNav=d("div","flatpickr-months"),g.yearElements=[],g.monthElements=[],g.prevMonthNav=d("span","flatpickr-prev-month"),g.prevMonthNav.innerHTML=g.config.prevArrow,g.nextMonthNav=d("span","flatpickr-next-month"),g.nextMonthNav.innerHTML=g.config.nextArrow,J(),Object.defineProperty(g,"_hidePrevMonthArrow",{get:function(){return g.__hidePrevMonthArrow},set:function(e){g.__hidePrevMonthArrow!==e&&(c(g.prevMonthNav,"disabled",e),g.__hidePrevMonthArrow=e)}}),Object.defineProperty(g,"_hideNextMonthArrow",{get:function(){return g.__hideNextMonthArrow},set:function(e){g.__hideNextMonthArrow!==e&&(c(g.nextMonthNav,"disabled",e),g.__hideNextMonthArrow=e)}}),g.currentYearElement=g.yearElements[0],pe(),g.monthNav)),g.innerContainer=d("div","flatpickr-innerContainer"),g.config.weekNumbers&&(n=(t=function(){g.calendarContainer.classList.add("hasWeeks");var e=d("div","flatpickr-weekwrapper"),t=(e.appendChild(d("span","flatpickr-weekday",g.l10n.weekAbbreviation)),d("div","flatpickr-weeks"));return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}()).weekWrapper,t=t.weekNumbers,g.innerContainer.appendChild(n),g.weekNumbers=t,g.weekWrapper=n),g.rContainer=d("div","flatpickr-rContainer"),g.rContainer.appendChild(U()),g.daysContainer||(g.daysContainer=d("div","flatpickr-days"),g.daysContainer.tabIndex=-1),B(),g.rContainer.appendChild(g.daysContainer),g.innerContainer.appendChild(g.rContainer),e.appendChild(g.innerContainer)),g.config.enableTime&&e.appendChild(function(){g.calendarContainer.classList.add("hasTime"),g.config.noCalendar&&g.calendarContainer.classList.add("noCalendar"),g.timeContainer=d("div","flatpickr-time"),g.timeContainer.tabIndex=-1;var e=d("span","flatpickr-time-separator",":"),t=u("flatpickr-hour"),n=(g.hourElement=t.getElementsByTagName("input")[0],u("flatpickr-minute"));return g.minuteElement=n.getElementsByTagName("input")[0],g.hourElement.tabIndex=g.minuteElement.tabIndex=-1,g.hourElement.value=_i(g.latestSelectedDateObj?g.latestSelectedDateObj.getHours():g.config.time_24hr?g.config.defaultHour:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(g.config.defaultHour)),g.minuteElement.value=_i(g.latestSelectedDateObj?g.latestSelectedDateObj.getMinutes():g.config.defaultMinute),g.hourElement.setAttribute("step",g.config.hourIncrement.toString()),g.minuteElement.setAttribute("step",g.config.minuteIncrement.toString()),g.hourElement.setAttribute("min",g.config.time_24hr?"0":"1"),g.hourElement.setAttribute("max",g.config.time_24hr?"23":"12"),g.minuteElement.setAttribute("min","0"),g.minuteElement.setAttribute("max","59"),g.timeContainer.appendChild(t),g.timeContainer.appendChild(e),g.timeContainer.appendChild(n),g.config.time_24hr&&g.timeContainer.classList.add("time24hr"),g.config.enableSeconds&&(g.timeContainer.classList.add("hasSeconds"),t=u("flatpickr-second"),g.secondElement=t.getElementsByTagName("input")[0],g.secondElement.value=_i(g.latestSelectedDateObj?g.latestSelectedDateObj.getSeconds():g.config.defaultSeconds),g.secondElement.setAttribute("step",g.minuteElement.getAttribute("step")),g.secondElement.setAttribute("min","0"),g.secondElement.setAttribute("max","59"),g.timeContainer.appendChild(d("span","flatpickr-time-separator",":")),g.timeContainer.appendChild(t)),g.config.time_24hr||(g.amPM=d("span","flatpickr-am-pm",g.l10n.amPM[o(11<(g.latestSelectedDateObj?g.hourElement.value:g.config.defaultHour))]),g.amPM.title=g.l10n.toggleTitle,g.amPM.tabIndex=-1,g.timeContainer.appendChild(g.amPM)),g.timeContainer}()),c(g.calendarContainer,"rangeMode","range"===g.config.mode),c(g.calendarContainer,"animate",!0===g.config.animate),c(g.calendarContainer,"multiMonth",1<g.config.showMonths),g.calendarContainer.appendChild(e),void 0!==g.config.appendTo&&void 0!==g.config.appendTo.nodeType);(g.config.inline||g.config.static)&&(g.calendarContainer.classList.add(g.config.inline?"inline":"static"),g.config.inline&&(!t&&g.element.parentNode?g.element.parentNode.insertBefore(g.calendarContainer,g._input.nextSibling):void 0!==g.config.appendTo&&g.config.appendTo.appendChild(g.calendarContainer)),g.config.static)&&(n=d("div","flatpickr-wrapper"),g.element.parentNode&&g.element.parentNode.insertBefore(n,g.element),n.appendChild(g.element),g.altInput&&n.appendChild(g.altInput),n.appendChild(g.calendarContainer)),g.config.static||g.config.inline||(void 0!==g.config.appendTo?g.config.appendTo:window.document.body).appendChild(g.calendarContainer)}(),function(){var e;g.config.wrap&&["open","close","toggle","clear"].forEach(function(e){Array.prototype.forEach.call(g.element.querySelectorAll("[data-"+e+"]"),function(t){return _(t,"click",g[e])})}),g.isMobile?function(){var e=g.config.enableTime?g.config.noCalendar?"time":"datetime-local":"date";g.mobileInput=d("input",g.input.className+" flatpickr-mobile"),g.mobileInput.step=g.input.getAttribute("step")||"any",g.mobileInput.tabIndex=1,g.mobileInput.type=e,g.mobileInput.disabled=g.input.disabled,g.mobileInput.required=g.input.required,g.mobileInput.placeholder=g.input.placeholder,g.mobileFormatStr="datetime-local"==e?"Y-m-d\\TH:i:S":"date"==e?"Y-m-d":"H:i:S",0<g.selectedDates.length&&(g.mobileInput.defaultValue=g.mobileInput.value=g.formatDate(g.selectedDates[0],g.mobileFormatStr)),g.config.minDate&&(g.mobileInput.min=g.formatDate(g.config.minDate,"Y-m-d")),g.config.maxDate&&(g.mobileInput.max=g.formatDate(g.config.maxDate,"Y-m-d")),g.input.type="hidden",void 0!==g.altInput&&(g.altInput.type="hidden");try{g.input.parentNode&&g.input.parentNode.insertBefore(g.mobileInput,g.input.nextSibling)}catch(e){}_(g.mobileInput,"change",function(e){g.setDate(e.target.value,!1,g.mobileFormatStr),fe("onChange"),fe("onClose")})}():(e=r(te,50),g._debouncedChange=r(F,C),g.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&_(g.daysContainer,"mouseover",function(e){"range"===g.config.mode&&ee(e.target)}),_(window.document.body,"keydown",X),g.config.static||_(g._input,"keydown",X),g.config.inline||g.config.static||_(window,"resize",e),void 0!==window.ontouchstart?_(window.document,"click",G):_(window.document,"mousedown",N(G)),_(window.document,"focus",G,{capture:!0}),!0===g.config.clickOpens&&(_(g._input,"focus",g.open),_(g._input,"mousedown",N(g.open))),void 0!==g.daysContainer&&(_(g.monthNav,"mousedown",N(De)),_(g.monthNav,["keyup","increment"],S),_(g.daysContainer,"mousedown",N(ce))),void 0!==g.timeContainer&&void 0!==g.minuteElement&&void 0!==g.hourElement&&(_(g.timeContainer,["increment"],x),_(g.timeContainer,"blur",x,{capture:!0}),_(g.timeContainer,"mousedown",N(A)),_([g.hourElement,g.minuteElement],["focus","click"],function(e){return e.target.select()}),void 0!==g.secondElement&&_(g.secondElement,"focus",function(){return g.secondElement&&g.secondElement.select()}),void 0!==g.amPM&&_(g.amPM,"mousedown",N(function(e){x(e),F()}))))}(),(g.selectedDates.length||g.config.noCalendar)&&(g.config.enableTime&&k(g.config.noCalendar?g.latestSelectedDateObj||g.config.minDate:void 0),ve(!1)),M(),g.showTimeInput=0<g.selectedDates.length||g.config.noCalendar,e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),!g.isMobile&&e&&oe(),fe("onReady"),g}function x(e,t){for(var n=Array.prototype.slice.call(e).filter(function(e){return e instanceof HTMLElement}),a=[],i=0;i<n.length;i++){var o=n[i];try{if(null!==o.getAttribute("data-fp-omit"))continue;void 0!==o._flatpickr&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=M(o,t||{}),a.push(o._flatpickr)}catch(e){console.error(e)}}return 1===a.length?a[0]:a}"undefined"!=typeof HTMLElement&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return x(this,e)},HTMLElement.prototype.flatpickr=function(e){return x([this],e)});var E=function(e,t){return"string"==typeof e?x(window.document.querySelectorAll(e),t):e instanceof Node?x([e],t):x(e,t)};return E.defaultConfig=n,E.l10ns={en:_e({},a),default:_e({},a)},E.localize=function(t){E.l10ns.default=_e({},E.l10ns.default,t)},E.setDefaults=function(t){E.defaultConfig=_e({},E.defaultConfig,t)},E.parseDate=D({}),E.formatDate=v({}),E.compareDates=w,"undefined"!=typeof jQuery&&(jQuery.fn.flatpickr=function(e){return x(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=E),E}),function(){"use strict";angular.module("GeckoEngage").directive("eventsEmbedFilter",function(){return{restrict:"E",scope:{handler:"="},controllerAs:"ctrl",controller:"eventsEmbedFilterCtrl",template:'\n            \t<form class="gecko-events-embed-filter" ng-submit="ctrl.search()">\n            \t\t<h2 class="gecko-events-filter-title" \n\t\t\t\t\t\tng-click="ctrl.openFilters()"\n\t\t\t\t\t\tng-keydown="ctrl.handleKeyDown($event, true, ctrl.openFilters, [])"\n\t\t\t\t\t\taria-expanded="{{ctrl.filterOpen}}"\n\t\t\t\t\t\ttabindex="0"\n\t\t\t\t\t\trole="button"\n\t\t\t\t\t\t>\n                        Filter events\n                    \t<events-embed-icon\n                    \t\tng-if="!ctrl.filterOpen"\n\t            \t\t\ticon="arrow-down">\n\t            \t\t</events-embed-icon>\n\t            \t\t<events-embed-icon\n\t            \t\t\tng-if="ctrl.filterOpen"\n\t            \t\t\ticon="arrow-up">\n\t            \t\t</events-embed-icon>\n                    </h2>\n\t            \t<div ng-class="{\'hide-gecko-event-filters\': !ctrl.filterOpen}">\n\t            \t\t<label for="gecko-from-date-picker">Date from</label>\n\t            \t\t<div>\n\t\t            \t\t<events-embed-icon \n\t\t            \t\t\ticon="times"\n\t\t            \t\t\tng-if="ctrl.fromDate"\n\t\t            \t\t\tclass="gecko-events-embed-filter-remove"\n\t\t            \t\t\tng-click="ctrl.removeDate(\'from\')">\n\t\t            \t\t</events-embed-icon>\n\t\t            \t\t<input \n\t\t            \t\t\tid="gecko-from-date"\n\t\t            \t\t\tname="gecko-from-date"\n\t\t            \t\t\tplaceholder="Choose start date" \n\t\t            \t\t\tclass="from-date form-control" \n\t\t            \t\t\ttype="date"\n\t\t            \t\t\tng-model="ctrl.fromDate"\n\t\t            \t\t\tng-change="ctrl.date(\'from\')" />\n\t            \t\t</div>\n\t            \t</div>\n\t            \t<div ng-class="{\'hide-gecko-event-filters\': !ctrl.filterOpen}">\n\t            \t\t<label for="gecko-to-date-picker">Date to</label>\n\t            \t\t<div>\n\t\t            \t\t<events-embed-icon \n\t\t            \t\t\ticon="times"\n\t\t            \t\t\tng-if="ctrl.toDate"\n\t\t            \t\t\tclass="gecko-events-embed-filter-remove"\n\t\t            \t\t\tng-click="ctrl.removeDate(\'to\')">\n\t\t            \t\t</events-embed-icon>\n\t\t            \t\t<input \n\t\t            \t\t\tid="gecko-to-date"\n\t\t            \t\t\tname="gecko-to-date"\n\t\t            \t\t\tplaceholder="Choose end date" \n\t\t            \t\t\tclass="to-date form-control" \n\t\t            \t\t\ttype="date"\n\t\t            \t\t\tng-model="ctrl.toDate"\n\t\t            \t\t\tng-change="ctrl.date(\'to\')" />\n\t            \t\t</div>\n\t            \t</div>\n\t            \t<div ng-class="{\'hide-gecko-event-filters\': !ctrl.filterOpen}">\n\t            \t\t<label for="gecko-search-keyword">Search</label>\n\t            \t\t<div>\n\t\t            \t\t<input\n\t\t            \t\t\tid="gecko-search-keyword"\n\t\t            \t\t\tname="gecko-search-keyword"\n\t\t            \t\t\tplaceholder="Search by keyword" \n\t\t            \t\t\tclass="keyword form-control" \n\t\t            \t\t\ttype="text"\n\t\t            \t\t\tng-model="ctrl.keyword" />\n\t            \t\t</div>\n\t            \t</div>\n\n\t            \t<input type="submit" value="submit" style="display:none;" />\n            \t</form>\n            '}}).controller("eventsEmbedFilterCtrl",function($scope,eventsEmbedService){function preparePickerOptions(date){return{dateFormat:"Y-m-d H:i",altInput:!0,altFormat:"m/d/Y"===eventsEmbedService.dateFormat?"m-d-Y":"d-m-Y",defaultDate:date,onReady:function(){try{var className="gecko-to-date"===this.input.id?"to-date":"from-date";document.getElementsByClassName(className)[1].setAttribute("id",this.input.id+"-picker")}catch(e){}}}}var ctrl=this,fromDatePicker=($scope.eventsEmbedService=eventsEmbedService,ctrl.handler=$scope.handler,ctrl.fromDate=eventsEmbedService.fromDate||null,ctrl.toDate=eventsEmbedService.toDate||null,ctrl.keyword=eventsEmbedService.keyword||null,ctrl.handleKeyDown=eventsEmbedService.handleKeyDown,ctrl.search=function(){eventsEmbedService.keyword=ctrl.keyword||null,ctrl.handler()},flatpickr(".from-date",preparePickerOptions(ctrl.fromDate))),toDatePicker=flatpickr(".to-date",preparePickerOptions(ctrl.toDate));ctrl.date=function(input){"to"===input?ctrl.toDate?eventsEmbedService.toDate=ctrl.toDate.replace("00:00","23:59"):eventsEmbedService.toDate=null:ctrl.fromDate?eventsEmbedService.fromDate=ctrl.fromDate:eventsEmbedService.fromDate=null,ctrl.handler()},ctrl.removeDate=function(input){"to"===input?(ctrl.toDate=null,toDatePicker.clear()):(ctrl.fromDate=null,fromDatePicker.clear()),ctrl.date(input)},ctrl.filterOpen=!1,ctrl.openFilters=function(){return ctrl.filterOpen=!ctrl.filterOpen}})}(),function(){"use strict";angular.module("GeckoEngage").directive("eventsEmbedForm",function(){return{restrict:"E",scope:{eventFieldId:"="},controllerAs:"ctrl",controller:"eventsEmbedFormCtrl",template:'\n                <div id="form-embed"></div>\n            '}}).controller("eventsEmbedFormCtrl",function($scope,eventsEmbedService){this.loadForm=function(){try{setTimeout(function(){var src=(document.getElementById("gecko-events-embed-script")||{}).src||window.location.href,script=document.createElement("script"),formSrc=(script.id="gecko-form-embed-script",(srcBase=-1!==src.indexOf("localhost:5123")?"http://localhost:5123":-1!==src.indexOf("geckoform-build.test")?"http://geckoform-build.test:5123":-1!==src.indexOf("beta")?"https://beta.geckoform.com":-1!==src.indexOf("stage")?"https://app-stage.geckoform.com":"https://app.geckoform.com")+"/gecko-embed/form.js?uuid="+eventsEmbedService.uuid+"&event_field_id="+$scope.eventFieldId),srcBase=function(base,src){return src.split(/\?|\&/).filter(function(p){return-1===p.indexOf(base)&&-1===p.indexOf("uuid")&&-1===p.indexOf("event_field_id")&&-1===p.indexOf("date_format")}).join("&")||""}(srcBase,src);srcBase&&(formSrc+="&"+srcBase),script.src=formSrc,script.onload=function(){try{var title="Booking Form for "+(eventsEmbedService.event||{}).title;document.querySelector("#form-embed iframe").title=title}catch(err){}},document.getElementById("form-embed").appendChild(script)})}catch(e){console.log(e)}},this.loadForm()})}(),function(){"use strict";var icons={"arrow-down":'<svg aria-label="Down" focusable="false" data-prefix="far" data-icon="chevron-down" class="svg-inline--fa fa-chevron-down fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M441.9 167.3l-19.8-19.8c-4.7-4.7-12.3-4.7-17 0L224 328.2 42.9 147.5c-4.7-4.7-12.3-4.7-17 0L6.1 167.3c-4.7 4.7-4.7 12.3 0 17l209.4 209.4c4.7 4.7 12.3 4.7 17 0l209.4-209.4c4.7-4.7 4.7-12.3 0-17z"></path></svg>',"arrow-up":'<svg aria-label="Up" focusable="false" data-prefix="far" data-icon="chevron-up" class="svg-inline--fa fa-chevron-up fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M6.101 359.293L25.9 379.092c4.686 4.686 12.284 4.686 16.971 0L224 198.393l181.13 180.698c4.686 4.686 12.284 4.686 16.971 0l19.799-19.799c4.686-4.686 4.686-12.284 0-16.971L232.485 132.908c-4.686-4.686-12.284-4.686-16.971 0L6.101 342.322c-4.687 4.687-4.687 12.285 0 16.971z"></path></svg>',"angle-double-left":'<svg aria-label="Left" focusable="false" data-prefix="far" data-icon="angle-double-left" class="svg-inline--fa fa-angle-double-left fa-w-12" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M20.2 247.5L167 99.5c4.7-4.7 12.3-4.7 17 0l19.8 19.8c4.7 4.7 4.7 12.3 0 17L85.3 256l118.5 119.7c4.7 4.7 4.7 12.3 0 17L184 412.5c-4.7 4.7-12.3 4.7-17 0l-146.8-148c-4.7-4.7-4.7-12.3 0-17zm160 17l146.8 148c4.7 4.7 12.3 4.7 17 0l19.8-19.8c4.7-4.7 4.7-12.3 0-17L245.3 256l118.5-119.7c4.7-4.7 4.7-12.3 0-17L344 99.5c-4.7-4.7-12.3-4.7-17 0l-146.8 148c-4.7 4.7-4.7 12.3 0 17z"></path></svg>',"angle-double-right":'<svg aria-label="Right" focusable="false" data-prefix="far" data-icon="long-arrow-alt-right" class="svg-inline--fa fa-long-arrow-alt-right fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M340.485 366l99.03-99.029c4.686-4.686 4.686-12.284 0-16.971l-99.03-99.029c-7.56-7.56-20.485-2.206-20.485 8.485v71.03H12c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h308v71.03c0 10.689 12.926 16.043 20.485 8.484z"></path></svg>',"long-arrow-alt-left":'<svg aria-label="Left" focusable="false" data-prefix="far" data-icon="long-arrow-alt-left" class="svg-inline--fa fa-long-arrow-alt-left fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M107.515 150.971L8.485 250c-4.686 4.686-4.686 12.284 0 16.971L107.515 366c7.56 7.56 20.485 2.206 20.485-8.485v-71.03h308c6.627 0 12-5.373 12-12v-32c0-6.627-5.373-12-12-12H128v-71.03c0-10.69-12.926-16.044-20.485-8.484z"></path></svg>',"long-arrow-alt-right":'<svg aria-label="Right" focusable="false" data-prefix="fas" data-icon="long-arrow-alt-right" class="svg-inline--fa fa-long-arrow-alt-right fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"></path></svg>',"align-left":'<svg aria-label="Description" focusable="false" data-prefix="far" data-icon="align-left" class="svg-inline--fa fa-align-left fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M12.83 344h262.34A12.82 12.82 0 0 0 288 331.17v-22.34A12.82 12.82 0 0 0 275.17 296H12.83A12.82 12.82 0 0 0 0 308.83v22.34A12.82 12.82 0 0 0 12.83 344zm0-256h262.34A12.82 12.82 0 0 0 288 75.17V52.83A12.82 12.82 0 0 0 275.17 40H12.83A12.82 12.82 0 0 0 0 52.83v22.34A12.82 12.82 0 0 0 12.83 88zM432 168H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16z"></path></svg>',"calendar-alt":'<svg aria-label="Date" focusable="false" data-prefix="far" data-icon="calendar-alt" class="svg-inline--fa fa-calendar-alt fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"></path></svg>',clock:'<svg aria-label="Time" focusable="false" data-prefix="far" data-icon="clock" class="svg-inline--fa fa-clock fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm61.8-104.4l-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"></path></svg>',"location-arrow":'<svg aria-label="Get Directions" focusable="false" data-prefix="far" data-icon="location-arrow" class="svg-inline--fa fa-location-arrow fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M461.9 0c-5.73 0-11.59 1.1-17.39 3.52L28.74 195.41c-47.97 22.39-31.98 92.75 19.19 92.75h175.91v175.91c0 30.01 24.21 47.93 48.74 47.93 17.3 0 34.75-8.9 44.01-28.74l191.9-415.78C522.06 34.89 494.14 0 461.9 0zM271.81 464.07V240.19h-47.97l-175.48.71c-.27-.37-.47-1.35.48-1.93L462.05 48.26c.61.41 1.28 1.07 1.69 1.68L271.81 464.07z"></path></svg>',"map-marker":'<svg aria-label="Venue" focusable="false" data-prefix="far" data-icon="map-marker-alt" class="svg-inline--fa fa-map-marker-alt fa-w-12" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M192 0C85.903 0 0 86.014 0 192c0 71.117 23.991 93.341 151.271 297.424 18.785 30.119 62.694 30.083 81.457 0C360.075 285.234 384 263.103 384 192 384 85.903 297.986 0 192 0zm0 464C64.576 259.686 48 246.788 48 192c0-79.529 64.471-144 144-144s144 64.471 144 144c0 54.553-15.166 65.425-144 272zm-80-272c0-44.183 35.817-80 80-80s80 35.817 80 80-35.817 80-80 80-80-35.817-80-80z"></path></svg>',times:'<svg aria-label="Times" focusable="false" data-prefix="far" data-icon="times" class="svg-inline--fa fa-times fa-w-10" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34 0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4 52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4 256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160 303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34 0-22.58L207.6 256z"></path></svg>',ticket:'<svg aria-label="Ticket" focusable="false" data-prefix="far" data-icon="ticket-alt" class="svg-inline--fa fa-ticket-alt fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M400 208v96H176v-96h224m24-48H152c-13.255 0-24 10.745-24 24v144c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V184c0-13.255-10.745-24-24-24zm144 56h8V112c0-26.51-21.49-48-48-48H48C21.49 64 0 85.49 0 112v104h8c22.091 0 40 17.909 40 40s-17.909 40-40 40H0v104c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V296h-8c-22.091 0-40-17.909-40-40s17.909-40 40-40zm-40-38.372c-28.47 14.59-48 44.243-48 78.372s19.53 63.782 48 78.372V400H48v-65.628c28.471-14.59 48-44.243 48-78.372s-19.529-63.782-48-78.372V112h480v65.628z"></path></svg>',user:'<svg aria-label="Hosts" focusable="false" data-prefix="far" data-icon="users" class="svg-inline--fa fa-users fa-w-20" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M544 224c44.2 0 80-35.8 80-80s-35.8-80-80-80-80 35.8-80 80 35.8 80 80 80zm0-112c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zM96 224c44.2 0 80-35.8 80-80s-35.8-80-80-80-80 35.8-80 80 35.8 80 80 80zm0-112c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm396.4 210.9c-27.5-40.8-80.7-56-127.8-41.7-14.2 4.3-29.1 6.7-44.7 6.7s-30.5-2.4-44.7-6.7c-47.1-14.3-100.3.8-127.8 41.7-12.4 18.4-19.6 40.5-19.6 64.3V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-44.8c.2-23.8-7-45.9-19.4-64.3zM464 432H176v-44.8c0-36.4 29.2-66.2 65.4-67.2 25.5 10.6 51.9 16 78.6 16 26.7 0 53.1-5.4 78.6-16 36.2 1 65.4 30.7 65.4 67.2V432zm92-176h-24c-17.3 0-33.4 5.3-46.8 14.3 13.4 10.1 25.2 22.2 34.4 36.2 3.9-1.4 8-2.5 12.3-2.5h24c19.8 0 36 16.2 36 36 0 13.2 10.8 24 24 24s24-10.8 24-24c.1-46.3-37.6-84-83.9-84zm-236 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm0-176c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM154.8 270.3c-13.4-9-29.5-14.3-46.8-14.3H84c-46.3 0-84 37.7-84 84 0 13.2 10.8 24 24 24s24-10.8 24-24c0-19.8 16.2-36 36-36h24c4.4 0 8.5 1.1 12.3 2.5 9.3-14 21.1-26.1 34.5-36.2z"></path></svg>',wifi:'<svg aria-label="Online" focusable="false" data-prefix="far" data-icon="wifi" class="svg-inline--fa fa-wifi fa-w-20" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M320 368c17.64 0 32 14.36 32 32s-14.36 32-32 32-32-14.36-32-32 14.35-32 32-32m0-48c-44.18 0-80 35.82-80 80s35.82 80 80 80 80-35.82 80-80-35.82-80-80-80zm204.69-31.83c4.62-4.87 4.38-12.64-.59-17.15-115.74-105.32-292.41-105.38-408.22 0-4.96 4.51-5.2 12.28-.59 17.15l16.47 17.37c4.46 4.71 11.81 4.95 16.62.6 97.44-88.13 245.68-88.21 343.22 0 4.81 4.35 12.16 4.1 16.62-.6l16.47-17.37zm111.42-133.98C457.86-8.86 181.84-8.59 3.89 154.19c-4.94 4.52-5.22 12.14-.57 16.95l16.6 17.18c4.52 4.68 12.01 4.93 16.81.54 159.59-145.79 406.82-145.91 566.54 0 4.81 4.39 12.29 4.13 16.81-.54l16.6-17.18c4.65-4.81 4.37-12.44-.57-16.95z"></path></svg>',website:'<svg aria-label="Host\'s Website" focusable="false" data-prefix="far" data-icon="link" class="svg-inline--fa fa-link fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M314.222 197.78c51.091 51.091 54.377 132.287 9.75 187.16-6.242 7.73-2.784 3.865-84.94 86.02-54.696 54.696-143.266 54.745-197.99 0-54.711-54.69-54.734-143.255 0-197.99 32.773-32.773 51.835-51.899 63.409-63.457 7.463-7.452 20.331-2.354 20.486 8.192a173.31 173.31 0 0 0 4.746 37.828c.966 4.029-.272 8.269-3.202 11.198L80.632 312.57c-32.755 32.775-32.887 85.892 0 118.8 32.775 32.755 85.892 32.887 118.8 0l75.19-75.2c32.718-32.725 32.777-86.013 0-118.79a83.722 83.722 0 0 0-22.814-16.229c-4.623-2.233-7.182-7.25-6.561-12.346 1.356-11.122 6.296-21.885 14.815-30.405l4.375-4.375c3.625-3.626 9.177-4.594 13.76-2.294 12.999 6.524 25.187 15.211 36.025 26.049zM470.958 41.04c-54.724-54.745-143.294-54.696-197.99 0-82.156 82.156-78.698 78.29-84.94 86.02-44.627 54.873-41.341 136.069 9.75 187.16 10.838 10.838 23.026 19.525 36.025 26.049 4.582 2.3 10.134 1.331 13.76-2.294l4.375-4.375c8.52-8.519 13.459-19.283 14.815-30.405.621-5.096-1.938-10.113-6.561-12.346a83.706 83.706 0 0 1-22.814-16.229c-32.777-32.777-32.718-86.065 0-118.79l75.19-75.2c32.908-32.887 86.025-32.755 118.8 0 32.887 32.908 32.755 86.025 0 118.8l-45.848 45.84c-2.93 2.929-4.168 7.169-3.202 11.198a173.31 173.31 0 0 1 4.746 37.828c.155 10.546 13.023 15.644 20.486 8.192 11.574-11.558 30.636-30.684 63.409-63.457 54.733-54.735 54.71-143.3-.001-197.991z"></path></svg>',linkedin:'<svg aria-label="Host\'s Linkedin" focusable="false" data-prefix="fab" data-icon="linkedin-in" class="svg-inline--fa fa-linkedin-in fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg>',twitter:'<svg aria-label="Host\'s Twitter" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg>',book:'<svg aria-label="Book Event" focusable="false" data-prefix="far" data-icon="user-check" class="svg-inline--fa fa-user-check fa-w-20" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M637 161.1l-19.1-19.2c-4-4.1-10.6-4.1-14.6 0L500.2 245.6l-47.4-47.7c-4-4.1-10.6-4.1-14.6 0L419 217.1c-4 4.1-4 10.6 0 14.7l73.8 74.3c4 4.1 10.6 4.1 14.6 0L637 175.8c4-4 4-10.6 0-14.7zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96zm89.6 256c-28.8 0-42.4 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464z"></path></svg>',info:'<svg aria-label="More Information" focusable="false" data-prefix="far" data-icon="info-circle" class="svg-inline--fa fa-info-circle fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm0-338c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"></path></svg>'};angular.module("GeckoEngage").directive("eventsEmbedIcon",function(){return{restrict:"E",scope:{icon:"@"},controllerAs:"ctrl",controller:"eventsEmbedIconCtrl",template:'<span class="gecko-events-embed-icon" gecko-bind-html="ctrl.svg"></span>'}}).controller("eventsEmbedIconCtrl",function($scope){this.svg=icons[$scope.icon]})}(),function(){"use strict";angular.module("GeckoEngage").directive("eventsEmbedLoading",function(){return{restrict:"E",scope:{eventId:"="},controllerAs:"ctrl",controller:"eventsEmbedLoadingCtrl",template:'\n                <div class="gecko-events-embed-loading">\n                   <div ng-repeat="item in ctrl.items track by $index">\n                        <div class="gecko-events-embed-loading-item">\n                            <div class="gecko-events-embed-animated-bg">  \n                                <div class="horizontal-masker-spacer"></div>\n                                <div>\n                                    <div class="horizontal-masker horizontal-masker-1"></div>\n                                    <div class="vertical-masker vertical-1"></div>\n                                    <div class="horizontal-masker horizontal-masker-2"></div>\n                                    <div class="vertical-masker vertical-2"></div>\n                                    <div class="horizontal-masker horizontal-masker-3"></div>\n                                    <div class="vertical-masker vertical-3"></div>\n                                    <div class="horizontal-masker horizontal-masker-4"></div>\n                                    <div class="vertical-masker vertical-4"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            '}}).controller("eventsEmbedLoadingCtrl",function(){this.items=[1,2,3,4,5]})}(),function(){"use strict";angular.module("GeckoEngage").directive("eventsEmbedPagination",function(){return{restrict:"E",scope:{pagination:"=",handler:"="},controllerAs:"ctrl",controller:"eventsEmbedPaginationCtrl",template:'\n                <div class="clearfix" ng-if="ctrl.last_page > 1">\n\n                    <a \n                        class="gecko-events-embed-pagination-left" \n                        ng-if="ctrl.current_page > 1" \n                        href="" \n                        ng-click="ctrl.prev($event)" \n                        aria-label="Previous page"\n                        tabindex="0"\n                        role="button"\n                        ng-keydown="ctrl.handleKeyDown($event, true, ctrl.prev, [$event])"\n                        >\n                        <events-embed-icon icon="angle-double-left"></events-embed-icon>\n                    </a>\n\n                    <span class="gecko-events-embed-counter">\n                        {{ ctrl.current_page }} of {{ ctrl.last_page }}\n                    </span>\n\n                    <a \n                        class="gecko-events-embed-pagination-right" \n                        ng-if="ctrl.current_page < ctrl.pagination.last_page" \n                        href="" \n                        ng-click="ctrl.next($event)" \n                        aria-label="Next page"\n                        tabindex="0"\n                        role="button"\n                        ng-keydown="ctrl.handleKeyDown($event, true, ctrl.next, [$event])"\n                        >\n                        <events-embed-icon icon="angle-double-right"></events-embed-icon>\n                    </a>\n\n                </div>\n            '}}).controller("eventsEmbedPaginationCtrl",function($scope,$rootScope,eventsEmbedService){var ctrl=this;ctrl.pagination=$scope.pagination,ctrl.handler=$scope.handler,ctrl.current_page=ctrl.pagination.current_page,ctrl.last_page=ctrl.pagination.last_page,ctrl.handleKeyDown=eventsEmbedService.handleKeyDown,ctrl.next=function($event){$event.preventDefault(),ctrl.handler(ctrl.current_page+1)},ctrl.prev=function($event){$event.preventDefault(),ctrl.handler(ctrl.current_page-1)}})}(),function(){"use strict";var cachedEvents=null;angular.module("GeckoEngage").factory("eventsEmbedService",function($rootScope,getEnvParamFromUrl,requestService,portalRequestService){var _this={inited:!1,uuid:null,loading:!1,catId:null,event:null,eventId:null,isSingle:null,toDate:null,fromDate:null,keyword:null,initEmbededVersion:function(embedUrl){var envParamFromUrl=(envParamFromUrl=getEnvParamFromUrl(embedUrl))&&["prod","stage","local"].includes(envParamFromUrl)?envParamFromUrl:embedUrl.includes("app-stage.")&&embedUrl.includes(".com")?"stage":embedUrl.includes("localhost:")?"local":"prod";"local"===envParamFromUrl?(requestService.base=function(){return"http://localhost:8000"},portalRequestService.base=function(){return""}):"stage"===envParamFromUrl?(requestService.base=function(){return"https://api-stage.geckoform.com"},portalRequestService.base=function(){return"https://"+Gecko.account.short_name+".api-stage.geckoengage.com"}):(requestService.base=function(){return"https://api.geckoform.com"},portalRequestService.base=function(){return"https://"+Gecko.account.short_name+".api.geckoengage.com"})},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},setDeepLink:function(key,value){var searchParams;!_this.hosted&&history.pushState?(searchParams=new URLSearchParams(window.location.search),value?searchParams.set(key,value):searchParams.delete(key),value=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+searchParams.toString(),window.history.pushState({path:value},"",value)):_this.hosted&&window.history.pushState({},"")},removeLoading:function(){var element=document.getElementById("gecko-events-embed-script-loading");element&&element.parentNode.removeChild(element),_this.loading=!1},scroll:function(){var element;_this.inited&&((element=document.getElementById("gecko-events-embed-script-container"))?window.pageYOffset>element.offsetTop&&window.scrollTo(0,element.offsetTop):window.scrollTo(0,0))},getAccountShortName:function(uuid){return(window.Gecko||{}).account&&window.Gecko.account.short_name?Promise.resolve():requestService.get("/forms/"+uuid,{include:"account",form_rfields:"name",account_rfields:"short_name"}).then(function(res){(window.Gecko||{}).account?window.Gecko.account=Object.assign(window.Gecko.account,res.form.account):window.Gecko={account:res.form.account}})},prepareEventObj:function(event){return{id:event.id,auto_waitlist:event.autoWaitlist,description:event.description||null,delivery_method:event.deliveryMethod,end_datetime:event.endDate,full:event.full,image:event.image,registration_type:event.registrationType||null,start_datetime:event.startDate,title:event.name,timezone:event.timezone||null}},prepareEventsData:function(events){var page=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,perPage=2<arguments.length&&void 0!==arguments[2]?arguments[2]:10,startDate=arguments[3],endDate=arguments[4],keyword=arguments[5],events=events.filter(function(e){return!(e.full&&!e.autoWaitlist)}),lower=((startDate||endDate)&&(events=events.filter(function(e){var afterCheck=e.startDate>=startDate,e=e.endDate<=endDate;return startDate&&endDate?afterCheck&&e:startDate&&!endDate?afterCheck:!startDate&&endDate?e:void 0})),perPage*(page-1));return{data:(events=(events=keyword?events.filter(function(e){return(e.name||"").toLowerCase().includes(keyword.toLowerCase())}):events).map(_this.prepareEventObj)).slice(lower,perPage*page),current_page:page,last_page:Math.ceil(events.length/perPage),per_page:perPage,total:events.length}},getAll:function(uuid,catId,page,startDate,endDate,keyword){return cachedEvents?Promise.resolve(_this.prepareEventsData(cachedEvents,page,10,startDate,endDate,keyword)):_this.getAccountShortName(uuid).then(function(){var params={closed:"no",status:"active",orderBy:"startDate,name",perPage:1e4,page:1};return catId&&(params.categoryId=catId),portalRequestService.get("/events",params).then(function(res){return cachedEvents=res.data,_this.prepareEventsData(res.data,page,10,startDate,endDate,keyword)})}).catch(function(err){cachedEvents=null})},getById:function(uuid,eventId){return requestService.get("/events/public/"+uuid+"/"+eventId,{event_rfields:"color,description,end_datetime,full,image,registration_type,start_datetime,timezone,title,delivery_method",host_rfields:"",location_rfields:"",include:"location,hosts"})},loadSingle:function(id){return _this.loading=!0,_this.getById(_this.uuid,id).then(function(data){return _this.event=data.event,_this.removeLoading(),_this.isSingle||_this.setDeepLink("gecko_events_embed_"+_this.uuid+"_event_id",_this.event.id),$rootScope.$digest(),data}).catch(function(err){return _this.event=null,_this.removeLoading(),$rootScope.$digest(),err})},loadList:function(page,startDate,endDate,keyword){return _this.loading=!0,_this.getAll(_this.uuid,_this.catId,page,startDate,endDate,keyword).then(function(res){return{events:res.data,pagination:res}}).then(function(data){return _this.event=null,_this.removeLoading(),$rootScope.$digest(),data}).catch(function(err){return _this.event=null,_this.removeLoading(),$rootScope.$digest(),err})},date:{timeFormat:function(){return"g:i A"===_this.timeFormat?"h:mm A":"H:mm"},year:function(date){return moment.utc(date,"YYYY-MM-DD HH:mm:ss").format("YYYY")},month:function(date){return moment.utc(date,"YYYY-MM-DD HH:mm:ss").format("MMM")},day:function(date){return moment.utc(date,"YYYY-MM-DD HH:mm:ss").format("DD")},dayMonthYear:function(date){return moment.utc(date,"YYYY-MM-DD HH:mm:ss").format("DD MMM YYYY")},hour:function(date){return moment.utc(date,"YYYY-MM-DD HH:mm:ss").format("HH")},minute:function(date){return moment.utc(date,"YYYY-MM-DD HH:mm:ss").format("mm")},hourMinute:function(date){return moment.utc(date,"YYYY-MM-DD HH:mm:ss").format(_this.date.timeFormat())},dayDateMonth:function(date){return moment.utc(date,"YYYY-MM-DD HH:mm:ss").format("ddd D MMM")},dayMonthDateYear:function(date){return moment.utc(date,"YYYY-MM-DD HH:mm:ss").format("dddd MMMM Do YYYY")}},renderDate:function(event){var formatter=_this.date;return formatter.dayMonthYear(event.start_datetime)!==formatter.dayMonthYear(event.end_datetime)?formatter.dayMonthDateYear(event.start_datetime)+" to "+formatter.dayMonthDateYear(event.end_datetime):""+formatter.dayMonthDateYear(event.start_datetime)},renderTimes:function(event){var formatter=_this.date;return formatter.hourMinute(event.start_datetime)+" - "+formatter.hourMinute(event.end_datetime)},isVenueEvent:function(event){return"venue"===event.delivery_method},isOnlineEvent:function(event){return"online"===event.delivery_method},isHybridEvent:function(event){return"hybrid"===event.delivery_method},handleKeyDown:function(event,is_button,fn,params){var interactKeys=[13];is_button&&interactKeys.push(32),interactKeys.includes(event.keyCode)&&(event.preventDefault(),fn.apply(void 0,_toConsumableArray(params)))}};return _this})}(),function(){"use strict";angular.module("GeckoEngage").controller("preferredLanguageFieldCtrl",function($scope,geckoTranslateService,isMobileDevice){geckoTranslateService.prepare($scope),$scope.shouldBeChosen=!isMobileDevice();var ctrl=this;ctrl.field=$scope.field,ctrl.value=$scope.value,ctrl.options=geckoTranslateService.prepareCustomLanguageOptions(ctrl.field.values),$scope.$watch("ctrl.value",function(value,oldValue){value!==oldValue&&($scope.value=value)}),$scope.$watch("value",function(value,oldValue){value!==oldValue&&value!==ctrl.value&&(ctrl.value=value)})}).directive("preferredLanguageField",function(){return{template:'\n                <div>\n                    <select id="form_{{field.id}}" chosen="{\'width\' : \'100%\', search_contains:true}" make-chosen-accessible class="form-control" ng-model="ctrl.value" ng-options="option.value as option.label for option in ctrl.options" ng-if="shouldBeChosen">\n                        <option disabled value="">{{ctrl.field.placeholder || __(STR_KEY.INPUT.DROPDOWN)}}</option>\n                    </select>\n                    <div class="select-wrapper" ng-if="!shouldBeChosen">\n                        <select aria-label="{{ctrl.field.label}}" name="{{ctrl.field.id}}" class="form-control" ng-model="ctrl.value" ng-options="option.value as option.label for option in ctrl.options">\n                            <option value="" disabled>{{ctrl.field.placeholder || __(STR_KEY.INPUT.DROPDOWN)}}</option>\n                        </select>\n                    </div>\n                </div>\n            ',restrict:"E",scope:{value:"=",values:"=",field:"="},controllerAs:"ctrl",controller:"preferredLanguageFieldCtrl"}})}(),function(){"use strict";angular.module("GeckoEngage").controller("repeatableCompactFieldCtrl",function($scope,geckoTranslateService,$element,$timeout,updateModalPos,updateIframeHeight){var ctrl=this;geckoTranslateService.prepare($scope),ctrl.field=$scope.field,ctrl._value=$scope.value||[],ctrl.structure=ctrl.field.sub_fields,ctrl.rowIndex=null,ctrl.renderFirstValue=function(row){return(row[0]&&ctrl.structure[0]&&"date"===ctrl.structure[0].type?moment(row[0],"X").format("DD MMM YYYY"):row[0])||""},ctrl.renderSecondValue=function(row){return(row[1]&&ctrl.structure[1]&&"date"===ctrl.structure[1].type?moment(row[1],"X").format("DD MMM YYYY"):row[1])||""},ctrl.renderSeperator=function(row){return row[0]&&row[1]?", ":""},ctrl.buildValue=function(row,rowIndex){return void 0!==rowIndex?ctrl._value.map(function(v,index){return rowIndex===index?row:v}):ctrl._value.concat([row])},ctrl.buildRow=function(){return ctrl.structure.map(function(s){return""})},ctrl.updateValue=function(value){ctrl._value=value,$timeout(function(){return $scope.updateFn(ctrl.field.id,ctrl._value)},300)},ctrl.utils={updateValue:ctrl.updateValue,buildValue:ctrl.buildValue,buildRow:ctrl.buildRow,modal:{isOpen:!1,open:function(){ctrl.utils.modal.isOpen=!0,$timeout(function(){return $element.find(".modal").modal("show")}),updateModalPos()},close:function(){ctrl.utils.modal.isOpen=!1,$timeout(function(){$element.find(".modal").modal("hide"),ctrl.utils.modal.focusTarget()})},target:null,setTarget:function(evt){ctrl.utils.modal.target=evt.target},focusTarget:function(){ctrl.utils.modal.target&&(ctrl.utils.modal.target.focus(),ctrl.utils.modal.target=null)}}},ctrl.addRow=function(){ctrl.field.max_length&&$scope.value&&$scope.value&&$scope.value.length>=Number(ctrl.field.max_length)?GeckoUI.messenger.error($scope.__($scope.STR_KEY.ALERT.NO_MORE_ENTRIES_ALLOWED)):ctrl.openModal(null)},ctrl.editRow=function(rowIndex){return ctrl.openModal(rowIndex)},ctrl.removeRow=function(rowIndex){return ctrl._value.splice(rowIndex,1)},ctrl.openModal=function(index){ctrl.rowIndex=index,ctrl.utils.modal.open()}}).directive("repeatableCompactField",function(){return{template:'\n                <div class="repeatable-compact repeatable-compact-true">\n                    <div ng-repeat="row in ctrl._value track by $index" style="padding:10px 0; border-bottom: 1px solid #D6DCE3;">\n                        <p style="line-height: 35px; margin: 0px;">\n\n                            {{ctrl.renderFirstValue(row)}}\n                            {{ctrl.renderSeperator(row)}}\n                            {{ctrl.renderSecondValue(row)}}\n\n                            <span class="pull-right">\n                                <button \n                                    role="button"\n                                    aria-label="{{ __(STR_KEY.BUTTON.EDIT) }}"\n                                    type="button" \n                                    class="btn btn-default gecko-btn" \n                                    ng-click="ctrl.editRow($index);ctrl.utils.modal.setTarget($event)"\n                                    style="margin-right: 10px;">\n                                        <i class="fa fa-pencil" />\n                                        <span class="sr-only">\n                                            {{ __(STR_KEY.BUTTON.EDIT) }}\n                                        </span>\n                                </button>\n                                <button  \n                                    role="button"\n                                    aria-label="{{ __(STR_KEY.BUTTON.REMOVE) }}"\n                                    type="button"\n                                    class="btn btn-danger gecko-btn" \n                                    ng-click="ctrl.removeRow($index)">\n                                        <i class="fa fa-trash-alt" />\n                                        <span class="sr-only">\n                                            {{ __(STR_KEY.BUTTON.REMOVE) }}\n                                        </span>\n                                </button>\n                            </span>\n                        </p>\n                        <div style="clear: both;"></div>\n                    </div>\n                    <p class="text-muted text-right" style="line-height:34px; margin-top: 20px;">\n                        <button type="button" class="btn gecko-btn btn-default" ng-click="ctrl.addRow();ctrl.utils.modal.setTarget($event)">\n                            <i class="fa fa-plus" />\n                            {{ __(STR_KEY.BUTTON.ADD) }}\n                        </button>\n                    </p>\n                </div>\n\n                <div ng-if="ctrl.utils.modal.isOpen">\n                    <repeatable-compact-field-modal\n                        field="ctrl.field"\n                        structure="ctrl.structure"\n                        value="ctrl._value"\n                        row-index="ctrl.rowIndex"\n                        utils="ctrl.utils">\n                    </repeatable-compact-field-modal>\n                </div>\n            ',restrict:"E",scope:{value:"=",field:"=",updateFn:"="},controllerAs:"ctrl",controller:"repeatableCompactFieldCtrl"}})}(),function(){"use strict";angular.module("GeckoEngage").controller("repeatableCompactFieldModalCtrl",function($scope,geckoTranslateService,$element,updateModalPos,updateIframeHeight){var ctrl=this;geckoTranslateService.prepare($scope),ctrl.field=$scope.field,ctrl._value=$scope.value||[],ctrl.structure=$scope.structure||[],ctrl.utils=$scope.utils,ctrl.rowIndex=$scope.rowIndex,ctrl.isNew=null===ctrl.rowIndex,ctrl.isNew?ctrl.row=ctrl.utils.buildRow():ctrl.row=$scope.value[ctrl.rowIndex],ctrl.update=function(){ctrl.utils.modal.close(),ctrl.row.filter(function(v){return""!==v}).length&&(ctrl.isNew?ctrl.utils.updateValue(ctrl.utils.buildValue(ctrl.row)):ctrl.utils.updateValue(ctrl.utils.buildValue(ctrl.row,ctrl.rowIndex)))},$element.find(".modal").on("hidden.bs.modal",function(e){ctrl.utils.modal.close()})}).directive("repeatableCompactFieldModal",function(){return{template:'\n                <div class="modal fade" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="form_{{field.id}}_repeatable_modal_title" trap-modal-focus>\n                    <div class="modal-dialog">\n                        <div class="modal-content">\n                            <div class="modal-header">\n                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                    <i class="gecko-icon fa fa-times"></i>\n                                </button>\n                                <h1 id="form_{{field.id}}_repeatable_modal_title" class="modal-title">{{ctrl.field.label}}</h1>\n                            </div>\n                            <div class="modal-body">\n                                \n                                <div class="form-horizontal" role="form">\n                                    <div class="form-group" ng-repeat="(c, field) in ctrl.structure | orderBy:order track by $index">\n                                        <label \n                                            for="repeatable_modal_input_{{$index}}" \n                                            class="col-sm-4 control-label">\n                                                {{field.label}}\n                                        </label>\n                                        <div>\n                                            <div class="col-sm-8" ng-if="field.type === \'text\'">\n                                                <input \n                                                    id="repeatable_modal_input_{{$index}}"\n                                                    class="form-control" \n                                                    type="text" \n                                                    ng-model="ctrl.row[c]" />\n                                                <p class="help-block">{{field.help_text}}</p> \n                                            </div>\n                                            <div class="col-sm-8" ng-if="field.type === \'date\'">\n                                                <input \n                                                    id="repeatable_modal_input_{{$index}}"\n                                                    class="form-control" \n                                                    type="text" \n                                                    date-field-input-calendar\n                                                    ng-model="ctrl.row[c]" />\n                                                <p class="help-block">{{field.help_text}}</p> \n                                            </div>\n                                            <div class="col-sm-8" ng-if="field.type === \'select\'">\n                                                <select \n                                                    id="repeatable_modal_input_{{$index}}"\n                                                    chosen="{\'width\' : \'100%\'}" \n                                                    name="" \n                                                    class="form-control" \n                                                    ng-model="ctrl.row[c]" \n                                                    ng-options="option.value as option.value for option in field.option.values" \n                                                    ng-if="shouldBeChosen()">\n                                                        <option value="">\n                                                            {{ __(STR_KEY.INPUT.DROPDOWN) }}\n                                                        </option>\n                                                </select>\n                                                <select \n                                                    id="repeatable_modal_input_{{$index}}"\n                                                    name="" \n                                                    class="form-control" \n                                                    ng-model="ctrl.row[c]" \n                                                    ng-options="option.value as option.value for option in field.option.values" \n                                                    ng-if="!shouldBeChosen()">\n                                                        <option value="">\n                                                            {{ __(STR_KEY.INPUT.DROPDOWN) }}\n                                                        </option>\n                                                </select>                        \n                                                <p class="help-block">{{field.help_text}}</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                            </div>\n\n                            <div class="modal-footer clearfix">\n                                <button \n                                    role="button"\n                                    aria-label="{{editing ? __(STR_KEY.BUTTON.SAVE) : __(STR_KEY.BUTTON.ADD)}}"\n                                    type="button" \n                                    class="btn btn-primary gecko-btn pull-right" \n                                    ng-click="ctrl.update()">\n                                        <i class="fa fa-plus"></i>\n                                        {{editing ? __(STR_KEY.BUTTON.SAVE) : __(STR_KEY.BUTTON.ADD)}}\n                                </button>\n                            </div>\n\n                        </div>\n                    </div>\n                </div>\n            ',restrict:"E",scope:{value:"=",field:"=",structure:"=",rowIndex:"=",utils:"="},controllerAs:"ctrl",controller:"repeatableCompactFieldModalCtrl"}})}(),function(){"use strict";angular.module("GeckoEngage").controller("repeatableTableFieldCtrl",function($scope,geckoTranslateService){var ctrl=this;geckoTranslateService.prepare($scope),ctrl.field=$scope.field,ctrl.structure=ctrl.field.sub_fields,$scope.value=[(ctrl.structure||[]).map(function(col){return""})],ctrl.addRow=function(){ctrl.field.max_length&&$scope.value&&$scope.value&&$scope.value.length>=Number(ctrl.field.max_length)?GeckoUI.messenger.error($scope.__($scope.STR_KEY.ALERT.NO_MORE_ENTRIES_ALLOWED)):$scope.value=$scope.value.concat([(ctrl.structure||[]).map(function(col){return""})])},ctrl.removeRow=function(rowIndex){return $scope.value.splice(rowIndex,1)}}).directive("repeatableTableField",function(){return{template:'\n                <div class="repeatable-compact repeatable-table-true">\n                    \n                    <div class="table-responsive" style="border:none;"> \n                        <table class="table table-bordered table-striped">\n                            <thead>\n                                <tr>\n                                    <th class="text-center" ng-repeat="col in ctrl.structure track by $index | orderBy:order">{{col.label}}</th>\n                                    <th width="50">\n                                        <span class="sr-only">\n                                            {{ __(STR_KEY.BUTTON.REMOVE) }}\n                                        </span>\n                                    </th>\n                                </tr>\n                            </thead>\n\n                            <tbody>\n                                <tr ng-repeat="(i, val) in value">\n                                    <td class="text-center" ng-repeat="(c, col) in ctrl.structure track by c | orderBy:order">\n\n                                        <div ng-switch="col.type">\n                                            <div ng-switch-when="text">\n                                                <input \n                                                    aria-label="{{col.label}}"\n                                                    class="form-control" \n                                                    type="text" \n                                                    ng-model="val[c]"\n                                                    ng-change="ctrl.updateValue()" />\n                                                <p class="text-left help-block">{{col.help_text}}</p>\n                                            </div>\n                                            <div ng-switch-when="date"> \n                                                \n                                                <input\n                                                    aria-label="{{col.label}}"\n                                                    class="form-control" \n                                                    type="text" \n                                                    date-field-input-calendar \n                                                    ng-model="val[c]" />\n                                                <p class="text-left help-block">{{col.help_text}}</p>\n                                            </div>\n                                            <div ng-switch-when="select">\n                                                <select \n                                                    aria-label="{{col.label}}"\n                                                    name="" \n                                                    class="form-control" \n                                                    ng-model="val[c]" \n                                                    ng-options="option.value as option.value for option in col.option.values" \n                                                    ng-if="shouldBeChosen()">\n                                                        <option value="">\n                                                            {{ __(STR_KEY.INPUT.DROPDOWN) }}\n                                                        </option>\n                                                </select>\n                                                <select \n                                                    aria-label="{{col.label}}"\n                                                    name="" \n                                                    class="form-control" \n                                                    ng-model="val[c]" \n                                                    ng-options="option.value as option.value for option in col.option.values" \n                                                    ng-if="!shouldBeChosen()">\n                                                        <option value="">\n                                                            {{ __(STR_KEY.INPUT.DROPDOWN) }}\n                                                        </option>\n                                                </select>\n                                                <p class="text-left help-block">{{col.help_text}}</p>\n                                            </div>\n                                        </div>\n                                    </td>\n                                    <td class="text-center" width="50">\n                                        <button \n                                            role="button"\n                                            aria-label="{{ __(STR_KEY.BUTTON.REMOVE) }}" \n                                            class="btn btn-danger gecko-btn" \n                                            ng-click="ctrl.removeRow($index)">\n                                                <i class="fa fa-trash-alt" />\n                                                <span class="sr-only">\n                                                    {{ __(STR_KEY.BUTTON.REMOVE) }}\n                                                </span>\n                                        </button>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n\n                    <p class="text-muted text-right" style="line-height:34px; margin-top: 20px;">\n                        <button \n                            role="button"\n                            aria-label="{{ __(STR_KEY.BUTTON.ADD) }}"\n                            type="button" \n                            class="btn btn-primary repeatable-btn-add-row gecko-btn" \n                            ng-click="ctrl.addRow()">\n                                <i class="fa fa-plus" /> {{ __(STR_KEY.BUTTON.ADD) }}\n                        </button>\n                    </p>\n                </div>\n            ',restrict:"E",scope:{value:"=",field:"="},controllerAs:"ctrl",controller:"repeatableTableFieldCtrl"}})}(),function(){"use strict";angular.module("GeckoEngage").factory("apiService",function(requestService){return{category:{get:function(uuid,categoryId){return requestService.get("/categories/public/"+uuid+"/"+categoryId,{include:"events:all,events.children:all,events.children.children:all",event_rfields:"date_range,parent_id,registration_type,title,tags,available_tags,start_datetime,end_datetime,timezone,full,available_spaces,auto_waitlist,cost,location,maximum,maximum_guests",event_closed:0,event_status:"available",order_by:"start_datetime|ASC,title|ASC",counts:"attendances"})}},consent:{get:function(uuid){return requestService.get("/consents/public/"+uuid,{consent_rfields:"title,description",per_page:"all"})}},form:{get:function(uuid){return requestService.get("/forms/"+uuid+"/public").then(function(res){res=res.form;return res.related_account=res.account,delete res.account,res.related_pages=res.pages,delete res.pages,res.related_pages=res.related_pages.map(function(p){return p.related_fields=p.fields,delete p.fields,p}),res.related_conditions=res.conditions,delete res.conditions,{form:res}})}},geo:{get:function(){var params={};return-1!==window.location.href.indexOf("localhost")&&(params.ip_address="62.30.132.108"),requestService.get("/geoips/geocode",params)}},organisation:{get:function(uuid,keyword,type){var params={organisation_rfields:"title,address"};return keyword&&(params.keyword=keyword),type&&(params.organisation_type_id=type),requestService.get("/organisations/public/"+uuid,params)}}}})}(),function(){"use strict";angular.module("GeckoEngage").factory("getEnvParamFromUrl",function(){return function(url){var vars={};(url||"").replace(/[?&]+([^=&]+)=([^&]*)/gi,function(m,key,value){vars[key]=value});return vars.env}}).factory("env",function(getEnvParamFromUrl){return function(){if(window){var envParamFromUrl=getEnvParamFromUrl(window.location.href);if(envParamFromUrl&&["prod","stage","local"].includes(envParamFromUrl))return envParamFromUrl;envParamFromUrl=window.location.host;if(envParamFromUrl.includes("app-stage.")&&envParamFromUrl.includes(".com"))return"stage";if(envParamFromUrl.includes("localhost:"))return"local"}return"prod"}})}(),function(){"use strict";var testProtocol=/^.*:\/\//,conditionIsValid=function(condition){return condition.field_id&&(condition.value||[]).length&&condition.success_url};angular.module("GeckoEngage").factory("formSuccessRedirectService",function(){return function(form,values){var matches=(form.success_url_conditions||[]).filter(conditionIsValid).map(function(c){return c.value=(c.value||[]).map(function(v){return String(v).toLowerCase()}),c}).filter(function(c){var fieldValue=values["field"+c.field_id]?String(values["field"+c.field_id]).toLowerCase():null;return c.value.includes(fieldValue)}),matches=(matches.length?matches[0]:form).success_url;return matches&&(window.top.location.href=(form=matches,testProtocol.test(form)?form:"http://"+form)),!!matches}})}();_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(){"use strict";angular.module("GeckoEngage").factory("formValidationService",function(){var _this={fieldTypeError:{address:function(field,value){if(["street_address","city","country","postal_code"].filter(function(prop){return!(value||{})[prop]}).length)return["Please fill out the address field. All address fields are required.","The "+field.label+" field is not formatted correctly."]},date:function(field,value){var end;if((field.min_length||field.max_length)&&(field.min_length&&Number(value)<field.min_length||field.max_length&&Number(value)>field.max_length))return value=field.min_length?moment.utc(field.min_length,"X").format("DD/MM/YYYY"):"",end=field.max_length?moment.utc(field.max_length,"X").format("DD/MM/YYYY"):"",value&&end?["The "+field.label+" field must be between "+value+" and "+end]:value&&!end?["The "+field.label+" field must be after "+value]:!value&&end?["The "+field.label+" field must be before "+end]:void 0},email:function(field,value){function checkFn(value){return/[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?/.test(value)}return Array.isArray(value)?field.settings.verify_email&&value[0]!==value[1]?["The "+field.label+" field must match the confirmation email address."]:checkFn(value[0])?void 0:["The "+field.label+" must be a valid email address."]:checkFn(value)?void 0:["The "+field.label+" must be a valid email address."]},name:function(field,value){if(!(value||{}).first_name||!(value||{}).last_name)return["Please fill out both first and last name.","The "+field.label+" field is not formatted correctly."]},text:function(field,value){var min=Number(field.min_length),max=Number(field.max_length),value=String(value).length;return min&&max&&(value<min||max<value)?["The "+field.label+" must be between "+min+" and "+max+" characters."]:min&&!max&&value<min?["The "+field.label+" must be more than "+min+" characters."]:!min&&max&&max<value?["The "+field.label+" must not be more than "+max+" characters."]:void 0}},sanatizeValues:function(fields,values){return fields.reduce(function(sanitizedValues,field){var key=field.id,value=values[key],isEmptyString="string"==typeof value&&!value.length,isEmptyArray=Array.isArray(value)&&!value.length,isEmptyObj="object"===(void 0===value?"undefined":_typeof(value))&&!Object.keys(value||{}).filter(function(prop){return value[prop]}).length,isEmptyTel=!(field.type!==Gecko.Field.TYPE_TEL||(value||{}).number&&value.country_code),isEmptyRepeatable=field.type===Gecko.Field.TYPE_REPEATABLE&&Array.isArray(value)&&value.length!==value.filter(function(row){return row.length===row.filter(function(c){return c}).length}).length,isEmptyConsent=field.type===Gecko.Field.TYPE_CONSENT&&!value.filter(function(c){return c.granted}).length,field=field.type===Gecko.Field.TYPE_EVENT&&!Object.keys((value||{}).event_ids||{}).length;return sanitizedValues[key]=isEmptyString||isEmptyArray||isEmptyObj||isEmptyTel||isEmptyRepeatable||isEmptyConsent||field?null:value,sanitizedValues},{})},validate:function(fields,values){var errors={},santizedValues=_this.sanatizeValues(fields,values);return fields.forEach(function(field){var error,value=santizedValues[field.id];if(value){switch(field.type){case Gecko.Field.TYPE_ADDRESS:error=_this.fieldTypeError.address(field,value);break;case Gecko.Field.TYPE_DATE:error=_this.fieldTypeError.date(field,value);break;case Gecko.Field.TYPE_EMAIL:error=_this.fieldTypeError.email(field,value);break;case Gecko.Field.TYPE_NAME:error=_this.fieldTypeError.name(field,value);break;case Gecko.Field.TYPE_TEXT:case Gecko.Field.TYPE_TEXTAREA:error=_this.fieldTypeError.text(field,value)}error&&(errors["field"+field.id]=error)}}),fields.filter(function(field){return field.required&&null===santizedValues[field.id]}).forEach(function(field){errors["field"+field.id]=["The "+fields.find(function(f){return f.id===field.id}).label+" field is required."]}),errors}};return _this})}(),function(){"use strict";angular.module("GeckoEngage").factory("isScriptEmbed",function($routeParams){return function(){return!(!window.location.href.includes("iframe")||!$routeParams.origin)}}).factory("postMessageService",function($routeParams){return{addListener:function(cb){try{return window.addEventListener?window.addEventListener("message",cb):window.attachEvent("onmessage",cb),function(){window.removeEventListener?window.removeEventListener("message",cb):window.detachEvent("onmessage",cb)}}catch(err){}},trigger:function(data){try{window.parent.postMessage(Object.assign({uuid:$routeParams.uuid},data),decodeURI($routeParams.origin))}catch(err){}}}}).factory("updateIframeHeight",function(isScriptEmbed,postMessageService){return function(){isScriptEmbed()&&setTimeout(function(){postMessageService.trigger({formIframe:!0,height:$("body > .container-fluid").height()})},100)}}).factory("updateIframePos",function(isScriptEmbed,postMessageService){return function(offset){isScriptEmbed()&&postMessageService.trigger({formIframe:!0,scroll:!0,offset:offset||0})}}).factory("updateModalPos",function(isScriptEmbed,postMessageService){return function(){var modalListener;isScriptEmbed()&&(modalListener=postMessageService.addListener(function(evt){evt.data.scrollTop&&evt.data.iframeTop&&setTimeout(function(){var top,modal=document.querySelector(".in .modal-dialog");modal&&(top=evt.data.scrollTop-evt.data.iframeTop,modal.style.top=top+"px")},300),modalListener()}),postMessageService.trigger({getScrollPos:!0}))}})}(),function(){"use strict";var GTM_ID,GA_ID=void 0;angular.module("GeckoEngage").factory("gaService",function(utmService,isScriptEmbed){var _this={ga:{boot:function(form){return Promise.all([_this.ga.bootGa(form,1<arguments.length&&void 0!==arguments[1]?arguments[1]:null),_this.ga.bootGtm(form)]).then(function(){_this.formPageview(form)})},bootGa:function(form){var i,r,o,clientId=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return(GA_ID=form.ga_property||null)&&(i=window,form=document,o="script",r="ga",i.GoogleAnalyticsObject=r,i.ga=i.ga||function(){(i.ga.q=i.ga.q||[]).push(arguments)},i.ga.l=+new Date,r=form.createElement(o),form=form.getElementsByTagName(o)[0],r.async=1,r.src="https://www.google-analytics.com/analytics.js",form.parentNode.insertBefore(r,form),o={trackingId:GA_ID,cookieDomain:"auto",cookieFlags:"secure;samesite=none",name:"geckoClient"},clientId&&(o.clientId=clientId),window.ga("create",o)),Promise.resolve()},bootGtm:function(form){return(GTM_ID=form.gtm_id||null)?new Promise(function(resolve,reject){var w=window,d=document,s="script",l="dataLayer",i=GTM_ID;w[l]=w[l]||[],w[l].push({"gtm.start":(new Date).getTime(),event:"gtm.js"}),w=d.getElementsByTagName(s)[0],(l=d.createElement(s)).async=!0,l.src="https://www.googletagmanager.com/gtm.js?id="+i,w.parentNode.insertBefore(l,w),l.onload=resolve}):Promise.resolve()},triggerGaEvent:function(action,label){if(window.ga)try{window.ga("geckoClient.send",{hitType:"event",eventCategory:"Gecko",eventAction:action,eventLabel:label})}catch(err){}return Promise.resolve()},triggerGtmEvent:function(event){var data=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(window.dataLayer)try{window.dataLayer.push(Object.assign({event:event},data))}catch(err){}return Promise.resolve()}},formPageview:function(form){var triggers=[];return GA_ID&&triggers.push(function(){try{window.ga("geckoClient.send","pageview",{page:"/"+form.uuid,title:form.name})}catch(err){}return Promise.resolve()}()),Promise.all(triggers)},formSubmission:function(form){var triggers=[],event="gecko-form-submission-success";return form.ga_property&&triggers.push(_this.ga.triggerGaEvent(event,form.name+" - "+form.uuid)),form.gtm_id&&triggers.push(_this.ga.triggerGtmEvent(event,{form_name:form.name,form_internal_name:form.internal_name,form_uuid:form.uuid,form_display_method:-1!==window.location.href.indexOf("iframe")?"embedded":"hosted",response_utm_source:utmService.getUtmParam("utm_source"),response_utm_medium:utmService.getUtmParam("utm_medium"),response_utm_campaign:utmService.getUtmParam("utm_campaign"),response_utm_term:utmService.getUtmParam("utm_term"),response_utm_content:utmService.getUtmParam("utm_content")})),Promise.all(triggers)}};return _this})}(),function(){"use strict";var storage={all:function(){if(window.localStorage)return window.localStorage;for(var data={},cookies=document.cookie.split(";"),i=0;i<cookies.length;i++){var parts=cookies[i].split("=");data[parts[0].trim()]=parts[1].trim()}return data},get:function(key){return window.localStorage?localStorage.getItem(key):storage.all()[key]},set:function(key,value){window.localStorage?localStorage.setItem(key,value):document.cookie=key+"="+value+";max-age=86400;path=/"}};angular.module("GeckoEngage").factory("utmService",function($routeParams,cleanUuid){var utmParams=["utm_campaign","utm_source","utm_medium","utm_term","utm_content"],_this={getQueryParam:function(url,variable){(vars=url.split("?"))&&2==vars.length&&(vars=vars[1]);try{for(var vars=vars.split("&"),i=0;i<vars.length;i++){var pair=vars[i].split("=");if(decodeURIComponent(pair[0])==variable)return decodeURIComponent(pair[1])}}catch(e){}return!1},getUtmParam:function(param){try{var uniqueUtmKey=cleanUuid($routeParams.uuid)+"_"+param;return $routeParams[param]||(storage.get(uniqueUtmKey)?storage.get(uniqueUtmKey):null)}catch(err){return console.log(err),null}},setUtmParams:function(){try{utmParams.forEach(function(param){var uniqueUtmKey=cleanUuid($routeParams.uuid)+"_"+param;$routeParams[param]?storage.set(uniqueUtmKey,$routeParams[param]):_this.getQueryParam(document.referrer,param)&&storage.set(uniqueUtmKey,_this.getQueryParam(document.referrer,param))})}catch(err){console.log(err)}}};return _this})}(),function(){"use strict";angular.module("GeckoEngage").factory("cleanUuid",function(){return function(uuid){try{return decodeURIComponent(uuid||"").trim()}catch(err){return uuid}}})}(),function(){"use strict";angular.module("GeckoEngage").factory("requestService",function(env){var _arguments=arguments,successCodes=[200,201,202,204,206],_this={region:null,base:function(){if("local"===env())return"http://localhost:8000";if("stage"===env())return"https://api-stage.geckoform.com";if("prod"===env()&&_this.region){if("eu"===_this.region)return"https://api-eu.geckoform.com";if("us-e"===_this.region)return"https://api-us-e.geckoform.com"}return"https://api.geckoform.com"},params:function(_params){var param,str="?";for(param in _params)str+=param+"="+_params[param]+"&";return str},get:function(endpoint,params){var options=2<_arguments.length&&void 0!==_arguments[2]?_arguments[2]:{},headers={},url=_this.base()+endpoint;return params&&(url+=_this.params(params)),new Promise(function(resolve,reject){fetch(url,{method:"GET",headers:headers}).then(function(response){var resolveFunc=-1!==successCodes.indexOf(response.status)?resolve:reject;response.headers.get("gecko-region-returned-from")?_this.region=response.headers.get("gecko-region-returned-from"):!_this.region&&response.headers.get("gecko-region")&&(_this.region=response.headers.get("gecko-region")),204===response.status?resolveFunc(!0):options.raw?resolveFunc(response):response.json().then(resolveFunc)}).catch(reject)})},post:function(endpoint,params){var options=2<_arguments.length&&void 0!==_arguments[2]?_arguments[2]:{},headers={Accept:"application/json","Content-Type":"application/json"},url=_this.base()+endpoint;return new Promise(function(resolve,reject){fetch(url,{method:"POST",body:JSON.stringify(params),headers:headers}).then(function(response){var resolveFunc=successCodes.includes(response.status)?resolve:reject;204===response.status?resolveFunc(!0):options.raw?resolveFunc(response):response.json().then(resolveFunc)}).catch(reject)})}};return _this})}(),function(){"use strict";angular.module("GeckoEngage").factory("portalRequestService",function(env){var _arguments=arguments,successCodes=[200,201,202,204,206],_this={base:function(){try{return window.jwt_decode(window.TokenManager.fromLocalStorage().AccessToken).api}catch(err){}try{var _env=env();return"local"===_env?"":"stage"===_env?"https://"+Gecko.account.short_name+".api-stage.geckoengage.com":"https://"+Gecko.account.short_name+".api.geckoengage.com"}catch(err){}return""},headers:function(){var headers={"Content-Type":"application/json"};try{headers.Authorization="Bearer "+window.TokenManager.fromLocalStorage().AccessToken}catch(err){}return headers},serialize:function(){var param,params=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},str="?";for(param in params)str+=param+"="+params[param]+"&";return str},request:function(url){var config=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},options=2<_arguments.length&&void 0!==_arguments[2]?_arguments[2]:{};return new Promise(function(resolve,reject){return fetch(url,Object.assign({headers:_this.headers()},config)).then(function(response){var resolveFunc=successCodes.includes(response.status)?resolve:reject;204===response.status?resolveFunc(!0):options.raw?resolveFunc(response):response.json().then(resolveFunc)}).catch(reject)})},get:function(endpoint,params){endpoint=_this.base()+endpoint;return params&&(endpoint+=_this.serialize(params)),_this.request(endpoint,{method:"GET"})},post:function(endpoint,params){endpoint=_this.base()+endpoint;return _this.request(endpoint,{method:"POST",body:JSON.stringify(params||{})})}};return _this})}(),function(){"use strict";touchDevice=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);var touchDevice,isMobileDevice=navigator.userAgent.match(/Mac/)&&navigator.userAgent.match(/Safari/)&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints||touchDevice;angular.module("GeckoEngage").service("isMobileDevice",function(){return function(){return isMobileDevice}})}(),function(){"use strict";function updateEmbedStyles($scope,$route){function updateIframeHeight(){$route.current.params.origin&&setTimeout(function(){var data={eventIframe:!0,uuid:$route.current.params.uuid,height:$("body > .container-fluid").height()};window.parent.postMessage(data,decodeURI($route.current.params.origin))},100)}function getEmbedStyles(event){if(event.data&&event.data.styles){for(var prop in $scope.iFrameParentStyles="",event.data.styles)$scope.iFrameParentStyles+=prop+"{"+event.data.styles[prop]+"}";$scope.$digest()}}document.body.style.backgroundColor="transparent",$scope.$watch(function(){return $("body > .container-fluid").height()},updateIframeHeight),window.eventsEmbedFormHeightUpdate=updateIframeHeight,window.eventsEmbedPos=function(){$route.current.params.origin&&setTimeout(function(){var data={eventIframe:!0,uuid:$route.current.params.uuid,scroll:!0};window.parent.postMessage(data,decodeURI($route.current.params.origin))})},window.addEventListener("orientationchange",updateIframeHeight),window.addEventListener("resize",updateIframeHeight),window.addEventListener?window.addEventListener("message",getEmbedStyles):window.attachEvent("onmessage",getEmbedStyles)}angular.module("controllers").controller("EventsEmbedCtrl",["$route","$scope","$rootScope","geckoTranslateService","requestService",function($route,$scope,$rootScope,geckoTranslateService,requestService){$scope.GeckoUI=GeckoUI,$rootScope.pagetitle="Events",$route.current.params.uuid&&(requestService.get("/forms/"+$route.current.params.uuid,{include:"account",form_rfields:"name,color,logo_image,header_image,description,translation",account_rfields:"name,color,logo_image,header_image,short_name"}).then(function(res){res=res.form;geckoTranslateService.init(res.language,res.translation),geckoTranslateService.prepare($scope),Gecko.account=res.account,$scope.form=res,$scope.hideLoadingIndicator=!0,$rootScope.pagetitle=Gecko.account.name+" | Events",$scope.$digest()}),$scope.windowWidth=Math.floor(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth))}]).controller("EventsEmbedIframeCtrl",["$route","$scope","eventsEmbedService",function($route,$scope,eventsEmbedService){updateEmbedStyles($scope,$route),setTimeout(function(){$scope.form=!0,$scope.$digest()},500)}])}(),function(){"use strict";angular.module("controllers").controller("RsvpCtrl",["$route",function($route){try{var url=window.location.origin,url=(url=(url=(url+="/_/#/rsvp")+("/"+$route.current.params.account_uuid))+("/"+$route.current.params.contact_id))+("/"+$route.current.params.event_id);return window.location.href=url}catch(e){console.log(e)}}])}();